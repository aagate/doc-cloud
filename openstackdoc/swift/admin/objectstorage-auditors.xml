<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.14 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/swift/doc/source/admin/objectstorage-auditors.rst">
    <section ids="object-auditor" names="object\ auditor">
        <title>Object Auditor</title>
        <paragraph>On system failures, the XFS file system can sometimes truncate files it is
            trying to write and produce zero-byte files. The object-auditor will catch
            these problems but in the case of a system crash it is advisable to run
            an extra, less rate limited sweep, to check for these specific files.
            You can run this command as follows:</paragraph>
        <literal_block highlight_args="{}" language="console" linenos="False" xml:space="preserve">$ swift-object-auditor /path/to/object-server/config/file.conf once -z 1000</literal_block>
        <note>
            <paragraph>“-z” means to only check for zero-byte files at 1000 files per second.</paragraph>
        </note>
        <paragraph>It is useful to run the object auditor on a specific device or set of devices.
            You can run the object-auditor once as follows:</paragraph>
        <literal_block highlight_args="{}" language="console" linenos="False" xml:space="preserve">$ swift-object-auditor /path/to/object-server/config/file.conf once \
  --devices=sda,sdb</literal_block>
        <note>
            <paragraph>This will run the object auditor on only the <literal>sda</literal> and <literal>sdb</literal> devices.
                This parameter accepts a comma-separated list of values.</paragraph>
        </note>
    </section>
</document>
