<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.14 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/swift/doc/source/install/finalize-installation-ubuntu-debian.rst">
    <target refid="finalize-ubuntu-debian"></target>
    <section ids="finalize-installation-for-ubuntu-and-debian finalize-ubuntu-debian" names="finalize\ installation\ for\ ubuntu\ and\ debian finalize-ubuntu-debian">
        <title>Finalize installation for Ubuntu and Debian</title>
        <note>
            <paragraph>Default configuration files vary by distribution. You might need
                to add these sections and options rather than modifying existing
                sections and options. Also, an ellipsis (<literal>...</literal>) in the configuration
                snippets indicates potential default configuration options that you
                should retain.</paragraph>
        </note>
        <paragraph>This section applies to Ubuntu 14.04 (LTS) and Debian.</paragraph>
        <enumerated_list enumtype="arabic" prefix="" suffix=".">
            <list_item>
                <paragraph>Obtain the <literal>/etc/swift/swift.conf</literal> file from the Object
                    Storage source repository:</paragraph>
                <literal_block highlight_args="{}" language="console" linenos="False" xml:space="preserve"># curl -o /etc/swift/swift.conf \
  https://git.openstack.org/cgit/openstack/swift/plain/etc/swift.conf-sample?h=stable/pike</literal_block>
            </list_item>
            <list_item>
                <paragraph>Edit the <literal>/etc/swift/swift.conf</literal> file and complete the following
                    actions:</paragraph>
                <bullet_list bullet="*">
                    <list_item>
                        <paragraph>In the <literal>[swift-hash]</literal> section, configure the hash path prefix and
                            suffix for your environment.</paragraph>
                        <literal_block highlight_args="{}" language="none" linenos="False" xml:space="preserve">[swift-hash]
...
swift_hash_path_suffix = HASH_PATH_SUFFIX
swift_hash_path_prefix = HASH_PATH_PREFIX</literal_block>
                        <paragraph>Replace HASH_PATH_PREFIX and HASH_PATH_SUFFIX with unique values.</paragraph>
                        <warning>
                            <paragraph>Keep these values secret and do not change or lose them.</paragraph>
                        </warning>
                    </list_item>
                    <list_item>
                        <paragraph>In the <literal>[storage-policy:0]</literal> section, configure the default
                            storage policy:</paragraph>
                        <literal_block highlight_args="{}" language="none" linenos="False" xml:space="preserve">[storage-policy:0]
...
name = Policy-0
default = yes</literal_block>
                    </list_item>
                </bullet_list>
            </list_item>
            <list_item>
                <paragraph>Copy the <literal>swift.conf</literal> file to the <literal>/etc/swift</literal> directory on
                    each storage node and any additional nodes running the proxy service.</paragraph>
            </list_item>
        </enumerated_list>
        <enumerated_list enumtype="arabic" prefix="" start="4" suffix=".">
            <list_item>
                <paragraph>On all nodes, ensure proper ownership of the configuration directory:</paragraph>
                <literal_block highlight_args="{}" language="console" linenos="False" xml:space="preserve"># chown -R root:swift /etc/swift</literal_block>
            </list_item>
            <list_item>
                <paragraph>On the controller node and any other nodes running the proxy service,
                    restart the Object Storage proxy service including its dependencies:</paragraph>
                <literal_block highlight_args="{}" language="console" linenos="False" xml:space="preserve"># service memcached restart
# service swift-proxy restart</literal_block>
            </list_item>
            <list_item>
                <paragraph>On the storage nodes, start the Object Storage services:</paragraph>
                <literal_block highlight_args="{}" language="console" linenos="False" xml:space="preserve"># swift-init all start</literal_block>
                <note>
                    <paragraph>The storage node runs many Object Storage services and the
                        <literal_strong classes="command">swift-init</literal_strong> command makes them easier to manage.
                        You can ignore errors from services not running on the storage node.</paragraph>
                </note>
            </list_item>
        </enumerated_list>
    </section>
</document>
