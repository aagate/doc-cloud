<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.13.1 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/glance/doc/source/admin/requirements.rst">
    <comment xml:space="preserve">Copyright 2016-present OpenStack Foundation
All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License"); you may
not use this file except in compliance with the License. You may obtain
a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
License for the specific language governing permissions and limitations
under the License.</comment>
    <section ids="requirements" names="requirements">
        <title>Requirements</title>
        <section ids="external-requirements-affecting-glance" names="external\ requirements\ affecting\ glance">
            <title>External Requirements Affecting Glance</title>
            <paragraph>Like other OpenStack projects, Glance uses some external libraries for a subset
                of its features. Some examples include the <literal>qemu-img</literal> utility used by the
                tasks feature, <literal>sendfile</literal> to utilize the “zero-copy” way of copying data
                faster, <literal>pydev</literal> to debug using popular IDEs, <literal>python-xattr</literal> for Image Cache
                using “xattr” driver.</paragraph>
            <paragraph>On the other hand, if <literal>dnspython</literal> is installed in the environment, Glance
                provides a workaround to make it work with IPV6.</paragraph>
            <paragraph>Additionally, some libraries like <literal>xattr</literal> are not compatible when
                using Glance on Windows (see <reference internal="True" refuri="../configuration/index#configuring"><inline classes="std std-ref">the documentation on config options
                        affecting the Image Cache</inline></reference>).</paragraph>
        </section>
        <section ids="guideline-to-include-your-requirement-in-the-requirements-txt-file" names="guideline\ to\ include\ your\ requirement\ in\ the\ requirements.txt\ file">
            <title>Guideline to include your requirement in the requirements.txt file</title>
            <paragraph>As described above, we don’t include all the possible requirements needed by
                Glance features in the source tree requirements file. So, when an operator
                decides to use an <strong>advanced feature</strong> in Glance, we ask them to check the
                documentation/guidelines for those features to set up the feature in a workable
                way. In order to reduce the operator pain, the development team likes to work
                with different operators to figure out when a popular feature should have its
                dependencies included in the requirements file. However, there’s a tradeoff in
                including more of requirements in source tree as it becomes more painful for
                packagers. So, it is a bit of a haggle among different stakeholders and a
                judicious decision is taken by the project PTL or release liaison to determine
                the outcome.</paragraph>
            <paragraph>To simplify the identification of an <strong>advanced feature</strong> in Glance we can
                think of it as something not being used and deployed by most of the
                upstream/known community members.</paragraph>
            <paragraph>To name a few features that have been identified as advanced:</paragraph>
            <bullet_list bullet="*">
                <list_item>
                    <paragraph>glance tasks</paragraph>
                </list_item>
                <list_item>
                    <paragraph>image signing</paragraph>
                </list_item>
                <list_item>
                    <paragraph>image prefetcher</paragraph>
                </list_item>
                <list_item>
                    <paragraph>glance db purge utility</paragraph>
                </list_item>
                <list_item>
                    <paragraph>image locations</paragraph>
                </list_item>
            </bullet_list>
        </section>
        <section ids="steps-to-include-your-requirement-in-the-requirements-txt-file" names="steps\ to\ include\ your\ requirement\ in\ the\ requirements.txt\ file">
            <title>Steps to include your requirement in the requirements.txt file</title>
            <paragraph>1. First step is to propose a change against the <literal>openstack/requirements</literal>
                project to include the requirement(s) as a part of <literal>global-requirements</literal> and
                <literal>upper-constraints</literal> files.</paragraph>
            <paragraph>2. If your requirement is not a part of the project, you will have to propose a
                change adding that requirement to the requirements.txt file in Glance. Please
                include a <literal>Depends-On: &lt;ChangeID&gt;</literal> flag in the commit message, where the
                <literal>ChangeID</literal> is the gerrit ID of corresponding change against
                <literal>openstack/requirements</literal> project.</paragraph>
            <paragraph>3. A sync bot then syncs the global requirements into project requirements on a
                regular basis, so any updates to the requirements are synchronized on a timely
                basis.</paragraph>
        </section>
    </section>
</document>
