<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.13.1 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/glance/doc/source/contributor/api/glance.image_cache.drivers.xattr.rst">
    <section ids="module-glance.image_cache.drivers.xattr the-glance-image-cache-drivers-xattr-module" names="the\ glance.image_cache.drivers.xattr\ module">
        <title>The <reference internal="True" refid="module-glance.image_cache.drivers.xattr" reftitle="glance.image_cache.drivers.xattr"><literal classes="xref py py-mod">glance.image_cache.drivers.xattr</literal></reference> Module</title>
        <index entries="['single',\ u'glance.image_cache.drivers.xattr\ (module)',\ u'module-glance.image_cache.drivers.xattr',\ '',\ None]"></index>
        <paragraph>Cache driver that uses xattr file tags and requires a filesystem
            that has atimes set.</paragraph>
        <section ids="assumptions" names="assumptions">
            <title>Assumptions</title>
            <enumerated_list enumtype="arabic" prefix="" suffix=".">
                <list_item>
                    <paragraph>Cache data directory exists on a filesytem that updates atime on
                        reads (‘noatime’ should NOT be set)</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Cache data directory exists on a filesystem that supports xattrs.
                        This is optional, but highly recommended since it allows us to
                        present ops with useful information pertaining to the cache, like
                        human readable filenames and statistics.</paragraph>
                </list_item>
                <list_item>
                    <definition_list>
                        <definition_list_item>
                            <term><title_reference>glance-prune</title_reference> is scheduled to run as a periodic job via cron. This</term>
                            <definition>
                                <paragraph>is needed to run the LRU prune strategy to keep the cache size
                                    within the limits set by the config file.</paragraph>
                            </definition>
                        </definition_list_item>
                    </definition_list>
                </list_item>
            </enumerated_list>
        </section>
        <section ids="cache-directory-notes" names="cache\ directory\ notes">
            <title>Cache Directory Notes</title>
            <paragraph>The image cache data directory contains the main cache path, where the
                active cache entries and subdirectories for handling partial downloads
                and errored-out cache images.</paragraph>
            <paragraph>The layout looks like:</paragraph>
            <definition_list>
                <definition_list_item>
                    <term>$image_cache_dir/</term>
                    <definition>
                        <paragraph>entry1
                            entry2
                            …
                            incomplete/
                            invalid/
                            queue/</paragraph>
                    </definition>
                </definition_list_item>
            </definition_list>
            <index entries="['single',\ u'Driver\ (class\ in\ glance.image_cache.drivers.xattr)',\ u'glance.image_cache.drivers.xattr.Driver',\ '',\ None]"></index>
            <desc desctype="class" domain="py" noindex="False" objtype="class">
                <desc_signature class="" first="False" fullname="Driver" ids="glance.image_cache.drivers.xattr.Driver" module="glance.image_cache.drivers.xattr" names="glance.image_cache.drivers.xattr.Driver"><desc_annotation xml:space="preserve">class </desc_annotation><desc_addname xml:space="preserve">glance.image_cache.drivers.xattr.</desc_addname><desc_name xml:space="preserve">Driver</desc_name><comment xml:space="preserve"></comment></desc_signature>
                <desc_content>
                    <paragraph>Bases: <reference internal="True" reftitle="glance.image_cache.drivers.base.Driver" refuri="glance.image_cache.drivers.base#glance.image_cache.drivers.base.Driver"><literal classes="xref py py-class">glance.image_cache.drivers.base.Driver</literal></reference></paragraph>
                    <paragraph>Cache driver that uses xattr file tags and requires a filesystem
                        that has atimes set.</paragraph>
                    <index entries="['single',\ u'clean()\ (glance.image_cache.drivers.xattr.Driver\ method)',\ u'glance.image_cache.drivers.xattr.Driver.clean',\ '',\ None]"></index>
                    <desc desctype="method" domain="py" noindex="False" objtype="method">
                        <desc_signature class="Driver" first="False" fullname="Driver.clean" ids="glance.image_cache.drivers.xattr.Driver.clean" module="glance.image_cache.drivers.xattr" names="glance.image_cache.drivers.xattr.Driver.clean"><desc_name xml:space="preserve">clean</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">stall_time=None</desc_parameter></desc_parameterlist><comment xml:space="preserve"></comment></desc_signature>
                        <desc_content>
                            <paragraph>Delete any image files in the invalid directory and any
                                files in the incomplete directory that are older than a
                                configurable amount of time.</paragraph>
                        </desc_content>
                    </desc>
                    <index entries="['single',\ u'configure()\ (glance.image_cache.drivers.xattr.Driver\ method)',\ u'glance.image_cache.drivers.xattr.Driver.configure',\ '',\ None]"></index>
                    <desc desctype="method" domain="py" noindex="False" objtype="method">
                        <desc_signature class="Driver" first="False" fullname="Driver.configure" ids="glance.image_cache.drivers.xattr.Driver.configure" module="glance.image_cache.drivers.xattr" names="glance.image_cache.drivers.xattr.Driver.configure"><desc_name xml:space="preserve">configure</desc_name><desc_parameterlist xml:space="preserve"></desc_parameterlist><comment xml:space="preserve"></comment></desc_signature>
                        <desc_content>
                            <paragraph>Configure the driver to use the stored configuration options
                                Any store that needs special configuration should implement
                                this method. If the store was not able to successfully configure
                                itself, it should raise <title_reference>exception.BadDriverConfiguration</title_reference></paragraph>
                        </desc_content>
                    </desc>
                    <index entries="['single',\ u'delete_all_cached_images()\ (glance.image_cache.drivers.xattr.Driver\ method)',\ u'glance.image_cache.drivers.xattr.Driver.delete_all_cached_images',\ '',\ None]"></index>
                    <desc desctype="method" domain="py" noindex="False" objtype="method">
                        <desc_signature class="Driver" first="False" fullname="Driver.delete_all_cached_images" ids="glance.image_cache.drivers.xattr.Driver.delete_all_cached_images" module="glance.image_cache.drivers.xattr" names="glance.image_cache.drivers.xattr.Driver.delete_all_cached_images"><desc_name xml:space="preserve">delete_all_cached_images</desc_name><desc_parameterlist xml:space="preserve"></desc_parameterlist><comment xml:space="preserve"></comment></desc_signature>
                        <desc_content>
                            <paragraph>Removes all cached image files and any attributes about the images</paragraph>
                        </desc_content>
                    </desc>
                    <index entries="['single',\ u'delete_all_queued_images()\ (glance.image_cache.drivers.xattr.Driver\ method)',\ u'glance.image_cache.drivers.xattr.Driver.delete_all_queued_images',\ '',\ None]"></index>
                    <desc desctype="method" domain="py" noindex="False" objtype="method">
                        <desc_signature class="Driver" first="False" fullname="Driver.delete_all_queued_images" ids="glance.image_cache.drivers.xattr.Driver.delete_all_queued_images" module="glance.image_cache.drivers.xattr" names="glance.image_cache.drivers.xattr.Driver.delete_all_queued_images"><desc_name xml:space="preserve">delete_all_queued_images</desc_name><desc_parameterlist xml:space="preserve"></desc_parameterlist><comment xml:space="preserve"></comment></desc_signature>
                        <desc_content>
                            <paragraph>Removes all queued image files and any attributes about the images</paragraph>
                        </desc_content>
                    </desc>
                    <index entries="['single',\ u'delete_cached_image()\ (glance.image_cache.drivers.xattr.Driver\ method)',\ u'glance.image_cache.drivers.xattr.Driver.delete_cached_image',\ '',\ None]"></index>
                    <desc desctype="method" domain="py" noindex="False" objtype="method">
                        <desc_signature class="Driver" first="False" fullname="Driver.delete_cached_image" ids="glance.image_cache.drivers.xattr.Driver.delete_cached_image" module="glance.image_cache.drivers.xattr" names="glance.image_cache.drivers.xattr.Driver.delete_cached_image"><desc_name xml:space="preserve">delete_cached_image</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">image_id</desc_parameter></desc_parameterlist><comment xml:space="preserve"></comment></desc_signature>
                        <desc_content>
                            <paragraph>Removes a specific cached image file and any attributes about the image</paragraph>
                            <field_list>
                                <field>
                                    <field_name>Parameters</field_name>
                                    <field_body>
                                        <paragraph><literal_strong refspecific="True">image_id</literal_strong> – Image ID</paragraph>
                                    </field_body>
                                </field>
                            </field_list>
                        </desc_content>
                    </desc>
                    <index entries="['single',\ u'delete_queued_image()\ (glance.image_cache.drivers.xattr.Driver\ method)',\ u'glance.image_cache.drivers.xattr.Driver.delete_queued_image',\ '',\ None]"></index>
                    <desc desctype="method" domain="py" noindex="False" objtype="method">
                        <desc_signature class="Driver" first="False" fullname="Driver.delete_queued_image" ids="glance.image_cache.drivers.xattr.Driver.delete_queued_image" module="glance.image_cache.drivers.xattr" names="glance.image_cache.drivers.xattr.Driver.delete_queued_image"><desc_name xml:space="preserve">delete_queued_image</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">image_id</desc_parameter></desc_parameterlist><comment xml:space="preserve"></comment></desc_signature>
                        <desc_content>
                            <paragraph>Removes a specific queued image file and any attributes about the image</paragraph>
                            <field_list>
                                <field>
                                    <field_name>Parameters</field_name>
                                    <field_body>
                                        <paragraph><literal_strong refspecific="True">image_id</literal_strong> – Image ID</paragraph>
                                    </field_body>
                                </field>
                            </field_list>
                        </desc_content>
                    </desc>
                    <index entries="['single',\ u'get_cache_size()\ (glance.image_cache.drivers.xattr.Driver\ method)',\ u'glance.image_cache.drivers.xattr.Driver.get_cache_size',\ '',\ None]"></index>
                    <desc desctype="method" domain="py" noindex="False" objtype="method">
                        <desc_signature class="Driver" first="False" fullname="Driver.get_cache_size" ids="glance.image_cache.drivers.xattr.Driver.get_cache_size" module="glance.image_cache.drivers.xattr" names="glance.image_cache.drivers.xattr.Driver.get_cache_size"><desc_name xml:space="preserve">get_cache_size</desc_name><desc_parameterlist xml:space="preserve"></desc_parameterlist><comment xml:space="preserve"></comment></desc_signature>
                        <desc_content>
                            <paragraph>Returns the total size in bytes of the image cache.</paragraph>
                        </desc_content>
                    </desc>
                    <index entries="['single',\ u'get_cached_images()\ (glance.image_cache.drivers.xattr.Driver\ method)',\ u'glance.image_cache.drivers.xattr.Driver.get_cached_images',\ '',\ None]"></index>
                    <desc desctype="method" domain="py" noindex="False" objtype="method">
                        <desc_signature class="Driver" first="False" fullname="Driver.get_cached_images" ids="glance.image_cache.drivers.xattr.Driver.get_cached_images" module="glance.image_cache.drivers.xattr" names="glance.image_cache.drivers.xattr.Driver.get_cached_images"><desc_name xml:space="preserve">get_cached_images</desc_name><desc_parameterlist xml:space="preserve"></desc_parameterlist><comment xml:space="preserve"></comment></desc_signature>
                        <desc_content>
                            <paragraph>Returns a list of records about cached images.</paragraph>
                        </desc_content>
                    </desc>
                    <index entries="['single',\ u'get_hit_count()\ (glance.image_cache.drivers.xattr.Driver\ method)',\ u'glance.image_cache.drivers.xattr.Driver.get_hit_count',\ '',\ None]"></index>
                    <desc desctype="method" domain="py" noindex="False" objtype="method">
                        <desc_signature class="Driver" first="False" fullname="Driver.get_hit_count" ids="glance.image_cache.drivers.xattr.Driver.get_hit_count" module="glance.image_cache.drivers.xattr" names="glance.image_cache.drivers.xattr.Driver.get_hit_count"><desc_name xml:space="preserve">get_hit_count</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">image_id</desc_parameter></desc_parameterlist><comment xml:space="preserve"></comment></desc_signature>
                        <desc_content>
                            <paragraph>Return the number of hits that an image has.</paragraph>
                            <field_list>
                                <field>
                                    <field_name>Parameters</field_name>
                                    <field_body>
                                        <paragraph><literal_strong refspecific="True">image_id</literal_strong> – Opaque image identifier</paragraph>
                                    </field_body>
                                </field>
                            </field_list>
                        </desc_content>
                    </desc>
                    <index entries="['single',\ u'get_least_recently_accessed()\ (glance.image_cache.drivers.xattr.Driver\ method)',\ u'glance.image_cache.drivers.xattr.Driver.get_least_recently_accessed',\ '',\ None]"></index>
                    <desc desctype="method" domain="py" noindex="False" objtype="method">
                        <desc_signature class="Driver" first="False" fullname="Driver.get_least_recently_accessed" ids="glance.image_cache.drivers.xattr.Driver.get_least_recently_accessed" module="glance.image_cache.drivers.xattr" names="glance.image_cache.drivers.xattr.Driver.get_least_recently_accessed"><desc_name xml:space="preserve">get_least_recently_accessed</desc_name><desc_parameterlist xml:space="preserve"></desc_parameterlist><comment xml:space="preserve"></comment></desc_signature>
                        <desc_content>
                            <paragraph>Return a tuple containing the image_id and size of the least recently
                                accessed cached file, or None if no cached files.</paragraph>
                        </desc_content>
                    </desc>
                    <index entries="['single',\ u'get_queued_images()\ (glance.image_cache.drivers.xattr.Driver\ method)',\ u'glance.image_cache.drivers.xattr.Driver.get_queued_images',\ '',\ None]"></index>
                    <desc desctype="method" domain="py" noindex="False" objtype="method">
                        <desc_signature class="Driver" first="False" fullname="Driver.get_queued_images" ids="glance.image_cache.drivers.xattr.Driver.get_queued_images" module="glance.image_cache.drivers.xattr" names="glance.image_cache.drivers.xattr.Driver.get_queued_images"><desc_name xml:space="preserve">get_queued_images</desc_name><desc_parameterlist xml:space="preserve"></desc_parameterlist><comment xml:space="preserve"></comment></desc_signature>
                        <desc_content>
                            <paragraph>Returns a list of image IDs that are in the queue. The
                                list should be sorted by the time the image ID was inserted
                                into the queue.</paragraph>
                        </desc_content>
                    </desc>
                    <index entries="['single',\ u'is_being_cached()\ (glance.image_cache.drivers.xattr.Driver\ method)',\ u'glance.image_cache.drivers.xattr.Driver.is_being_cached',\ '',\ None]"></index>
                    <desc desctype="method" domain="py" noindex="False" objtype="method">
                        <desc_signature class="Driver" first="False" fullname="Driver.is_being_cached" ids="glance.image_cache.drivers.xattr.Driver.is_being_cached" module="glance.image_cache.drivers.xattr" names="glance.image_cache.drivers.xattr.Driver.is_being_cached"><desc_name xml:space="preserve">is_being_cached</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">image_id</desc_parameter></desc_parameterlist><comment xml:space="preserve"></comment></desc_signature>
                        <desc_content>
                            <paragraph>Returns True if the image with supplied id is currently
                                in the process of having its image file cached.</paragraph>
                            <field_list>
                                <field>
                                    <field_name>Parameters</field_name>
                                    <field_body>
                                        <paragraph><literal_strong refspecific="True">image_id</literal_strong> – Image ID</paragraph>
                                    </field_body>
                                </field>
                            </field_list>
                        </desc_content>
                    </desc>
                    <index entries="['single',\ u'is_cacheable()\ (glance.image_cache.drivers.xattr.Driver\ method)',\ u'glance.image_cache.drivers.xattr.Driver.is_cacheable',\ '',\ None]"></index>
                    <desc desctype="method" domain="py" noindex="False" objtype="method">
                        <desc_signature class="Driver" first="False" fullname="Driver.is_cacheable" ids="glance.image_cache.drivers.xattr.Driver.is_cacheable" module="glance.image_cache.drivers.xattr" names="glance.image_cache.drivers.xattr.Driver.is_cacheable"><desc_name xml:space="preserve">is_cacheable</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">image_id</desc_parameter></desc_parameterlist><comment xml:space="preserve"></comment></desc_signature>
                        <desc_content>
                            <paragraph>Returns True if the image with the supplied ID can have its
                                image file cached, False otherwise.</paragraph>
                            <field_list>
                                <field>
                                    <field_name>Parameters</field_name>
                                    <field_body>
                                        <paragraph><literal_strong refspecific="True">image_id</literal_strong> – Image ID</paragraph>
                                    </field_body>
                                </field>
                            </field_list>
                        </desc_content>
                    </desc>
                    <index entries="['single',\ u'is_cached()\ (glance.image_cache.drivers.xattr.Driver\ method)',\ u'glance.image_cache.drivers.xattr.Driver.is_cached',\ '',\ None]"></index>
                    <desc desctype="method" domain="py" noindex="False" objtype="method">
                        <desc_signature class="Driver" first="False" fullname="Driver.is_cached" ids="glance.image_cache.drivers.xattr.Driver.is_cached" module="glance.image_cache.drivers.xattr" names="glance.image_cache.drivers.xattr.Driver.is_cached"><desc_name xml:space="preserve">is_cached</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">image_id</desc_parameter></desc_parameterlist><comment xml:space="preserve"></comment></desc_signature>
                        <desc_content>
                            <paragraph>Returns True if the image with the supplied ID has its image
                                file cached.</paragraph>
                            <field_list>
                                <field>
                                    <field_name>Parameters</field_name>
                                    <field_body>
                                        <paragraph><literal_strong refspecific="True">image_id</literal_strong> – Image ID</paragraph>
                                    </field_body>
                                </field>
                            </field_list>
                        </desc_content>
                    </desc>
                    <index entries="['single',\ u'is_queued()\ (glance.image_cache.drivers.xattr.Driver\ method)',\ u'glance.image_cache.drivers.xattr.Driver.is_queued',\ '',\ None]"></index>
                    <desc desctype="method" domain="py" noindex="False" objtype="method">
                        <desc_signature class="Driver" first="False" fullname="Driver.is_queued" ids="glance.image_cache.drivers.xattr.Driver.is_queued" module="glance.image_cache.drivers.xattr" names="glance.image_cache.drivers.xattr.Driver.is_queued"><desc_name xml:space="preserve">is_queued</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">image_id</desc_parameter></desc_parameterlist><comment xml:space="preserve"></comment></desc_signature>
                        <desc_content>
                            <paragraph>Returns True if the image identifier is in our cache queue.</paragraph>
                        </desc_content>
                    </desc>
                    <index entries="['single',\ u'open_for_read()\ (glance.image_cache.drivers.xattr.Driver\ method)',\ u'glance.image_cache.drivers.xattr.Driver.open_for_read',\ '',\ None]"></index>
                    <desc desctype="method" domain="py" noindex="False" objtype="method">
                        <desc_signature class="Driver" first="False" fullname="Driver.open_for_read" ids="glance.image_cache.drivers.xattr.Driver.open_for_read" module="glance.image_cache.drivers.xattr" names="glance.image_cache.drivers.xattr.Driver.open_for_read"><desc_name xml:space="preserve">open_for_read</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">*args</desc_parameter><desc_parameter xml:space="preserve">**kwds</desc_parameter></desc_parameterlist><comment xml:space="preserve"></comment></desc_signature>
                        <desc_content>
                            <paragraph>Open and yield file for reading the image file for an image
                                with supplied identifier.</paragraph>
                            <field_list>
                                <field>
                                    <field_name>Parameters</field_name>
                                    <field_body>
                                        <paragraph><literal_strong refspecific="True">image_id</literal_strong> – Image ID</paragraph>
                                    </field_body>
                                </field>
                            </field_list>
                        </desc_content>
                    </desc>
                    <index entries="['single',\ u'open_for_write()\ (glance.image_cache.drivers.xattr.Driver\ method)',\ u'glance.image_cache.drivers.xattr.Driver.open_for_write',\ '',\ None]"></index>
                    <desc desctype="method" domain="py" noindex="False" objtype="method">
                        <desc_signature class="Driver" first="False" fullname="Driver.open_for_write" ids="glance.image_cache.drivers.xattr.Driver.open_for_write" module="glance.image_cache.drivers.xattr" names="glance.image_cache.drivers.xattr.Driver.open_for_write"><desc_name xml:space="preserve">open_for_write</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">*args</desc_parameter><desc_parameter xml:space="preserve">**kwds</desc_parameter></desc_parameterlist><comment xml:space="preserve"></comment></desc_signature>
                        <desc_content>
                            <paragraph>Open a file for writing the image file for an image
                                with supplied identifier.</paragraph>
                            <field_list>
                                <field>
                                    <field_name>Parameters</field_name>
                                    <field_body>
                                        <paragraph><literal_strong refspecific="True">image_id</literal_strong> – Image ID</paragraph>
                                    </field_body>
                                </field>
                            </field_list>
                        </desc_content>
                    </desc>
                    <index entries="['single',\ u'queue_image()\ (glance.image_cache.drivers.xattr.Driver\ method)',\ u'glance.image_cache.drivers.xattr.Driver.queue_image',\ '',\ None]"></index>
                    <desc desctype="method" domain="py" noindex="False" objtype="method">
                        <desc_signature class="Driver" first="False" fullname="Driver.queue_image" ids="glance.image_cache.drivers.xattr.Driver.queue_image" module="glance.image_cache.drivers.xattr" names="glance.image_cache.drivers.xattr.Driver.queue_image"><desc_name xml:space="preserve">queue_image</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">image_id</desc_parameter></desc_parameterlist><comment xml:space="preserve"></comment></desc_signature>
                        <desc_content>
                            <paragraph>This adds a image to be cache to the queue.</paragraph>
                            <paragraph>If the image already exists in the queue or has already been
                                cached, we return False, True otherwise</paragraph>
                            <field_list>
                                <field>
                                    <field_name>Parameters</field_name>
                                    <field_body>
                                        <paragraph><literal_strong refspecific="True">image_id</literal_strong> – Image ID</paragraph>
                                    </field_body>
                                </field>
                            </field_list>
                        </desc_content>
                    </desc>
                    <index entries="['single',\ u'reap_invalid()\ (glance.image_cache.drivers.xattr.Driver\ method)',\ u'glance.image_cache.drivers.xattr.Driver.reap_invalid',\ '',\ None]"></index>
                    <desc desctype="method" domain="py" noindex="False" objtype="method">
                        <desc_signature class="Driver" first="False" fullname="Driver.reap_invalid" ids="glance.image_cache.drivers.xattr.Driver.reap_invalid" module="glance.image_cache.drivers.xattr" names="glance.image_cache.drivers.xattr.Driver.reap_invalid"><desc_name xml:space="preserve">reap_invalid</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">grace=None</desc_parameter></desc_parameterlist><comment xml:space="preserve"></comment></desc_signature>
                        <desc_content>
                            <paragraph>Remove any invalid cache entries</paragraph>
                            <field_list>
                                <field>
                                    <field_name>Parameters</field_name>
                                    <field_body>
                                        <paragraph><literal_strong refspecific="True">grace</literal_strong> – Number of seconds to keep an invalid entry around for
                                            debugging purposes. If None, then delete immediately.</paragraph>
                                    </field_body>
                                </field>
                            </field_list>
                        </desc_content>
                    </desc>
                    <index entries="['single',\ u'reap_stalled()\ (glance.image_cache.drivers.xattr.Driver\ method)',\ u'glance.image_cache.drivers.xattr.Driver.reap_stalled',\ '',\ None]"></index>
                    <desc desctype="method" domain="py" noindex="False" objtype="method">
                        <desc_signature class="Driver" first="False" fullname="Driver.reap_stalled" ids="glance.image_cache.drivers.xattr.Driver.reap_stalled" module="glance.image_cache.drivers.xattr" names="glance.image_cache.drivers.xattr.Driver.reap_stalled"><desc_name xml:space="preserve">reap_stalled</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">grace=None</desc_parameter></desc_parameterlist><comment xml:space="preserve"></comment></desc_signature>
                        <desc_content>
                            <paragraph>Remove any stalled cache entries</paragraph>
                            <field_list>
                                <field>
                                    <field_name>Parameters</field_name>
                                    <field_body>
                                        <paragraph><literal_strong refspecific="True">grace</literal_strong> – Number of seconds to keep an invalid entry around for
                                            debugging purposes. If None, then delete immediately.</paragraph>
                                    </field_body>
                                </field>
                            </field_list>
                        </desc_content>
                    </desc>
                </desc_content>
            </desc>
            <index entries="['single',\ u'delete_cached_file()\ (in\ module\ glance.image_cache.drivers.xattr)',\ u'glance.image_cache.drivers.xattr.delete_cached_file',\ '',\ None]"></index>
            <desc desctype="function" domain="py" noindex="False" objtype="function">
                <desc_signature class="" first="False" fullname="delete_cached_file" ids="glance.image_cache.drivers.xattr.delete_cached_file" module="glance.image_cache.drivers.xattr" names="glance.image_cache.drivers.xattr.delete_cached_file"><desc_addname xml:space="preserve">glance.image_cache.drivers.xattr.</desc_addname><desc_name xml:space="preserve">delete_cached_file</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">path</desc_parameter></desc_parameterlist><comment xml:space="preserve"></comment></desc_signature>
                <desc_content>
                </desc_content>
            </desc>
            <index entries="['single',\ u'get_all_regular_files()\ (in\ module\ glance.image_cache.drivers.xattr)',\ u'glance.image_cache.drivers.xattr.get_all_regular_files',\ '',\ None]"></index>
            <desc desctype="function" domain="py" noindex="False" objtype="function">
                <desc_signature class="" first="False" fullname="get_all_regular_files" ids="glance.image_cache.drivers.xattr.get_all_regular_files" module="glance.image_cache.drivers.xattr" names="glance.image_cache.drivers.xattr.get_all_regular_files"><desc_addname xml:space="preserve">glance.image_cache.drivers.xattr.</desc_addname><desc_name xml:space="preserve">get_all_regular_files</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">basepath</desc_parameter></desc_parameterlist><comment xml:space="preserve"></comment></desc_signature>
                <desc_content>
                </desc_content>
            </desc>
            <index entries="['single',\ u'get_xattr()\ (in\ module\ glance.image_cache.drivers.xattr)',\ u'glance.image_cache.drivers.xattr.get_xattr',\ '',\ None]"></index>
            <desc desctype="function" domain="py" noindex="False" objtype="function">
                <desc_signature class="" first="False" fullname="get_xattr" ids="glance.image_cache.drivers.xattr.get_xattr" module="glance.image_cache.drivers.xattr" names="glance.image_cache.drivers.xattr.get_xattr"><desc_addname xml:space="preserve">glance.image_cache.drivers.xattr.</desc_addname><desc_name xml:space="preserve">get_xattr</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">path</desc_parameter><desc_parameter xml:space="preserve">key</desc_parameter><desc_parameter xml:space="preserve">**kwargs</desc_parameter></desc_parameterlist><comment xml:space="preserve"></comment></desc_signature>
                <desc_content>
                    <paragraph>Return the value for a particular xattr</paragraph>
                    <paragraph>If the key doesn’t not exist, or xattrs aren’t supported by the file
                        system then a KeyError will be raised, that is, unless you specify a
                        default using kwargs.</paragraph>
                </desc_content>
            </desc>
            <index entries="['single',\ u'inc_xattr()\ (in\ module\ glance.image_cache.drivers.xattr)',\ u'glance.image_cache.drivers.xattr.inc_xattr',\ '',\ None]"></index>
            <desc desctype="function" domain="py" noindex="False" objtype="function">
                <desc_signature class="" first="False" fullname="inc_xattr" ids="glance.image_cache.drivers.xattr.inc_xattr" module="glance.image_cache.drivers.xattr" names="glance.image_cache.drivers.xattr.inc_xattr"><desc_addname xml:space="preserve">glance.image_cache.drivers.xattr.</desc_addname><desc_name xml:space="preserve">inc_xattr</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">path</desc_parameter><desc_parameter xml:space="preserve">key</desc_parameter><desc_parameter xml:space="preserve">n=1</desc_parameter></desc_parameterlist><comment xml:space="preserve"></comment></desc_signature>
                <desc_content>
                    <paragraph>Increment the value of an xattr (assuming it is an integer).</paragraph>
                    <paragraph>BEWARE, this code <emphasis>does</emphasis> have a RACE CONDITION, since the
                        read/update/write sequence is not atomic.</paragraph>
                    <paragraph>Since the use-case for this function is collecting stats–not critical–
                        the benefits of simple, lock-free code out-weighs the possibility of an
                        occasional hit not being counted.</paragraph>
                </desc_content>
            </desc>
            <index entries="['single',\ u'set_xattr()\ (in\ module\ glance.image_cache.drivers.xattr)',\ u'glance.image_cache.drivers.xattr.set_xattr',\ '',\ None]"></index>
            <desc desctype="function" domain="py" noindex="False" objtype="function">
                <desc_signature class="" first="False" fullname="set_xattr" ids="glance.image_cache.drivers.xattr.set_xattr" module="glance.image_cache.drivers.xattr" names="glance.image_cache.drivers.xattr.set_xattr"><desc_addname xml:space="preserve">glance.image_cache.drivers.xattr.</desc_addname><desc_name xml:space="preserve">set_xattr</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">path</desc_parameter><desc_parameter xml:space="preserve">key</desc_parameter><desc_parameter xml:space="preserve">value</desc_parameter></desc_parameterlist><comment xml:space="preserve"></comment></desc_signature>
                <desc_content>
                    <paragraph>Set the value of a specified xattr.</paragraph>
                    <paragraph>If xattrs aren’t supported by the file-system, we skip setting the value.</paragraph>
                </desc_content>
            </desc>
        </section>
    </section>
</document>
