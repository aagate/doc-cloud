<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.13.1 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/glance/doc/source/user/statuses.rst">
    <comment xml:space="preserve">Copyright 2010 OpenStack Foundation
All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License"); you may
not use this file except in compliance with the License. You may obtain
a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
License for the specific language governing permissions and limitations
under the License.</comment>
    <target refid="image-statuses"></target>
    <section ids="image-statuses id1" names="image\ statuses image-statuses">
        <title>Image Statuses</title>
        <paragraph>Images in Glance can be in one the following statuses:</paragraph>
        <bullet_list bullet="*">
            <list_item>
                <paragraph><literal>queued</literal></paragraph>
                <paragraph>The image identifier has been reserved for an image in the Glance
                    registry. No image data has been uploaded to Glance and the image
                    size was not explicitly set to zero on creation.</paragraph>
            </list_item>
            <list_item>
                <paragraph><literal>saving</literal></paragraph>
                <paragraph>Denotes that an image’s raw data is currently being uploaded to Glance.
                    When an image is registered with a call to <title_reference>POST /images</title_reference> and there
                    is an <title_reference>x-image-meta-location</title_reference> header present, that image will never be in
                    the <title_reference>saving</title_reference> status (as the image data is already available in some other
                    location).</paragraph>
            </list_item>
            <list_item>
                <paragraph><literal>active</literal></paragraph>
                <paragraph>Denotes an image that is fully available in Glance. This occurs when
                    the image data is uploaded, or the image size is explicitly set to
                    zero on creation.</paragraph>
            </list_item>
            <list_item>
                <paragraph><literal>deactivated</literal></paragraph>
                <paragraph>Denotes that access to image data is not allowed to any non-admin user.
                    Prohibiting downloads of an image also prohibits operations like image
                    export and image cloning that may require image data.</paragraph>
            </list_item>
            <list_item>
                <paragraph><literal>killed</literal></paragraph>
                <paragraph>Denotes that an error occurred during the uploading of an image’s data,
                    and that the image is not readable.</paragraph>
            </list_item>
            <list_item>
                <paragraph><literal>deleted</literal></paragraph>
                <paragraph>Glance has retained the information about the image, but it is no longer
                    available to use. An image in this state will be removed automatically
                    at a later date.</paragraph>
            </list_item>
            <list_item>
                <paragraph><literal>pending_delete</literal></paragraph>
                <paragraph>This is similar to <title_reference>deleted</title_reference>, however, Glance has not yet removed the
                    image data. An image in this state is not recoverable.</paragraph>
            </list_item>
        </bullet_list>
        <figure align="center" ids="id3" width="100%">
            <image alt='The states consist of:&#10;"queued", "saving", "active", "pending_delete", "deactivated",&#10;"killed", and "deleted".&#10;The transitions consist of:&#10;An initial transition to the "queued" state called "create image".&#10;A transition from the "queued" state to the "active" state&#10;called "add location".&#10;A transition from the "queued" state to the "saving" state&#10;called "upload".&#10;A transition from the "queued" state to the "deleted" state&#10;called "delete".&#10;A transition from the "saving" state to the "active" state&#10;called "upload succeeded".&#10;A transition from the "saving" state to the "deleted" state&#10;called "delete".&#10;A transition from the "saving" state to the "killed" state&#10;called "[v1] upload fail".&#10;A transition from the "saving" state to the "queued" state&#10;called "[v2] upload fail".&#10;A transition from the "active" state to the "deleted" state&#10;called "delete".&#10;A transition from the "active" state to the "pending_delete" state&#10;called "delayed delete".&#10;A transition from the "active" state to the "deactivated" state&#10;called "deactivate".&#10;A transition from the "killed" state to the "deleted" state&#10;called "deleted".&#10;A transition from the "pending_delete" state to the "deleted" state&#10;called "after scrub time".&#10;A transition from the "deactivated" state to the "deleted" state&#10;called "delete".&#10;A transition from the "deactivated" state to the "active" state&#10;called "reactivate".&#10;There are no transitions out of the "deleted" state.' candidates="{'*': u'user/../images/image_status_transition.png'}" uri="user/../images/image_status_transition.png"></image>
            <caption>This is a representation of how the image move from one status to the next.</caption>
            <legend>
                <bullet_list bullet="*">
                    <list_item>
                        <paragraph>Add location from zero to more than one.</paragraph>
                    </list_item>
                </bullet_list>
            </legend>
        </figure>
        <target refid="task-statuses"></target>
    </section>
    <section ids="task-statuses id2" names="task\ statuses task-statuses">
        <title>Task Statuses</title>
        <paragraph>Tasks in Glance can be in one the following statuses:</paragraph>
        <bullet_list bullet="*">
            <list_item>
                <paragraph><literal>pending</literal></paragraph>
                <paragraph>The task identifier has been reserved for a task in the Glance.
                    No processing has begun on it yet.</paragraph>
            </list_item>
            <list_item>
                <paragraph><literal>processing</literal></paragraph>
                <paragraph>The task has been picked up by the underlying executor and is being run
                    using the backend Glance execution logic for that task type.</paragraph>
            </list_item>
            <list_item>
                <paragraph><literal>success</literal></paragraph>
                <paragraph>Denotes that the task has had a successful run within Glance. The <literal>result</literal>
                    field of the task shows more details about the outcome.</paragraph>
            </list_item>
            <list_item>
                <paragraph><literal>failure</literal></paragraph>
                <paragraph>Denotes that an error occurred during the execution of the task and it
                    cannot continue processing. The <literal>message</literal> field of the task shows what the
                    error was.</paragraph>
            </list_item>
        </bullet_list>
    </section>
</document>
