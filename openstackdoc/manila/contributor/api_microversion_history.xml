<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.13.1 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/manila/doc/source/contributor/api_microversion_history.rst">
    <section ids="rest-api-version-history" names="rest\ api\ version\ history">
        <title>REST API Version History</title>
        <paragraph>This documents the changes made to the REST API with every
            microversion change. The description for each version should be a
            verbose one which has enough information to be suitable for use in
            user documentation.</paragraph>
        <section ids="id1" names="1.0">
            <title>1.0</title>
            <block_quote>
                <paragraph>The 1.0 Manila API includes all v1 core APIs existing prior to
                    the introduction of microversions.  The /v1 URL is used to call
                    1.0 APIs, and microversions headers sent to this endpoint are
                    ignored.</paragraph>
            </block_quote>
        </section>
        <section ids="id2" names="2.0">
            <title>2.0</title>
            <block_quote>
                <paragraph>This is the initial version of the Manila API which supports
                    microversions.  The /v2 URL is used to call 2.x APIs.</paragraph>
                <paragraph>A user can specify a header in the API request:</paragraph>
                <literal_block xml:space="preserve">X-OpenStack-Manila-API-Version: &lt;version&gt;</literal_block>
                <paragraph>where <literal>&lt;version&gt;</literal> is any valid api version for this API.</paragraph>
                <paragraph>If no version is specified then the API will behave as if version 2.0
                    was requested.</paragraph>
                <paragraph>The only API change in version 2.0 is versions, i.e.
                    GET <reference refuri="http://localhost:8786/">http://localhost:8786/</reference>, which now returns information about
                    both 1.0 and 2.x versions and their respective /v1 and /v2 endpoints.</paragraph>
                <paragraph>All other 2.0 APIs are functionally identical to version 1.0.</paragraph>
            </block_quote>
        </section>
        <section ids="id3" names="2.1">
            <title>2.1</title>
            <block_quote>
                <paragraph>Share create() method doesn’t ignore availability_zone field of provided
                    share.</paragraph>
            </block_quote>
        </section>
        <section ids="id4" names="2.2">
            <title>2.2</title>
            <block_quote>
                <paragraph>Snapshots become optional and share payload now has
                    boolean attr ‘snapshot_support’.</paragraph>
            </block_quote>
        </section>
        <section ids="id5" names="2.3">
            <title>2.3</title>
            <block_quote>
                <paragraph>Share instances admin API and update of Admin Actions extension.</paragraph>
            </block_quote>
        </section>
        <section ids="id6" names="2.4">
            <title>2.4</title>
            <block_quote>
                <paragraph>Consistency groups support. /consistency-groups and /cgsnapshots are
                    implemented. AdminActions ‘os-force_delete and’ ‘os-reset_status’ have been
                    updated for both new resources.</paragraph>
            </block_quote>
        </section>
        <section ids="id7" names="2.5">
            <title>2.5</title>
            <block_quote>
                <paragraph>Share Migration admin API.</paragraph>
            </block_quote>
        </section>
        <section ids="id8" names="2.6">
            <title>2.6</title>
            <block_quote>
                <paragraph>Return share_type UUID instead of name in Share API and add share_type_name
                    field.</paragraph>
            </block_quote>
        </section>
        <section ids="id9" names="2.7">
            <title>2.7</title>
            <block_quote>
                <paragraph>Rename old extension-like API URLs to core-API-like.</paragraph>
            </block_quote>
        </section>
        <section ids="id10" names="2.8">
            <title>2.8</title>
            <block_quote>
                <paragraph>Allow to set share visibility explicitly using “manage” API.</paragraph>
            </block_quote>
        </section>
        <section ids="id11" names="2.9">
            <title>2.9</title>
            <block_quote>
                <paragraph>Add export locations API. Remove export locations from “shares” and
                    “share instances” APIs.</paragraph>
            </block_quote>
        </section>
        <section ids="id12" names="2.10">
            <title>2.10</title>
            <block_quote>
                <paragraph>Field ‘access_rules_status’ was added to shares and share instances.</paragraph>
            </block_quote>
        </section>
        <section ids="id13" names="2.11">
            <title>2.11</title>
            <block_quote>
                <paragraph>Share Replication support added. All Share replication APIs are tagged
                    ‘Experimental’. Share APIs return two new attributes: ‘has_replicas’ and
                    ‘replication_type’. Share instance APIs return a new attribute,
                    ‘replica_state’.</paragraph>
            </block_quote>
        </section>
        <section ids="id14" names="2.12">
            <title>2.12</title>
            <block_quote>
                <paragraph>Share snapshot manage and unmanage API.</paragraph>
            </block_quote>
        </section>
        <section ids="id15" names="2.13">
            <title>2.13</title>
            <block_quote>
                <paragraph>Add ‘cephx’ authentication type for the CephFS Native driver.</paragraph>
            </block_quote>
        </section>
        <section ids="id16" names="2.14">
            <title>2.14</title>
            <block_quote>
                <paragraph>Added attribute ‘preferred’ to export locations.  Drivers may use this
                    field to identify which export locations are most efficient and should be
                    used preferentially by clients.  Also, change ‘uuid’ field to ‘id’, move
                    timestamps to detail view, and return all non-admin fields to users.</paragraph>
            </block_quote>
        </section>
        <section ids="id17" names="2.15">
            <title>2.15</title>
            <block_quote>
                <paragraph>Added Share migration ‘migration_cancel’, ‘migration_get_progress’,
                    ‘migration_complete’ APIs, renamed ‘migrate_share’ to ‘migration_start’ and
                    added notify parameter to ‘migration_start’.</paragraph>
            </block_quote>
        </section>
        <section ids="id18" names="2.16">
            <title>2.16</title>
            <block_quote>
                <paragraph>Add user_id in share show/create/manage API.</paragraph>
            </block_quote>
        </section>
        <section ids="id19" names="2.17">
            <title>2.17</title>
            <block_quote>
                <paragraph>Added user_id and project_id in snapshot show/create/manage APIs.</paragraph>
            </block_quote>
        </section>
        <section ids="id20" names="2.18">
            <title>2.18</title>
            <block_quote>
                <paragraph>Add gateway in share network show API.</paragraph>
            </block_quote>
        </section>
        <section ids="id21" names="2.19">
            <title>2.19</title>
            <block_quote>
                <paragraph>Add admin APIs(list/show/detail/reset-status) of snapshot instances.</paragraph>
            </block_quote>
        </section>
        <section ids="id22" names="2.20">
            <title>2.20</title>
            <block_quote>
                <paragraph>Add MTU in share network show API.</paragraph>
            </block_quote>
        </section>
        <section ids="id23" names="2.21">
            <title>2.21</title>
            <block_quote>
                <paragraph>Add access_key in access_list API.</paragraph>
            </block_quote>
        </section>
        <section ids="id24" names="2.22">
            <title>2.22</title>
            <block_quote>
                <paragraph>Updated migration_start API with ‘preserve_metadata’, ‘writable’,
                    ‘nondisruptive’ and ‘new_share_network_id’ parameters, renamed
                    ‘force_host_copy’ to ‘force_host_assisted_migration’, removed ‘notify’
                    parameter and removed previous migrate_share API support. Updated
                    reset_task_state API to accept ‘None’ value.</paragraph>
            </block_quote>
        </section>
        <section ids="id25" names="2.23">
            <title>2.23</title>
            <block_quote>
                <paragraph>Added share_type to filter results of scheduler-stats/pools API.</paragraph>
            </block_quote>
        </section>
        <section ids="id26" names="2.24">
            <title>2.24</title>
            <block_quote>
                <paragraph>Added optional create_share_from_snapshot_support extra spec. Made
                    snapshot_support extra spec optional.</paragraph>
            </block_quote>
        </section>
        <section ids="id27" names="2.25">
            <title>2.25</title>
            <block_quote>
                <paragraph>Added quota-show detail API.</paragraph>
            </block_quote>
        </section>
        <section ids="id28" names="2.26">
            <title>2.26</title>
            <block_quote>
                <paragraph>Removed nova-net plugin support and removed ‘nova_net_id’ parameter from
                    share_network API.</paragraph>
            </block_quote>
        </section>
        <section ids="id29" names="2.27">
            <title>2.27</title>
            <block_quote>
                <paragraph>Added share revert to snapshot. This API reverts a share to the specified
                    snapshot. The share is reverted in place, and the snapshot must be the most
                    recent one known to manila. The feature is controlled by a new standard
                    optional extra spec, revert_to_snapshot_support.</paragraph>
            </block_quote>
        </section>
        <section ids="id30" names="2.28">
            <title>2.28</title>
            <block_quote>
                <paragraph>Added transitional states (‘queued_to_apply’ - was previously ‘new’,
                    ‘queued_to_deny’, ‘applying’ and ‘denying’) to access rules.
                    ‘updating’, ‘updating_multiple’ and ‘out_of_sync’ are no longer valid
                    values for the ‘access_rules_status’ field of shares, they have
                    been collapsed into the transitional state ‘syncing’. Access rule changes
                    can be made independent of a share’s ‘access_rules_status’.</paragraph>
            </block_quote>
        </section>
        <section ids="id31" names="2.29">
            <title>2.29</title>
            <block_quote>
                <paragraph>Updated migration_start API adding mandatory parameter ‘preserve_snapshots’
                    and changed ‘preserve_metadata’, ‘writable’, ‘nondisruptive’ to be mandatory
                    as well. All previous migration_start APIs prior to this microversion are now
                    unsupported.</paragraph>
            </block_quote>
        </section>
        <section ids="id32" names="2.30">
            <title>2.30</title>
            <block_quote>
                <paragraph>Added cast_rules_to_readonly field to share_instances.</paragraph>
            </block_quote>
        </section>
        <section ids="id33" names="2.31">
            <title>2.31</title>
            <block_quote>
                <paragraph>Convert consistency groups to share groups.</paragraph>
            </block_quote>
        </section>
        <section ids="id34" names="2.32">
            <title>2.32</title>
            <block_quote>
                <paragraph>Added mountable snapshots APIs.</paragraph>
            </block_quote>
        </section>
        <section ids="id35" names="2.33">
            <title>2.33</title>
            <block_quote>
                <paragraph>Added created_at and updated_at in access_list API.</paragraph>
            </block_quote>
        </section>
        <section ids="id36" names="2.34">
            <title>2.34</title>
            <block_quote>
                <paragraph>Added ‘availability_zone_id’ and ‘consistent_snapshot_support’ fields to
                    ‘share_group’ object.</paragraph>
            </block_quote>
        </section>
        <section ids="id37" names="2.35">
            <title>2.35</title>
            <block_quote>
                <paragraph>Added support to retrieve shares filtered by export_location_id and
                    export_location_path.</paragraph>
            </block_quote>
        </section>
        <section ids="id38" names="2.36">
            <title>2.36</title>
            <block_quote>
                <paragraph>Added like filter support in <literal>shares</literal>, <literal>snapshots</literal>, <literal>share-networks</literal>,
                    <literal>share-groups</literal> list APIs.</paragraph>
            </block_quote>
        </section>
        <section ids="id39" names="2.37">
            <title>2.37</title>
            <block_quote>
                <paragraph>Added /messages APIs.</paragraph>
            </block_quote>
        </section>
        <section ids="id40" names="2.38">
            <title>2.38</title>
            <block_quote>
                <paragraph>Support IPv6 format validation in allow_access API to enable IPv6.</paragraph>
            </block_quote>
        </section>
        <section ids="id41" names="2.39">
            <title>2.39</title>
            <block_quote>
                <paragraph>Added share-type quotas.</paragraph>
            </block_quote>
        </section>
        <section ids="id42" names="2.40">
            <title>2.40</title>
            <block_quote>
                <paragraph>Added share group and share group snapshot quotas.</paragraph>
            </block_quote>
        </section>
    </section>
</document>
