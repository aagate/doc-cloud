<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.13.1 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/manila/doc/source/contributor/tegile_driver.rst">
    <comment xml:space="preserve">Copyright (c) 2016 Tegile Systems Inc.
All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License"); you may
not use this file except in compliance with the License. You may obtain
a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
License for the specific language governing permissions and limitations
under the License.</comment>
    <section ids="tegile-driver" names="tegile\ driver">
        <title>Tegile Driver</title>
        <paragraph>The Tegile Manila driver uses Tegile IntelliFlash Arrays to provide shared
            filesystems to OpenStack.</paragraph>
        <paragraph>The Tegile Driver interfaces with a Tegile Array via the REST API.</paragraph>
        <section ids="requirements" names="requirements">
            <title>Requirements</title>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>Tegile IntelliFlash version 3.5.1</paragraph>
                </list_item>
                <list_item>
                    <paragraph>For using CIFS, Active Directory must be configured in the Tegile Array.</paragraph>
                </list_item>
            </bullet_list>
        </section>
        <section ids="supported-operations" names="supported\ operations">
            <title>Supported Operations</title>
            <paragraph>The following operations are supported on a Tegile Array:</paragraph>
            <bullet_list bullet="*">
                <list_item>
                    <paragraph>Create CIFS/NFS Share</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Delete CIFS/NFS Share</paragraph>
                </list_item>
                <list_item>
                    <definition_list>
                        <definition_list_item>
                            <term>Allow CIFS/NFS Share access</term>
                            <definition>
                                <bullet_list bullet="*">
                                    <list_item>
                                        <paragraph>Only IP access type is supported for NFS</paragraph>
                                    </list_item>
                                    <list_item>
                                        <paragraph>USER access type is supported for NFS and CIFS</paragraph>
                                    </list_item>
                                    <list_item>
                                        <paragraph>RW and RO access supported</paragraph>
                                    </list_item>
                                </bullet_list>
                            </definition>
                        </definition_list_item>
                    </definition_list>
                </list_item>
                <list_item>
                    <definition_list>
                        <definition_list_item>
                            <term>Deny CIFS/NFS Share access</term>
                            <definition>
                                <bullet_list bullet="*">
                                    <list_item>
                                        <paragraph>IP access type is supported for NFS</paragraph>
                                    </list_item>
                                    <list_item>
                                        <paragraph>USER access type is supported for NFS and CIFS</paragraph>
                                    </list_item>
                                </bullet_list>
                            </definition>
                        </definition_list_item>
                    </definition_list>
                </list_item>
                <list_item>
                    <paragraph>Create snapshot</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Delete snapshot</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Extend share</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Shrink share</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Create share from snapshot</paragraph>
                </list_item>
            </bullet_list>
        </section>
        <section ids="backend-configuration" names="backend\ configuration">
            <title>Backend Configuration</title>
            <paragraph>The following parameters need to be configured in the [DEFAULT]
                section of <emphasis>/etc/manila/manila.conf</emphasis>:</paragraph>
            <table>
                <tgroup cols="3">
                    <colspec colwidth="28"></colspec>
                    <colspec colwidth="11"></colspec>
                    <colspec colwidth="90"></colspec>
                    <thead>
                        <row>
                            <entry morecols="2">
                                <paragraph>[DEFAULT]</paragraph>
                            </entry>
                        </row>
                    </thead>
                    <tbody>
                        <row>
                            <entry>
                                <paragraph><strong>Option</strong></paragraph>
                            </entry>
                            <entry morecols="1">
                                <paragraph><strong>Description</strong></paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>enabled_share_backends</paragraph>
                            </entry>
                            <entry morecols="1">
                                <paragraph>Name of the section on manila.conf used to specify a backend.
                                    E.g. <emphasis>enabled_share_backends = tegileNAS</emphasis></paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>enabled_share_protocols</paragraph>
                            </entry>
                            <entry morecols="1">
                                <paragraph>Specify a list of protocols to be allowed for share creation. For Tegile driver this can be:
                                    <emphasis>NFS</emphasis> or <emphasis>CIFS</emphasis> or <emphasis>NFS, CIFS</emphasis>.</paragraph>
                            </entry>
                        </row>
                    </tbody>
                </tgroup>
            </table>
            <paragraph>The following parameters need to be configured in the [backend] section of <emphasis>/etc/manila/manila.conf</emphasis>:</paragraph>
            <table>
                <tgroup cols="2">
                    <colspec colwidth="31"></colspec>
                    <colspec colwidth="101"></colspec>
                    <thead>
                        <row>
                            <entry morecols="1">
                                <paragraph>[tegileNAS]</paragraph>
                            </entry>
                        </row>
                    </thead>
                    <tbody>
                        <row>
                            <entry>
                                <paragraph><strong>Option</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph><strong>Description</strong></paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>share_backend_name</paragraph>
                            </entry>
                            <entry>
                                <paragraph>A name for the backend.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>share_driver</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Python module path. For Tegile driver this must be:
                                    <emphasis>manila.share.drivers.tegile.tegile.TegileShareDriver</emphasis>.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>driver_handles_share_servers</paragraph>
                            </entry>
                            <entry>
                                <paragraph>DHSS, Driver working mode. For Tegile driver <strong>this must be</strong>:
                                    <emphasis>False</emphasis>.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>tegile_nas_server</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Tegile array IP to connect from the Manila node.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>tegile_nas_login</paragraph>
                            </entry>
                            <entry>
                                <paragraph>This field is used to provide username credential to Tegile array.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>tegile_nas_password</paragraph>
                            </entry>
                            <entry>
                                <paragraph>This field is used to provide password credential to Tegile array.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>tegile_default_project</paragraph>
                            </entry>
                            <entry>
                                <paragraph>This field can be used to specify the default project in Tegile array where shares are created.
                                    This field is optional.</paragraph>
                            </entry>
                        </row>
                    </tbody>
                </tgroup>
            </table>
            <paragraph>Below is an example of a valid configuration of Tegile driver:</paragraph>
            <line_block>
                <line><literal>[DEFAULT]</literal></line>
                <line><literal>enabled_share_backends = tegileNAS</literal></line>
                <line><literal>enabled_share_protocols = NFS,CIFS</literal></line>
            </line_block>
            <line_block>
                <line><literal>[tegileNAS]</literal></line>
                <line><literal>driver_handles_share_servers = False</literal></line>
                <line><literal>share_backend_name = tegileNAS</literal></line>
                <line><literal>share_driver = manila.share.drivers.tegile.tegile.TegileShareDriver</literal></line>
                <line><literal>tegile_nas_server = 10.12.14.16</literal></line>
                <line><literal>tegile_nas_login = admin</literal></line>
                <line><literal>tegile_nas_password = password</literal></line>
                <line><literal>tegile_default_project = financeshares</literal></line>
            </line_block>
            <paragraph>Restart of <reference internal="True" refuri="../reference/glossary#term-manila-share"><inline classes="xref std std-term">manila-share</inline></reference> service is needed for the configuration changes
                to take effect.</paragraph>
        </section>
        <section ids="restrictions" names="restrictions">
            <title>Restrictions</title>
            <paragraph>The Tegile driver has the following restrictions:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>IP access type is supported only for NFS.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Only FLAT network is supported.</paragraph>
                </list_item>
            </bullet_list>
            <section ids="the-manila-share-drivers-tegile-tegile-module" names="the\ manila.share.drivers.tegile.tegile\ module">
                <title>The <literal classes="xref py py-mod">manila.share.drivers.tegile.tegile</literal> Module</title>
                <paragraph>Share driver for Tegile storage.</paragraph>
                <index entries=""></index>
                <desc desctype="class" domain="py" noindex="True" objtype="class">
                    <desc_signature class="" first="False" fullname="TegileShareDriver" module="manila.share.drivers.tegile.tegile"><desc_annotation xml:space="preserve">class </desc_annotation><desc_name xml:space="preserve">TegileShareDriver</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">*args</desc_parameter><desc_parameter xml:space="preserve">**kwargs</desc_parameter></desc_parameterlist></desc_signature>
                    <desc_content>
                        <paragraph>Bases: <reference internal="True" reftitle="manila.share.driver.ShareDriver" refuri="share_replication#manila.share.driver.ShareDriver"><literal classes="xref py py-class">manila.share.driver.ShareDriver</literal></reference></paragraph>
                        <paragraph>Tegile NAS driver. Allows for NFS and CIFS NAS storage usage.</paragraph>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="TegileShareDriver" first="False" fullname="TegileShareDriver.create_share" module="manila.share.drivers.tegile.tegile"><desc_name xml:space="preserve">create_share</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">*args</desc_parameter><desc_parameter xml:space="preserve">**kwds</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="TegileShareDriver" first="False" fullname="TegileShareDriver.create_share_from_snapshot" module="manila.share.drivers.tegile.tegile"><desc_name xml:space="preserve">create_share_from_snapshot</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">*args</desc_parameter><desc_parameter xml:space="preserve">**kwds</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="TegileShareDriver" first="False" fullname="TegileShareDriver.create_snapshot" module="manila.share.drivers.tegile.tegile"><desc_name xml:space="preserve">create_snapshot</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">*args</desc_parameter><desc_parameter xml:space="preserve">**kwds</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="TegileShareDriver" first="False" fullname="TegileShareDriver.delete_share" module="manila.share.drivers.tegile.tegile"><desc_name xml:space="preserve">delete_share</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">*args</desc_parameter><desc_parameter xml:space="preserve">**kwds</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="TegileShareDriver" first="False" fullname="TegileShareDriver.delete_snapshot" module="manila.share.drivers.tegile.tegile"><desc_name xml:space="preserve">delete_snapshot</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">*args</desc_parameter><desc_parameter xml:space="preserve">**kwds</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="TegileShareDriver" first="False" fullname="TegileShareDriver.ensure_share" module="manila.share.drivers.tegile.tegile"><desc_name xml:space="preserve">ensure_share</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">*args</desc_parameter><desc_parameter xml:space="preserve">**kwds</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="TegileShareDriver" first="False" fullname="TegileShareDriver.extend_share" module="manila.share.drivers.tegile.tegile"><desc_name xml:space="preserve">extend_share</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">*args</desc_parameter><desc_parameter xml:space="preserve">**kwds</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="TegileShareDriver" first="False" fullname="TegileShareDriver.get_network_allocations_number" module="manila.share.drivers.tegile.tegile"><desc_name xml:space="preserve">get_network_allocations_number</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">*args</desc_parameter><desc_parameter xml:space="preserve">**kwds</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="TegileShareDriver" first="False" fullname="TegileShareDriver.get_pool" module="manila.share.drivers.tegile.tegile"><desc_name xml:space="preserve">get_pool</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">*args</desc_parameter><desc_parameter xml:space="preserve">**kwds</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="TegileShareDriver" first="False" fullname="TegileShareDriver.shrink_share" module="manila.share.drivers.tegile.tegile"><desc_name xml:space="preserve">shrink_share</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">*args</desc_parameter><desc_parameter xml:space="preserve">**kwds</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="TegileShareDriver" first="False" fullname="TegileShareDriver.update_access" module="manila.share.drivers.tegile.tegile"><desc_name xml:space="preserve">update_access</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">*args</desc_parameter><desc_parameter xml:space="preserve">**kwds</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                            </desc_content>
                        </desc>
                    </desc_content>
                </desc>
            </section>
        </section>
    </section>
</document>
