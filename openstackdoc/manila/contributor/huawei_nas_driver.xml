<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.13.1 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/manila/doc/source/contributor/huawei_nas_driver.rst">
    <comment xml:space="preserve">Copyright (c) 2015 Huawei Technologies Co., Ltd.
All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License"); you may
not use this file except in compliance with the License. You may obtain
a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
License for the specific language governing permissions and limitations
under the License.</comment>
    <section ids="huawei-driver" names="huawei\ driver">
        <title>Huawei Driver</title>
        <paragraph>Huawei NAS Driver is a plugin based the OpenStack manila service. The Huawei NAS
            Driver can be used to provide functions such as the share and snapshot for virtual
            machines(instances) in OpenStack. Huawei NAS Driver enables the OceanStor V3 series
            V300R002 storage system to provide only network filesystems for OpenStack.</paragraph>
        <section ids="requirements" names="requirements">
            <title>Requirements</title>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>The OceanStor V3 series V300R002 storage system.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>The following licenses should be activated on V3 for File:</paragraph>
                    <bullet_list bullet="*">
                        <list_item>
                            <paragraph>CIFS</paragraph>
                        </list_item>
                        <list_item>
                            <paragraph>NFS</paragraph>
                        </list_item>
                        <list_item>
                            <paragraph>HyperSnap License (for snapshot)</paragraph>
                        </list_item>
                    </bullet_list>
                </list_item>
            </bullet_list>
        </section>
        <section ids="supported-operations" names="supported\ operations">
            <title>Supported Operations</title>
            <paragraph>The following operations is supported on V3 storage:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>Create CIFS/NFS Share</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Delete CIFS/NFS Share</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Allow CIFS/NFS Share access</paragraph>
                    <bullet_list bullet="*">
                        <list_item>
                            <paragraph>IP and USER access types are supported for NFS(ro/rw).</paragraph>
                        </list_item>
                        <list_item>
                            <paragraph>Only USER access type is supported for CIFS(ro/rw).</paragraph>
                        </list_item>
                    </bullet_list>
                </list_item>
                <list_item>
                    <paragraph>Deny CIFS/NFS Share access</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Create snapshot</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Delete snapshot</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Manage CIFS/NFS share</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Support pools in one backend</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Extend share</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Shrink share</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Support multi RestURLs(&lt;RestURL&gt;)</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Support multi-tenancy</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Ensure share</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Create share from snapshot</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Support QoS</paragraph>
                </list_item>
            </bullet_list>
        </section>
        <section ids="pre-configurations-on-huawei" names="pre-configurations\ on\ huawei">
            <title>Pre-Configurations on Huawei</title>
            <paragraph>1. Create a driver configuration file. The driver configuration file name must
                be the same as the manila_huawei_conf_file item in the manila_conf configuration
                file.</paragraph>
            <paragraph>2. Configure Product.
                Product indicates the storage system type. For the OceanStor V3 series V300R002
                storage systems, the driver configuration file is as follows:</paragraph>
            <literal_block xml:space="preserve">&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;Config&gt;
    &lt;Storage&gt;
        &lt;Product&gt;V3&lt;/Product&gt;
        &lt;LogicalPortIP&gt;x.x.x.x&lt;/LogicalPortIP&gt;
        &lt;Port&gt;abc;CTE0.A.H1&lt;/Port&gt;
        &lt;RestURL&gt;https://x.x.x.x:8088/deviceManager/rest/;
        https://x.x.x.x:8088/deviceManager/rest/&lt;/RestURL&gt;
        &lt;UserName&gt;xxxxxxxxx&lt;/UserName&gt;
        &lt;UserPassword&gt;xxxxxxxxx&lt;/UserPassword&gt;
    &lt;/Storage&gt;
    &lt;Filesystem&gt;
        &lt;StoragePool&gt;xxxxxxxxx&lt;/StoragePool&gt;
        &lt;SectorSize&gt;64&lt;/SectorSize&gt;
        &lt;WaitInterval&gt;3&lt;/WaitInterval&gt;
        &lt;Timeout&gt;60&lt;/Timeout&gt;
        &lt;NFSClient&gt;
            &lt;IP&gt;x.x.x.x&lt;/IP&gt;
        &lt;/NFSClient&gt;
        &lt;CIFSClient&gt;
            &lt;UserName&gt;xxxxxxxxx&lt;/UserName&gt;
            &lt;UserPassword&gt;xxxxxxxxx&lt;/UserPassword&gt;
        &lt;/CIFSClient&gt;
    &lt;/Filesystem&gt;
&lt;/Config&gt;</literal_block>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph><title_reference>Product</title_reference> is a type of a storage product. Set it to <title_reference>V3</title_reference>.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><title_reference>LogicalPortIP</title_reference> is an IP address of the logical port.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><title_reference>Port</title_reference> is a port name list of bond port or ETH port, used to
                        create vlan and logical port. Multi Ports can be configured in
                        &lt;Port&gt;(separated by “;”). If &lt;Port&gt; is not configured, then will choose
                        an online port on the array.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><title_reference>RestURL</title_reference> is an access address of the REST interface. Multi RestURLs
                        can be configured in &lt;RestURL&gt;(separated by “;”). When one of the RestURL
                        failed to connect, driver will retry another automatically.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><title_reference>UserName</title_reference> is a user name of an administrator.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><title_reference>UserPassword</title_reference> is a password of an administrator.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><title_reference>StoragePool</title_reference> is a name of a storage pool to be used.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><title_reference>SectorSize</title_reference> is the size of the disk blocks, optional value can be “4”, “8”, “16”, “32” or “64”,
                        and the units is KB. If “sectorsize” is configured in both share_type and xml file, the value
                        of sectorsize in the share_type will be used. If “sectorsize” is configured in neither
                        share_type nor xml file, huawei storage backends will provide a default value(64) when creating
                        a new share.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><title_reference>WaitInterval</title_reference> is the interval time of querying the file system status.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><title_reference>Timeout</title_reference> is the timeout period for waiting command execution of a device to
                        complete.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><title_reference>NFSClientIP</title_reference> is the backend IP in admin network to use for mounting NFS share.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><title_reference>CIFSClientUserName</title_reference> is the backend user name in admin network to use for mounting CIFS share.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><title_reference>CIFSClientUserPassword</title_reference> is the backend password in admin network to use for mounting CIFS share.</paragraph>
                </list_item>
            </bullet_list>
        </section>
        <section ids="backend-configuration" names="backend\ configuration">
            <title>Backend Configuration</title>
            <paragraph>Modify the <title_reference>manila.conf</title_reference> manila configuration file and add share_driver and
                manila_huawei_conf_file items.
                Example for configuring a storage system:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph><title_reference>share_driver</title_reference> = manila.share.drivers.huawei.huawei_nas.HuaweiNasDriver</paragraph>
                </list_item>
                <list_item>
                    <paragraph><title_reference>manila_huawei_conf_file</title_reference> = /etc/manila/manila_huawei_conf.xml</paragraph>
                </list_item>
                <list_item>
                    <paragraph><title_reference>driver_handles_share_servers</title_reference> = True or False</paragraph>
                </list_item>
            </bullet_list>
            <note>
                <bullet_list bullet="-">
                    <list_item>
                        <paragraph>If <title_reference>driver_handles_share_servers</title_reference> is True, the driver will choose a port
                            in &lt;Port&gt; to create vlan and logical port for each tenant network.
                            And the share type with the DHSS extra spec should be set to True when
                            creating shares.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>If <title_reference>driver_handles_share_servers</title_reference> is False, then will use the IP in
                            &lt;LogicalPortIP&gt;. Also the share type with the DHSS extra spec should be
                            set to False when creating shares.</paragraph>
                    </list_item>
                </bullet_list>
            </note>
            <paragraph>Restart of manila-share service is needed for the configuration changes to take
                effect.</paragraph>
        </section>
        <section ids="share-types" names="share\ types">
            <title>Share Types</title>
            <paragraph>When creating a share, a share type can be specified to determine where and
                how the share will be created. If a share type is not specified, the
                <title_reference>default_share_type</title_reference> set in the manila configuration file is used.</paragraph>
            <paragraph>Manila requires that the share type includes the <title_reference>driver_handles_share_servers</title_reference>
                extra-spec. This ensures that the share will be created on a backend that
                supports the requested driver_handles_share_servers (share networks) capability.
                For the Huawei driver, this must be set to False.</paragraph>
            <paragraph>To create a share on a backend with a specific type of disks, include the
                <title_reference>huawei_disk_type</title_reference> extra-spec in the share type. Valid values for this
                extra-spec are ‘ssd’, ‘sas’, ‘nl_sas’ or ‘mix’. This share will be created
                on a backend with a matching disk type.</paragraph>
            <paragraph>Another common manila extra-spec used to determine where a share is created
                is <title_reference>share_backend_name</title_reference>. When this extra-spec is defined in the share type,
                the share will be created on a backend with a matching share_backend_name.</paragraph>
            <paragraph>Manila “share types” may contain qualified extra-specs, -extra-specs that
                have significance for the backend driver and the CapabilityFilter. This
                commit makes the Huawei driver report the following boolean capabilities:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>capabilities:dedupe</paragraph>
                </list_item>
                <list_item>
                    <paragraph>capabilities:compression</paragraph>
                </list_item>
                <list_item>
                    <paragraph>capabilities:thin_provisioning</paragraph>
                </list_item>
                <list_item>
                    <paragraph>capabilities:huawei_smartcache</paragraph>
                    <bullet_list bullet="*">
                        <list_item>
                            <paragraph>huawei_smartcache:cachename</paragraph>
                        </list_item>
                    </bullet_list>
                </list_item>
                <list_item>
                    <paragraph>capabilities:huawei_smartpartition</paragraph>
                    <bullet_list bullet="*">
                        <list_item>
                            <paragraph>huawei_smartpartition:partitionname</paragraph>
                        </list_item>
                    </bullet_list>
                </list_item>
                <list_item>
                    <paragraph>capabilities:qos</paragraph>
                    <bullet_list bullet="*">
                        <list_item>
                            <paragraph>qos:maxIOPS</paragraph>
                        </list_item>
                        <list_item>
                            <paragraph>qos:minIOPS</paragraph>
                        </list_item>
                        <list_item>
                            <paragraph>qos:minbandwidth</paragraph>
                        </list_item>
                        <list_item>
                            <paragraph>qos:maxbandwidth</paragraph>
                        </list_item>
                        <list_item>
                            <paragraph>qos:latency</paragraph>
                        </list_item>
                        <list_item>
                            <paragraph>qos:iotype</paragraph>
                        </list_item>
                    </bullet_list>
                </list_item>
                <list_item>
                    <paragraph>capabilities:huawei_sectorsize</paragraph>
                </list_item>
            </bullet_list>
            <paragraph>The scheduler will choose a host that supports the needed
                capability when the CapabilityFilter is used and a share
                type uses one or more of the following extra-specs:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>capabilities:dedupe=’&lt;is&gt; True’ or ‘&lt;is&gt; False’</paragraph>
                </list_item>
                <list_item>
                    <paragraph>capabilities:compression=’&lt;is&gt; True’ or ‘&lt;is&gt; False’</paragraph>
                </list_item>
                <list_item>
                    <paragraph>capabilities:thin_provisioning=’&lt;is&gt; True’ or ‘&lt;is&gt; False’</paragraph>
                </list_item>
                <list_item>
                    <paragraph>capabilities:huawei_smartcache=’&lt;is&gt; True’ or ‘&lt;is&gt; False’</paragraph>
                    <bullet_list bullet="*">
                        <list_item>
                            <paragraph>huawei_smartcache:cachename=test_cache_name</paragraph>
                        </list_item>
                    </bullet_list>
                </list_item>
                <list_item>
                    <paragraph>capabilities:huawei_smartpartition=’&lt;is&gt; True’ or ‘&lt;is&gt; False’</paragraph>
                    <bullet_list bullet="*">
                        <list_item>
                            <paragraph>huawei_smartpartition:partitionname=test_partition_name</paragraph>
                        </list_item>
                    </bullet_list>
                </list_item>
                <list_item>
                    <paragraph>capabilities:qos=’&lt;is&gt; True’ or ‘&lt;is&gt; False’</paragraph>
                    <bullet_list bullet="*">
                        <list_item>
                            <paragraph>qos:maxIOPS=100</paragraph>
                        </list_item>
                        <list_item>
                            <paragraph>qos:minIOPS=10</paragraph>
                        </list_item>
                        <list_item>
                            <paragraph>qos:maxbandwidth=100</paragraph>
                        </list_item>
                        <list_item>
                            <paragraph>qos:minbandwidth=10</paragraph>
                        </list_item>
                        <list_item>
                            <paragraph>qos:latency=10</paragraph>
                        </list_item>
                        <list_item>
                            <paragraph>qos:iotype=0</paragraph>
                        </list_item>
                    </bullet_list>
                </list_item>
                <list_item>
                    <paragraph>capabilities:huawei_sectorsize=’&lt;is&gt; True’ or ‘&lt;is&gt; False’</paragraph>
                    <bullet_list bullet="*">
                        <list_item>
                            <paragraph>huawei_sectorsize:sectorsize=4</paragraph>
                        </list_item>
                    </bullet_list>
                </list_item>
                <list_item>
                    <paragraph>huawei_disk_type=’ssd’ or ‘sas’ or ‘nl_sas’ or ‘mix’</paragraph>
                </list_item>
            </bullet_list>
            <paragraph><title_reference>thin_provisioning</title_reference> will be reported as [True, False] for Huawei backends.</paragraph>
            <paragraph><title_reference>dedupe</title_reference> will be reported as [True, False] for Huawei backends.</paragraph>
            <paragraph><title_reference>compression</title_reference> will be reported as [True, False] for Huawei backends.</paragraph>
            <paragraph><title_reference>huawei_smartcache</title_reference> will be reported as [True, False] for Huawei backends.
                Adds SSDs into a high-speed cache pool and divides the pool into
                multiple cache partitions to cache hotspot data in random and small read I/Os.</paragraph>
            <paragraph><title_reference>huawei_smartpartition</title_reference> will be reported as [True, False] for Huawei backends.
                Add share to the smartpartition named ‘test_partition_name’.
                Allocates cache resources based on service characteristics,
                ensuring the quality of critical services.</paragraph>
            <paragraph><title_reference>qos</title_reference> will be reported as True for backends that use QoS (Quality of Service)
                specification.</paragraph>
            <paragraph><title_reference>huawei_sectorsize</title_reference> will be reported as [True, False] for Huawei backends.</paragraph>
            <paragraph><title_reference>huawei_disk_type</title_reference> will be reported as “ssd”, “sas”, “nl_sas” or “mix” for
                Huawei backends.</paragraph>
        </section>
        <section ids="restrictions" names="restrictions">
            <title>Restrictions</title>
            <paragraph>The Huawei driver has the following restrictions:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>IP and USER access types are supported for NFS.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Only LDAP domain is supported for NFS.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Only USER access type is supported for CIFS.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Only AD domain is supported for CIFS.</paragraph>
                </list_item>
            </bullet_list>
            <section ids="the-manila-share-drivers-huawei-huawei-nas-module" names="the\ manila.share.drivers.huawei.huawei_nas\ module">
                <title>The <literal classes="xref py py-mod">manila.share.drivers.huawei.huawei_nas</literal> Module</title>
                <paragraph>Huawei Nas Driver for Huawei storage arrays.</paragraph>
                <index entries=""></index>
                <desc desctype="class" domain="py" noindex="True" objtype="class">
                    <desc_signature class="" first="False" fullname="HuaweiNasDriver" module="manila.share.drivers.huawei.huawei_nas"><desc_annotation xml:space="preserve">class </desc_annotation><desc_name xml:space="preserve">HuaweiNasDriver</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">*args</desc_parameter><desc_parameter xml:space="preserve">**kwargs</desc_parameter></desc_parameterlist></desc_signature>
                    <desc_content>
                        <paragraph>Bases: <reference internal="True" reftitle="manila.share.driver.ShareDriver" refuri="share_replication#manila.share.driver.ShareDriver"><literal classes="xref py py-class">manila.share.driver.ShareDriver</literal></reference></paragraph>
                        <paragraph>Huawei Share Driver.</paragraph>
                        <paragraph>Executes commands relating to Shares.
                            Driver version history:</paragraph>
                        <literal_block xml:space="preserve">1.0 - Initial version.
1.1 - Add shrink share.
      Add extend share.
      Add manage share.
      Add share level(ro).
      Add smartx capabilities.
      Support multi pools in one backend.
1.2 - Add share server support.
      Add ensure share.
      Add QoS support.
      Add create share from snapshot.
1.3 - Add manage snapshot.
      Support reporting disk type of pool.
      Add replication support.</literal_block>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="HuaweiNasDriver" first="False" fullname="HuaweiNasDriver.allow_access" module="manila.share.drivers.huawei.huawei_nas"><desc_name xml:space="preserve">allow_access</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">share</desc_parameter><desc_parameter xml:space="preserve">access</desc_parameter><desc_parameter xml:space="preserve">share_server=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Allow access to the share.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="HuaweiNasDriver" first="False" fullname="HuaweiNasDriver.check_for_setup_error" module="manila.share.drivers.huawei.huawei_nas"><desc_name xml:space="preserve">check_for_setup_error</desc_name><desc_parameterlist xml:space="preserve"></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Returns an error if prerequisites aren’t met.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="HuaweiNasDriver" first="False" fullname="HuaweiNasDriver.create_replica" module="manila.share.drivers.huawei.huawei_nas"><desc_name xml:space="preserve">create_replica</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">replica_list</desc_parameter><desc_parameter xml:space="preserve">new_replica</desc_parameter><desc_parameter xml:space="preserve">access_rules</desc_parameter><desc_parameter xml:space="preserve">replica_snapshots</desc_parameter><desc_parameter xml:space="preserve">share_server=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Replicate the active replica to a new replica on this backend.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="HuaweiNasDriver" first="False" fullname="HuaweiNasDriver.create_share" module="manila.share.drivers.huawei.huawei_nas"><desc_name xml:space="preserve">create_share</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">share</desc_parameter><desc_parameter xml:space="preserve">share_server=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Create a share.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="HuaweiNasDriver" first="False" fullname="HuaweiNasDriver.create_share_from_snapshot" module="manila.share.drivers.huawei.huawei_nas"><desc_name xml:space="preserve">create_share_from_snapshot</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">share</desc_parameter><desc_parameter xml:space="preserve">snapshot</desc_parameter><desc_parameter xml:space="preserve">share_server=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Create a share from snapshot.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="HuaweiNasDriver" first="False" fullname="HuaweiNasDriver.create_snapshot" module="manila.share.drivers.huawei.huawei_nas"><desc_name xml:space="preserve">create_snapshot</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">snapshot</desc_parameter><desc_parameter xml:space="preserve">share_server=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Create a snapshot.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="HuaweiNasDriver" first="False" fullname="HuaweiNasDriver.delete_replica" module="manila.share.drivers.huawei.huawei_nas"><desc_name xml:space="preserve">delete_replica</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">replica_list</desc_parameter><desc_parameter xml:space="preserve">replica_snapshots</desc_parameter><desc_parameter xml:space="preserve">replica</desc_parameter><desc_parameter xml:space="preserve">share_server=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Delete a replica.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="HuaweiNasDriver" first="False" fullname="HuaweiNasDriver.delete_share" module="manila.share.drivers.huawei.huawei_nas"><desc_name xml:space="preserve">delete_share</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">share</desc_parameter><desc_parameter xml:space="preserve">share_server=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Delete a share.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="HuaweiNasDriver" first="False" fullname="HuaweiNasDriver.delete_snapshot" module="manila.share.drivers.huawei.huawei_nas"><desc_name xml:space="preserve">delete_snapshot</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">snapshot</desc_parameter><desc_parameter xml:space="preserve">share_server=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Delete a snapshot.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="HuaweiNasDriver" first="False" fullname="HuaweiNasDriver.deny_access" module="manila.share.drivers.huawei.huawei_nas"><desc_name xml:space="preserve">deny_access</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">share</desc_parameter><desc_parameter xml:space="preserve">access</desc_parameter><desc_parameter xml:space="preserve">share_server=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Deny access to the share.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="HuaweiNasDriver" first="False" fullname="HuaweiNasDriver.do_setup" module="manila.share.drivers.huawei.huawei_nas"><desc_name xml:space="preserve">do_setup</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Any initialization the huawei nas driver does while starting.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="HuaweiNasDriver" first="False" fullname="HuaweiNasDriver.ensure_share" module="manila.share.drivers.huawei.huawei_nas"><desc_name xml:space="preserve">ensure_share</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">share</desc_parameter><desc_parameter xml:space="preserve">share_server=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Ensure that share is exported.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="HuaweiNasDriver" first="False" fullname="HuaweiNasDriver.extend_share" module="manila.share.drivers.huawei.huawei_nas"><desc_name xml:space="preserve">extend_share</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">share</desc_parameter><desc_parameter xml:space="preserve">new_size</desc_parameter><desc_parameter xml:space="preserve">share_server=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="HuaweiNasDriver" first="False" fullname="HuaweiNasDriver.get_backend_driver" module="manila.share.drivers.huawei.huawei_nas"><desc_name xml:space="preserve">get_backend_driver</desc_name><desc_parameterlist xml:space="preserve"></desc_parameterlist></desc_signature>
                            <desc_content>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="HuaweiNasDriver" first="False" fullname="HuaweiNasDriver.get_network_allocations_number" module="manila.share.drivers.huawei.huawei_nas"><desc_name xml:space="preserve">get_network_allocations_number</desc_name><desc_parameterlist xml:space="preserve"></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Get number of network interfaces to be created.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="HuaweiNasDriver" first="False" fullname="HuaweiNasDriver.get_pool" module="manila.share.drivers.huawei.huawei_nas"><desc_name xml:space="preserve">get_pool</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">share</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Return pool name where the share resides on.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="HuaweiNasDriver" first="False" fullname="HuaweiNasDriver.manage_existing" module="manila.share.drivers.huawei.huawei_nas"><desc_name xml:space="preserve">manage_existing</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">share</desc_parameter><desc_parameter xml:space="preserve">driver_options</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Manage existing share.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="HuaweiNasDriver" first="False" fullname="HuaweiNasDriver.manage_existing_snapshot" module="manila.share.drivers.huawei.huawei_nas"><desc_name xml:space="preserve">manage_existing_snapshot</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">snapshot</desc_parameter><desc_parameter xml:space="preserve">driver_options</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Manage existing snapshot.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="HuaweiNasDriver" first="False" fullname="HuaweiNasDriver.promote_replica" module="manila.share.drivers.huawei.huawei_nas"><desc_name xml:space="preserve">promote_replica</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">replica_list</desc_parameter><desc_parameter xml:space="preserve">replica</desc_parameter><desc_parameter xml:space="preserve">access_rules</desc_parameter><desc_parameter xml:space="preserve">share_server=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Promote a replica to ‘active’ replica state..</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="HuaweiNasDriver" first="False" fullname="HuaweiNasDriver.shrink_share" module="manila.share.drivers.huawei.huawei_nas"><desc_name xml:space="preserve">shrink_share</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">share</desc_parameter><desc_parameter xml:space="preserve">new_size</desc_parameter><desc_parameter xml:space="preserve">share_server=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Shrinks size of existing share.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="HuaweiNasDriver" first="False" fullname="HuaweiNasDriver.update_access" module="manila.share.drivers.huawei.huawei_nas"><desc_name xml:space="preserve">update_access</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">share</desc_parameter><desc_parameter xml:space="preserve">access_rules</desc_parameter><desc_parameter xml:space="preserve">add_rules</desc_parameter><desc_parameter xml:space="preserve">delete_rules</desc_parameter><desc_parameter xml:space="preserve">share_server=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Update access rules list.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="HuaweiNasDriver" first="False" fullname="HuaweiNasDriver.update_replica_state" module="manila.share.drivers.huawei.huawei_nas"><desc_name xml:space="preserve">update_replica_state</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">replica_list</desc_parameter><desc_parameter xml:space="preserve">replica</desc_parameter><desc_parameter xml:space="preserve">access_rules</desc_parameter><desc_parameter xml:space="preserve">replica_snapshots</desc_parameter><desc_parameter xml:space="preserve">share_server=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Update the replica_state of a replica.</paragraph>
                            </desc_content>
                        </desc>
                    </desc_content>
                </desc>
            </section>
        </section>
    </section>
</document>
