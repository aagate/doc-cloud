<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.13.1 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/manila/doc/source/contributor/emc_vnx_driver.rst">
    <comment xml:space="preserve">Copyright (c) 2014 EMC Corporation
All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License"); you may
not use this file except in compliance with the License. You may obtain
a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
License for the specific language governing permissions and limitations
under the License.</comment>
    <section ids="vnx-driver" names="vnx\ driver">
        <title>VNX Driver</title>
        <paragraph>EMC manila driver framework (EMCShareDriver) utilizes the EMC storage products
            to provide the shared filesystems to OpenStack. The EMC manila driver is a
            plugin based driver which is designed to use different plugins to manage
            different EMC storage products.</paragraph>
        <paragraph>VNX plugin is the plugin which manages the VNX to provide shared filesystems.
            EMC driver framework with VNX plugin is referred to as VNX driver in this
            document.</paragraph>
        <paragraph>This driver performs the operations on VNX by XMLAPI and the File command line.
            Each backend manages one Data Mover of VNX. Multiple manila backends need to
            be configured to manage multiple Data Movers.</paragraph>
        <section ids="requirements" names="requirements">
            <title>Requirements</title>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>VNX OE for File version 7.1 or higher.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>VNX Unified, File only, or Gateway system with single storage backend.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>The following licenses should be activated on VNX for File:
                        * CIFS
                        * NFS
                        * SnapSure (for snapshot)
                        * ReplicationV2 (for create share from snapshot)</paragraph>
                </list_item>
            </bullet_list>
        </section>
        <section ids="supported-operations" names="supported\ operations">
            <title>Supported Operations</title>
            <paragraph>The following operations will be supported on VNX array:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>Create CIFS/NFS Share</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Delete CIFS/NFS Share</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Allow CIFS/NFS Share access
                        * Only IP access type is supported for NFS.
                        * Only user access type is supported for CIFS.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Deny CIFS/NFS Share access</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Create snapshot</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Delete snapshot</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Create share from snapshot</paragraph>
                </list_item>
            </bullet_list>
            <paragraph>While the generic driver creates shared filesystems based on Cinder volumes
                attached to Nova VMs, the VNX driver performs similar operations using the
                Data Movers on the array.</paragraph>
        </section>
        <section ids="pre-configurations-on-vnx" names="pre-configurations\ on\ vnx">
            <title>Pre-Configurations on VNX</title>
            <enumerated_list enumtype="arabic" prefix="" suffix=".">
                <list_item>
                    <paragraph>Enable Unicode on Data mover</paragraph>
                </list_item>
            </enumerated_list>
            <paragraph>VNX driver requires that the Unicode is enabled on Data Mover.</paragraph>
            <paragraph>CAUTION: After enabling Unicode, you cannot disable it. If there are some
                filesystems created before Unicode is enabled on the VNX, consult the storage
                administrator before enabling Unicode.</paragraph>
            <paragraph>To check the Unicode status on Data Mover, use the following VNX File command
                on VNX control station:</paragraph>
            <block_quote>
                <paragraph>server_cifs &lt;mover_name&gt; | head
                    where:
                    mover_name = &lt;name of the Data Mover&gt;</paragraph>
            </block_quote>
            <paragraph>Check the value of <title_reference>I18N mode</title_reference> field. UNICODE mode is shown as <title_reference>I18N mode =
                    UNICODE</title_reference></paragraph>
            <paragraph>To enable the Unicode for Data Mover:</paragraph>
            <block_quote>
                <paragraph>uc_config -on -mover &lt;mover_name&gt;
                    where:
                    mover_name = &lt;name of the Data Mover&gt;</paragraph>
            </block_quote>
            <paragraph>Refer to the document <title_reference>Using International Character Sets on VNX for File</title_reference>
                on [EMC support site](<reference refuri="http://support.emc.com">http://support.emc.com</reference>) for more information.</paragraph>
            <enumerated_list enumtype="arabic" prefix="" start="2" suffix=".">
                <list_item>
                    <paragraph>Enable CIFS service on Data Mover</paragraph>
                </list_item>
            </enumerated_list>
            <paragraph>Ensure the CIFS service is enabled on the Data Mover which is going to be
                managed by VNX driver.</paragraph>
            <paragraph>To start the CIFS service, use the following command:</paragraph>
            <block_quote>
                <paragraph>server_setup &lt;mover_name&gt; -Protocol cifs -option start [=&lt;n&gt;]
                    where:
                    &lt;mover_name&gt; = &lt;name of the Data Mover&gt;
                    [=&lt;n&gt;] = &lt;number of threads for CIFS users&gt;</paragraph>
            </block_quote>
            <paragraph>Note: If there is 1 GB of memory on the Data Mover, the default is 96 threads;
                however, if there is over 1 GB of memory, the default number of threads is 256.</paragraph>
            <paragraph>To check the CIFS service status, use this command:</paragraph>
            <block_quote>
                <paragraph>server_cifs &lt;mover_name&gt; | head
                    where:
                    &lt;mover_name&gt; = &lt;name of the Data Mover&gt;</paragraph>
            </block_quote>
            <paragraph>The command output will show the number of CIFS threads started.</paragraph>
            <enumerated_list enumtype="arabic" prefix="" start="3" suffix=".">
                <list_item>
                    <paragraph>NTP settings on Data Mover</paragraph>
                </list_item>
            </enumerated_list>
            <paragraph>VNX driver only supports CIFS share creation with share network which has an
                Active Directory security-service associated.</paragraph>
            <paragraph>Creating CIFS share requires that the time on the Data Mover is in sync with
                the Active Directory domain so that the CIFS server can join the domain.
                Otherwise, the domain join will fail when creating share with this security
                service. There is a limitation that the time of the domains used by
                security-services even for different tenants and different share networks
                should be in sync. Time difference should be less than 10 minutes.</paragraph>
            <paragraph>It is recommended to set the NTP server to the same public NTP server on both
                the Data Mover and domains used in security services to ensure the time is in
                sync everywhere.</paragraph>
            <paragraph>Check the date and time on Data Mover:</paragraph>
            <block_quote>
                <paragraph>server_date &lt;mover_name&gt;
                    where:
                    mover_name = &lt;name of the Data Mover&gt;</paragraph>
            </block_quote>
            <paragraph>Set the NTP server for Data Mover:</paragraph>
            <block_quote>
                <paragraph>server_date &lt;mover_name&gt; timesvc start ntp &lt;host&gt; [&lt;host&gt; …]
                    where:
                    mover_name = &lt;name of the Data Mover&gt;
                    host = &lt;IP address of the time server host&gt;</paragraph>
            </block_quote>
            <paragraph>Note: The host must be running the NTP protocol. Only 4 host entries are
                allowed.</paragraph>
            <enumerated_list enumtype="arabic" prefix="" start="4" suffix=".">
                <list_item>
                    <paragraph>Configure User Mapping on the Data Mover</paragraph>
                </list_item>
            </enumerated_list>
            <paragraph>Before creating CIFS share using VNX driver, you must select a method of
                mapping Windows SIDs to UIDs and GIDs. EMC recommends using usermapper in
                single protocol (CIFS) environment which is enabled on VNX by default.</paragraph>
            <paragraph>To check usermapper status, use this command syntax:</paragraph>
            <block_quote>
                <paragraph>server_usermapper &lt;movername&gt;
                    where:
                    &lt;movername&gt; = &lt;name of the Data Mover&gt;</paragraph>
            </block_quote>
            <paragraph>If usermapper is not started, the following command can be used to start the
                usermapper:</paragraph>
            <block_quote>
                <paragraph>server_usermapper &lt;movername&gt; -enable
                    where:
                    &lt;movername&gt; = &lt;name of the Data Mover&gt;</paragraph>
            </block_quote>
            <paragraph>For multiple protocol environment, refer to <title_reference>Configuring VNX User Mapping</title_reference> on
                [EMC support site](<reference refuri="http://support.emc.com">http://support.emc.com</reference>) for additional information.</paragraph>
            <enumerated_list enumtype="arabic" prefix="" start="5" suffix=".">
                <list_item>
                    <paragraph>Network Connection</paragraph>
                </list_item>
            </enumerated_list>
            <paragraph>In the current release, the share created by VNX driver uses the first network
                device (physical port on NIC) of Data Mover to access the network.</paragraph>
            <paragraph>Go to Unisphere to check the device list:
                Settings -&gt; Network -&gt; Settings for File (Unified system only) -&gt; Device.</paragraph>
        </section>
        <section ids="backend-configuration" names="backend\ configuration">
            <title>Backend Configuration</title>
            <paragraph>The following parameters need to be configured in <title_reference>/etc/manila/manila.conf</title_reference>
                for the VNX driver:</paragraph>
            <block_quote>
                <paragraph>emc_share_backend = vnx
                    emc_nas_server = &lt;IP address&gt;
                    emc_nas_password = &lt;password&gt;
                    emc_nas_login = &lt;user&gt;
                    emc_nas_server_container = &lt;Data Mover name&gt;
                    emc_nas_pool_name = &lt;pool name&gt;
                    emc_interface_ports = &lt;Comma separated ports list&gt;
                    share_driver = manila.share.drivers.dell_emc.driver.EMCShareDriver</paragraph>
            </block_quote>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph><title_reference>emc_share_backend</title_reference> is the plugin name. Set it to <title_reference>vnx</title_reference> for the VNX driver.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><title_reference>emc_nas_server</title_reference> is the control station IP address of the VNX system to be
                        managed.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><title_reference>emc_nas_password</title_reference> and <title_reference>emc_nas_login</title_reference> fields are used to provide credentials
                        to the VNX system. Only local users of VNX File is supported.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><title_reference>emc_nas_server_container</title_reference> field is the name of the Data Mover to serve the
                        share service.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><title_reference>emc_nas_pool_name</title_reference> is the pool name user wants to create volume from. The
                        pools can be created using Unisphere for VNX.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><title_reference>emc_interface_ports</title_reference> is comma separated list specifying the ports(devices) of
                        Data Mover that can be used for share server interface.
                        Members of the list can be Unix-style glob expressions (supports Unix shell-style
                        wildcards). This list is optional. In the absence of this option, any of the ports
                        on the Data Mover can be used.</paragraph>
                </list_item>
            </bullet_list>
            <paragraph>Restart of <reference internal="True" refuri="../reference/glossary#term-manila-share"><inline classes="xref std std-term">manila-share</inline></reference> service is needed for the configuration changes to take
                effect.</paragraph>
        </section>
        <section ids="restrictions" names="restrictions">
            <title>Restrictions</title>
            <paragraph>The VNX driver has the following restrictions:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>Only IP access type is supported for NFS.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Only user access type is supported for CIFS.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Only FLAT network and VLAN network are supported.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>VLAN network is supported with limitations. The Neutron subnets in different
                        VLANs that are used to create share networks cannot have overlapped address
                        spaces. Otherwise, VNX may have a problem to communicate with the hosts in
                        the VLANs. To create shares for different VLANs with same subnet address, use
                        different Data Movers.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>The ‘Active Directory’ security service is the only supported security
                        service type and it is required to create CIFS shares.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Only one security service can be configured for each share network.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Active Directory domain name of the ‘active_directory’ security service
                        should be unique even for different tenants.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>The time on Data Mover and the Active Directory domains used in security
                        services should be in sync (time difference should be less than 10 minutes).
                        It is recommended to use same NTP server on both the Data Mover and Active
                        Directory domains.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>On VNX the snapshot is stored in the SavVols. VNX system allows the space
                        used by SavVol to be created and extended until the sum of the space consumed
                        by all SavVols on the system exceeds the default 20% of the total space
                        available on the system. If the 20% threshold value is reached, an alert will
                        be generated on VNX. Continuing to create snapshot will cause the old
                        snapshot to be inactivated (and the snapshot data to be abandoned). The limit
                        percentage value can be changed manually by storage administrator based on
                        the storage needs. Administrator is recommended to configure the notification
                        on the SavVol usage. Refer to <title_reference>Using VNX SnapSure</title_reference> document on [EMC support
                        site](<reference refuri="http://support.emc.com">http://support.emc.com</reference>) for more information.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>VNX has limitations on the overall numbers of Virtual Data Movers,
                        filesystems, shares, checkpoints, and etc. Virtual Data Mover(VDM) is created
                        by the VNX driver on the VNX to serve as the manila share server. Similarly,
                        filesystem is created, mounted, and exported from the VDM over CIFS or NFS
                        protocol to serve as the manila share. The VNX checkpoint serves as the
                        manila share snapshot. Refer to the <title_reference>NAS Support Matrix</title_reference> document on [EMC
                        support site](<reference refuri="http://support.emc.com">http://support.emc.com</reference>) for the limitations and configure the
                        quotas accordingly.</paragraph>
                </list_item>
            </bullet_list>
            <section ids="the-manila-share-drivers-dell-emc-driver-module" names="the\ manila.share.drivers.dell_emc.driver\ module">
                <title>The <literal classes="xref py py-mod">manila.share.drivers.dell_emc.driver</literal> Module</title>
                <paragraph>EMC specific NAS storage driver. This driver is a pluggable driver
                    that allows specific EMC NAS devices to be plugged-in as the underlying
                    backend. Use the Manila configuration variable “share_backend_name”
                    to specify, which backend plugins to use.</paragraph>
                <index entries=""></index>
                <desc desctype="class" domain="py" noindex="True" objtype="class">
                    <desc_signature class="" first="False" fullname="EMCShareDriver" module="manila.share.drivers.dell_emc.driver"><desc_annotation xml:space="preserve">class </desc_annotation><desc_name xml:space="preserve">EMCShareDriver</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">*args</desc_parameter><desc_parameter xml:space="preserve">**kwargs</desc_parameter></desc_parameterlist></desc_signature>
                    <desc_content>
                        <paragraph>Bases: <reference internal="True" reftitle="manila.share.driver.ShareDriver" refuri="share_replication#manila.share.driver.ShareDriver"><literal classes="xref py py-class">manila.share.driver.ShareDriver</literal></reference></paragraph>
                        <paragraph>EMC specific NAS driver. Allows for NFS and CIFS NAS storage usage.</paragraph>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="EMCShareDriver" first="False" fullname="EMCShareDriver.allow_access" module="manila.share.drivers.dell_emc.driver"><desc_name xml:space="preserve">allow_access</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">share</desc_parameter><desc_parameter xml:space="preserve">access</desc_parameter><desc_parameter xml:space="preserve">share_server=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Allow access to the share.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="EMCShareDriver" first="False" fullname="EMCShareDriver.check_for_setup_error" module="manila.share.drivers.dell_emc.driver"><desc_name xml:space="preserve">check_for_setup_error</desc_name><desc_parameterlist xml:space="preserve"></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Check for setup error.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="EMCShareDriver" first="False" fullname="EMCShareDriver.create_share" module="manila.share.drivers.dell_emc.driver"><desc_name xml:space="preserve">create_share</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">share</desc_parameter><desc_parameter xml:space="preserve">share_server=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Is called to create share.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="EMCShareDriver" first="False" fullname="EMCShareDriver.create_share_from_snapshot" module="manila.share.drivers.dell_emc.driver"><desc_name xml:space="preserve">create_share_from_snapshot</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">share</desc_parameter><desc_parameter xml:space="preserve">snapshot</desc_parameter><desc_parameter xml:space="preserve">share_server=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Is called to create share from snapshot.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="EMCShareDriver" first="False" fullname="EMCShareDriver.create_snapshot" module="manila.share.drivers.dell_emc.driver"><desc_name xml:space="preserve">create_snapshot</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">snapshot</desc_parameter><desc_parameter xml:space="preserve">share_server=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Is called to create snapshot.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="EMCShareDriver" first="False" fullname="EMCShareDriver.delete_share" module="manila.share.drivers.dell_emc.driver"><desc_name xml:space="preserve">delete_share</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">share</desc_parameter><desc_parameter xml:space="preserve">share_server=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Is called to remove share.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="EMCShareDriver" first="False" fullname="EMCShareDriver.delete_snapshot" module="manila.share.drivers.dell_emc.driver"><desc_name xml:space="preserve">delete_snapshot</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">snapshot</desc_parameter><desc_parameter xml:space="preserve">share_server=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Is called to remove snapshot.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="EMCShareDriver" first="False" fullname="EMCShareDriver.deny_access" module="manila.share.drivers.dell_emc.driver"><desc_name xml:space="preserve">deny_access</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">share</desc_parameter><desc_parameter xml:space="preserve">access</desc_parameter><desc_parameter xml:space="preserve">share_server=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Deny access to the share.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="EMCShareDriver" first="False" fullname="EMCShareDriver.do_setup" module="manila.share.drivers.dell_emc.driver"><desc_name xml:space="preserve">do_setup</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Any initialization the share driver does while starting.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="EMCShareDriver" first="False" fullname="EMCShareDriver.ensure_share" module="manila.share.drivers.dell_emc.driver"><desc_name xml:space="preserve">ensure_share</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">share</desc_parameter><desc_parameter xml:space="preserve">share_server=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Invoked to sure that share is exported.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="EMCShareDriver" first="False" fullname="EMCShareDriver.extend_share" module="manila.share.drivers.dell_emc.driver"><desc_name xml:space="preserve">extend_share</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">share</desc_parameter><desc_parameter xml:space="preserve">new_size</desc_parameter><desc_parameter xml:space="preserve">share_server=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Is called to extend share.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="EMCShareDriver" first="False" fullname="EMCShareDriver.get_network_allocations_number" module="manila.share.drivers.dell_emc.driver"><desc_name xml:space="preserve">get_network_allocations_number</desc_name><desc_parameterlist xml:space="preserve"></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Returns number of network allocations for creating VIFs.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="EMCShareDriver" first="False" fullname="EMCShareDriver.update_access" module="manila.share.drivers.dell_emc.driver"><desc_name xml:space="preserve">update_access</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">share</desc_parameter><desc_parameter xml:space="preserve">access_rules</desc_parameter><desc_parameter xml:space="preserve">add_rules</desc_parameter><desc_parameter xml:space="preserve">delete_rules</desc_parameter><desc_parameter xml:space="preserve">share_server=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Update access to the share.</paragraph>
                            </desc_content>
                        </desc>
                    </desc_content>
                </desc>
            </section>
            <section ids="the-manila-share-drivers-dell-emc-plugins-vnx-connection-module" names="the\ manila.share.drivers.dell_emc.plugins.vnx.connection\ module">
                <title>The <literal classes="xref py py-mod">manila.share.drivers.dell_emc.plugins.vnx.connection</literal> Module</title>
                <paragraph>VNX backend for the EMC Manila driver.</paragraph>
                <index entries=""></index>
                <desc desctype="class" domain="py" noindex="True" objtype="class">
                    <desc_signature class="" first="False" fullname="VNXStorageConnection" module="manila.share.drivers.dell_emc.plugins.vnx.connection"><desc_annotation xml:space="preserve">class </desc_annotation><desc_name xml:space="preserve">VNXStorageConnection</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">*args</desc_parameter><desc_parameter xml:space="preserve">**kwargs</desc_parameter></desc_parameterlist></desc_signature>
                    <desc_content>
                        <paragraph>Bases: <literal classes="xref py py-class">manila.share.drivers.dell_emc.plugins.base.StorageConnection</literal></paragraph>
                        <paragraph>Implements VNX specific functionality for EMC Manila driver.</paragraph>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="VNXStorageConnection" first="False" fullname="VNXStorageConnection.allow_access" module="manila.share.drivers.dell_emc.plugins.vnx.connection"><desc_name xml:space="preserve">allow_access</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">share</desc_parameter><desc_parameter xml:space="preserve">access</desc_parameter><desc_parameter xml:space="preserve">share_server=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Allow access to a share.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="VNXStorageConnection" first="False" fullname="VNXStorageConnection.check_for_setup_error" module="manila.share.drivers.dell_emc.plugins.vnx.connection"><desc_name xml:space="preserve">check_for_setup_error</desc_name><desc_parameterlist xml:space="preserve"></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Check for setup error.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="VNXStorageConnection" first="False" fullname="VNXStorageConnection.clear_access" module="manila.share.drivers.dell_emc.plugins.vnx.connection"><desc_name xml:space="preserve">clear_access</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">share</desc_parameter><desc_parameter xml:space="preserve">share_server</desc_parameter><desc_parameter xml:space="preserve">white_list</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="VNXStorageConnection" first="False" fullname="VNXStorageConnection.connect" module="manila.share.drivers.dell_emc.plugins.vnx.connection"><desc_name xml:space="preserve">connect</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">emc_share_driver</desc_parameter><desc_parameter xml:space="preserve">context</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Connect to VNX NAS server.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="VNXStorageConnection" first="False" fullname="VNXStorageConnection.create_share" module="manila.share.drivers.dell_emc.plugins.vnx.connection"><desc_name xml:space="preserve">create_share</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">share</desc_parameter><desc_parameter xml:space="preserve">share_server=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Create a share and export it based on protocol used.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="VNXStorageConnection" first="False" fullname="VNXStorageConnection.create_share_from_snapshot" module="manila.share.drivers.dell_emc.plugins.vnx.connection"><desc_name xml:space="preserve">create_share_from_snapshot</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">share</desc_parameter><desc_parameter xml:space="preserve">snapshot</desc_parameter><desc_parameter xml:space="preserve">share_server=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Create a share from a snapshot - clone a snapshot.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="VNXStorageConnection" first="False" fullname="VNXStorageConnection.create_snapshot" module="manila.share.drivers.dell_emc.plugins.vnx.connection"><desc_name xml:space="preserve">create_snapshot</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">snapshot</desc_parameter><desc_parameter xml:space="preserve">share_server=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Create snapshot from share.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="VNXStorageConnection" first="False" fullname="VNXStorageConnection.delete_share" module="manila.share.drivers.dell_emc.plugins.vnx.connection"><desc_name xml:space="preserve">delete_share</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">share</desc_parameter><desc_parameter xml:space="preserve">share_server=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Delete a share.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="VNXStorageConnection" first="False" fullname="VNXStorageConnection.delete_snapshot" module="manila.share.drivers.dell_emc.plugins.vnx.connection"><desc_name xml:space="preserve">delete_snapshot</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">snapshot</desc_parameter><desc_parameter xml:space="preserve">share_server=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Delete a snapshot.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="VNXStorageConnection" first="False" fullname="VNXStorageConnection.deny_access" module="manila.share.drivers.dell_emc.plugins.vnx.connection"><desc_name xml:space="preserve">deny_access</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">share</desc_parameter><desc_parameter xml:space="preserve">access</desc_parameter><desc_parameter xml:space="preserve">share_server=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Deny access to a share.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="VNXStorageConnection" first="False" fullname="VNXStorageConnection.ensure_share" module="manila.share.drivers.dell_emc.plugins.vnx.connection"><desc_name xml:space="preserve">ensure_share</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">share</desc_parameter><desc_parameter xml:space="preserve">share_server=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Ensure that the share is exported.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="VNXStorageConnection" first="False" fullname="VNXStorageConnection.extend_share" module="manila.share.drivers.dell_emc.plugins.vnx.connection"><desc_name xml:space="preserve">extend_share</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">share</desc_parameter><desc_parameter xml:space="preserve">new_size</desc_parameter><desc_parameter xml:space="preserve">share_server=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="VNXStorageConnection" first="False" fullname="VNXStorageConnection.get_managed_ports" module="manila.share.drivers.dell_emc.plugins.vnx.connection"><desc_name xml:space="preserve">get_managed_ports</desc_name><desc_parameterlist xml:space="preserve"></desc_parameterlist></desc_signature>
                            <desc_content>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="VNXStorageConnection" first="False" fullname="VNXStorageConnection.get_network_allocations_number" module="manila.share.drivers.dell_emc.plugins.vnx.connection"><desc_name xml:space="preserve">get_network_allocations_number</desc_name><desc_parameterlist xml:space="preserve"></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Returns number of network allocations for creating VIFs.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="VNXStorageConnection" first="False" fullname="VNXStorageConnection.get_pool" module="manila.share.drivers.dell_emc.plugins.vnx.connection"><desc_name xml:space="preserve">get_pool</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">share</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Get the pool name of the share.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="VNXStorageConnection" first="False" fullname="VNXStorageConnection.setup_server" module="manila.share.drivers.dell_emc.plugins.vnx.connection"><desc_name xml:space="preserve">setup_server</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">network_info</desc_parameter><desc_parameter xml:space="preserve">metadata=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Set up and configures share server with given network parameters.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="VNXStorageConnection" first="False" fullname="VNXStorageConnection.teardown_server" module="manila.share.drivers.dell_emc.plugins.vnx.connection"><desc_name xml:space="preserve">teardown_server</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">server_details</desc_parameter><desc_parameter xml:space="preserve">security_services=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Teardown share server.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="VNXStorageConnection" first="False" fullname="VNXStorageConnection.update_access" module="manila.share.drivers.dell_emc.plugins.vnx.connection"><desc_name xml:space="preserve">update_access</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">share</desc_parameter><desc_parameter xml:space="preserve">access_rules</desc_parameter><desc_parameter xml:space="preserve">add_rules</desc_parameter><desc_parameter xml:space="preserve">delete_rules</desc_parameter><desc_parameter xml:space="preserve">share_server=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="VNXStorageConnection" first="False" fullname="VNXStorageConnection.update_share_stats" module="manila.share.drivers.dell_emc.plugins.vnx.connection"><desc_name xml:space="preserve">update_share_stats</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">stats_dict</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Communicate with EMCNASClient to get the stats.</paragraph>
                            </desc_content>
                        </desc>
                    </desc_content>
                </desc>
            </section>
        </section>
    </section>
</document>
