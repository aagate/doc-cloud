<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.13.1 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/manila/doc/source/contributor/netapp_cluster_mode_driver.rst">
    <comment xml:space="preserve">Copyright 2014 Mirantis Inc.
All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License"); you may
not use this file except in compliance with the License. You may obtain
a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
License for the specific language governing permissions and limitations
under the License.</comment>
    <section ids="netapp-clustered-data-ontap" names="netapp\ clustered\ data\ ontap">
        <title>NetApp Clustered Data ONTAP</title>
        <paragraph>The Shared File Systems service can be configured to use
            NetApp Clustered Data ONTAP (cDOT) version 8.2 and later.</paragraph>
        <section ids="supported-operations" names="supported\ operations">
            <title>Supported Operations</title>
            <paragraph>The following operations are supported on Clustered Data ONTAP:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>Create CIFS/NFS Share</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Delete CIFS/NFS Share</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Allow NFS Share access</paragraph>
                    <bullet_list bullet="*">
                        <list_item>
                            <paragraph>IP access type is supported for NFS.</paragraph>
                        </list_item>
                        <list_item>
                            <paragraph>Read/write and read-only access are supported for NFS.</paragraph>
                        </list_item>
                    </bullet_list>
                </list_item>
                <list_item>
                    <paragraph>Allow CIFS Share access</paragraph>
                    <bullet_list bullet="*">
                        <list_item>
                            <paragraph>User access type is supported for CIFS.</paragraph>
                        </list_item>
                        <list_item>
                            <paragraph>Read/write access is supported for CIFS.</paragraph>
                        </list_item>
                    </bullet_list>
                </list_item>
                <list_item>
                    <paragraph>Deny CIFS/NFS Share access</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Create snapshot</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Delete snapshot</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Create share from snapshot</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Extend share</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Shrink share</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Manage share</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Unmanage share</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Create consistency group</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Delete consistency group</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Create consistency group from CG snapshot</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Create CG snapshot</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Delete CG snapshot</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Create a replica (DHSS=False)</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Promote a replica (DHSS=False)</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Delete a replica (DHSS=False)</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Update a replica (DHSS=False)</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Create a replicated snapshot (DHSS=False)</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Delete a replicated snapshot (DHSS=False)</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Update a replicated snapshot (DHSS=False)</paragraph>
                </list_item>
            </bullet_list>
            <note>
                <paragraph><reference internal="True" refuri="../reference/glossary#term-dhss"><inline classes="xref std std-term">DHSS</inline></reference> is abbreviated from <title_reference>driver_handles_share_servers</title_reference>.</paragraph>
            </note>
        </section>
        <section ids="supported-operating-modes" names="supported\ operating\ modes">
            <title>Supported Operating Modes</title>
            <paragraph>The cDOT driver supports both ‘driver_handles_share_servers’ (<reference internal="True" refuri="../reference/glossary#term-dhss"><inline classes="xref std std-term">DHSS</inline></reference>)
                modes.</paragraph>
            <paragraph>If ‘driver_handles_share_servers’ is True, the driver will create a storage
                virtual machine (SVM, previously known as vServers) for each unique tenant
                network and provision each of a tenant’s shares into that SVM.  This requires
                the user to specify both a share network as well as a share type with the DHSS
                extra spec set to True when creating shares.</paragraph>
            <paragraph>If ‘driver_handles_share_servers’ is False, the manila admin must configure a
                single SVM, along with associated LIFs and protocol services, that will be
                used for provisioning shares.  The SVM is specified in the manila config file.</paragraph>
        </section>
        <section ids="network-approach" names="network\ approach">
            <title>Network approach</title>
            <paragraph>L3 connectivity between the storage cluster and manila host must exist, and
                VLAN segmentation may be configured.  All of manila’s network plug-ins are
                supported with the cDOT driver.</paragraph>
        </section>
        <section ids="supported-shared-filesystems" names="supported\ shared\ filesystems">
            <title>Supported shared filesystems</title>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>NFS (access by IP address or subnet)</paragraph>
                </list_item>
                <list_item>
                    <paragraph>CIFS (authentication by user)</paragraph>
                </list_item>
            </bullet_list>
        </section>
        <section ids="required-licenses" names="required\ licenses">
            <title>Required licenses</title>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>NFS</paragraph>
                </list_item>
                <list_item>
                    <paragraph>CIFS</paragraph>
                </list_item>
                <list_item>
                    <paragraph>FlexClone</paragraph>
                </list_item>
            </bullet_list>
        </section>
        <section ids="known-restrictions" names="known\ restrictions">
            <title>Known restrictions</title>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>For CIFS shares an external Active Directory (AD) service is required. The AD
                        details should be provided via a manila security service that is attached to
                        the specified share network.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Share access rules for CIFS shares may be created only for existing users
                        in Active Directory.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>The time on external security services and storage must be synchronized. The
                        maximum allowed clock skew is 5 minutes.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>cDOT supports only flat and VLAN network segmentation types.</paragraph>
                </list_item>
            </bullet_list>
            <section ids="the-manila-share-drivers-netapp-common-py-module" names="the\ manila.share.drivers.netapp.common.py\ module">
                <title>The <literal classes="xref py py-mod">manila.share.drivers.netapp.common.py</literal> Module</title>
                <paragraph>Unified driver for NetApp storage systems.</paragraph>
                <paragraph>Supports multiple storage systems of different families and driver modes.</paragraph>
                <index entries=""></index>
                <desc desctype="class" domain="py" noindex="True" objtype="class">
                    <desc_signature class="" first="False" fullname="NetAppDriver" module="manila.share.drivers.netapp.common"><desc_annotation xml:space="preserve">class </desc_annotation><desc_name xml:space="preserve">NetAppDriver</desc_name></desc_signature>
                    <desc_content>
                        <paragraph>Bases: <literal classes="xref py py-class">object</literal></paragraph>
                        <paragraph>“NetApp unified share storage driver.</paragraph>
                        <paragraph>Acts as a factory to create NetApp storage drivers based on the
                            storage family and driver mode configured.</paragraph>
                        <index entries=""></index>
                        <desc desctype="attribute" domain="py" noindex="True" objtype="attribute">
                            <desc_signature class="NetAppDriver" first="False" fullname="NetAppDriver.REQUIRED_FLAGS" module="manila.share.drivers.netapp.common"><desc_name xml:space="preserve">REQUIRED_FLAGS</desc_name><desc_annotation xml:space="preserve"> = ['netapp_storage_family', 'driver_handles_share_servers']</desc_annotation></desc_signature>
                            <desc_content>
                            </desc_content>
                        </desc>
                    </desc_content>
                </desc>
            </section>
        </section>
    </section>
</document>
