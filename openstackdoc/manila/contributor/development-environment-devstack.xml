<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.13.1 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/manila/doc/source/contributor/development-environment-devstack.rst">
    <comment xml:space="preserve">Copyright 2016 Red Hat, Inc.
All Rights Reserved.
not use this file except in compliance with the License. You may obtain
a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
License for the specific language governing permissions and limitations
under the License.</comment>
    <section ids="setting-up-a-development-environment-with-devstack" names="setting\ up\ a\ development\ environment\ with\ devstack">
        <title>Setting up a development environment with devstack</title>
        <paragraph>This page describes how to setup a working development
            environment that can be used in deploying manila on latest releases
            of Ubuntu or Fedora. These instructions assume you are already familiar
            with git. Refer to <reference name="Getting the code" refuri="http://wiki.openstack.org/GettingTheCode">Getting the code</reference> for additional information.</paragraph>
        <target ids="getting-the-code" names="getting\ the\ code" refuri="http://wiki.openstack.org/GettingTheCode"></target>
        <paragraph>Following these instructions will allow you to have a fully functional manila
            environment using the devstack project (a shell script to build
            complete OpenStack development environments).</paragraph>
        <section ids="configuring-devstack-with-manila" names="configuring\ devstack\ with\ manila">
            <title>Configuring devstack with manila</title>
            <section ids="manila" names="manila">
                <title>Manila</title>
                <paragraph>Manila can be enabled in devstack by using the plug-in based interface it
                    offers.</paragraph>
                <paragraph>Start by cloning the devstack repository:</paragraph>
                <literal_block xml:space="preserve">git clone https://github.com/openstack-dev/devstack</literal_block>
                <paragraph>Change to devstack directory:</paragraph>
                <literal_block xml:space="preserve">cd devstack/</literal_block>
                <paragraph>Copy the local.conf sample file to the upper level directory:</paragraph>
                <literal_block xml:space="preserve">cp samples/local.conf .</literal_block>
                <paragraph>Enable the manila plugin adding the following line to the end of the local.conf file:</paragraph>
                <literal_block xml:space="preserve">enable_plugin manila https://github.com/openstack/manila</literal_block>
                <paragraph>If you would like to install python-manilaclient from git, add to local.conf:</paragraph>
                <literal_block xml:space="preserve">LIBS_FROM_GIT="python-manilaclient"</literal_block>
            </section>
            <section ids="manila-ui" names="manila\ ui">
                <title>Manila UI</title>
                <paragraph>In order to use the manila UI you will need to enable the UI plugin separately.</paragraph>
                <paragraph>This is done in a similar fashion than enabling manila for devstack.</paragraph>
                <paragraph>Make sure you have horizon enabled (enabled by default in current devstack).</paragraph>
                <paragraph>Then, enable the manila UI plugin adding the following line to the end of the local.conf file,
                    just after manila plugin enablement:</paragraph>
                <literal_block xml:space="preserve">enable_plugin manila-ui https://github.com/openstack/manila-ui</literal_block>
            </section>
        </section>
        <section ids="running-devstack" names="running\ devstack">
            <title>Running devstack</title>
            <paragraph>Run the stack.sh script:</paragraph>
            <literal_block xml:space="preserve">./stack.sh</literal_block>
            <paragraph>After it completes, you should have manila services running.
                You can check if they are running by attaching to the screen:</paragraph>
            <literal_block xml:space="preserve">screen -r stack</literal_block>
            <paragraph>And navigating to the manila service tabs (use ctrl+a n, ctrl+a p,
                ctrl+a ‚Äù &lt;screen number&gt; to navigate,
                ctrl+a esc to enter scrollback mode
                and ctrl+a d to detach from the screen).</paragraph>
            <paragraph>If you enabled manila UI as well, you should be able to access manila UI
                from the dashboard.</paragraph>
        </section>
    </section>
</document>
