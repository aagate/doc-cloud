<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.13.1 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/manila/doc/source/contributor/hpe_3par_driver.rst">
    <comment xml:space="preserve">Copyright 2015 Hewlett Packard Development Company, L.P.

Licensed under the Apache License, Version 2.0 (the "License"); you may
not use this file except in compliance with the License. You may obtain
a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
License for the specific language governing permissions and limitations
under the License.</comment>
    <section ids="hpe-3par-driver" names="hpe\ 3par\ driver">
        <title>HPE 3PAR Driver</title>
        <paragraph>The HPE 3PAR manila driver provides NFS and CIFS shared file systems to
            OpenStack using HPE 3PAR’s File Persona capabilities.</paragraph>
        <note>
            <paragraph>In OpenStack releases prior to Mitaka this driver was called the
                HP 3PAR driver. The Liberty configuration reference can be found
                at: <reference refuri="http://docs.openstack.org/liberty/config-reference/content/hp-3par-share-driver.html">http://docs.openstack.org/liberty/config-reference/content/hp-3par-share-driver.html</reference></paragraph>
        </note>
        <section ids="supported-operations" names="supported\ operations">
            <title>Supported Operations</title>
            <paragraph>The following operations are supported with HPE 3PAR File Persona:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>Create/delete NFS and CIFS shares</paragraph>
                    <bullet_list bullet="*">
                        <list_item>
                            <paragraph>Shares are not accessible until access rules allow access</paragraph>
                        </list_item>
                    </bullet_list>
                </list_item>
                <list_item>
                    <paragraph>Allow/deny NFS share access</paragraph>
                    <bullet_list bullet="*">
                        <list_item>
                            <paragraph>IP access rules are required for NFS share access</paragraph>
                        </list_item>
                    </bullet_list>
                </list_item>
                <list_item>
                    <paragraph>Allow/deny CIFS share access</paragraph>
                    <bullet_list bullet="*">
                        <list_item>
                            <paragraph>CIFS shares require user access rules.</paragraph>
                        </list_item>
                        <list_item>
                            <paragraph>User access requires a 3PAR local or AD user (LDAP is not yet supported)</paragraph>
                        </list_item>
                    </bullet_list>
                </list_item>
                <list_item>
                    <paragraph>Create/delete snapshots</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Create shares from snapshots</paragraph>
                </list_item>
            </bullet_list>
            <paragraph>Share networks are not supported. Shares are created directly on the 3PAR
                without the use of a share server or service VM. Network connectivity is
                setup outside of manila.</paragraph>
        </section>
        <section ids="requirements" names="requirements">
            <title>Requirements</title>
            <paragraph>On the system running the manila share service:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>python-3parclient 4.2.0 or newer from PyPI.</paragraph>
                </list_item>
            </bullet_list>
            <paragraph>On the HPE 3PAR array:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>HPE 3PAR Operating System software version 3.2.1 MU3 or higher</paragraph>
                </list_item>
                <list_item>
                    <paragraph>A license that enables the File Persona feature</paragraph>
                </list_item>
                <list_item>
                    <paragraph>The array class and hardware configuration must support File Persona</paragraph>
                </list_item>
            </bullet_list>
        </section>
        <section ids="pre-configuration-on-the-hpe-3par" names="pre-configuration\ on\ the\ hpe\ 3par">
            <title>Pre-Configuration on the HPE 3PAR</title>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>HPE 3PAR File Persona must be initialized and started (<literal classes="code">startfs</literal>)</paragraph>
                </list_item>
                <list_item>
                    <paragraph>A File Provisioning Group (FPG) must be created for use with manila</paragraph>
                </list_item>
                <list_item>
                    <paragraph>A Virtual File Server (VFS) must be created for the FPG</paragraph>
                </list_item>
                <list_item>
                    <paragraph>The VFS must be configured with an appropriate share export IP address</paragraph>
                </list_item>
                <list_item>
                    <paragraph>A local user in the Administrators group is needed for CIFS shares</paragraph>
                </list_item>
            </bullet_list>
        </section>
        <section ids="backend-configuration" names="backend\ configuration">
            <title>Backend Configuration</title>
            <paragraph>The following parameters need to be configured in the manila configuration
                file for the HPE 3PAR driver:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph><title_reference>share_backend_name</title_reference> = &lt;backend name to enable&gt;</paragraph>
                </list_item>
                <list_item>
                    <paragraph><title_reference>share_driver</title_reference> = manila.share.drivers.hpe.hpe_3par_driver.HPE3ParShareDriver</paragraph>
                </list_item>
                <list_item>
                    <paragraph><title_reference>driver_handles_share_servers</title_reference> = False</paragraph>
                </list_item>
                <list_item>
                    <paragraph><title_reference>hpe3par_fpg</title_reference> = &lt;FPG to use for share creation&gt;</paragraph>
                </list_item>
                <list_item>
                    <paragraph><title_reference>hpe3par_share_ip_address</title_reference> = &lt;IP address to use for share export location&gt;</paragraph>
                </list_item>
                <list_item>
                    <paragraph><title_reference>hpe3par_san_ip</title_reference> = &lt;IP address for SSH access to the SAN controller&gt;</paragraph>
                </list_item>
                <list_item>
                    <paragraph><title_reference>hpe3par_api_url</title_reference> = &lt;3PAR WS API Server URL&gt;</paragraph>
                </list_item>
                <list_item>
                    <paragraph><title_reference>hpe3par_username</title_reference> = &lt;3PAR username with the ‘edit’ role&gt;</paragraph>
                </list_item>
                <list_item>
                    <paragraph><title_reference>hpe3par_password</title_reference> = &lt;3PAR password for the user specified in hpe3par_username&gt;</paragraph>
                </list_item>
                <list_item>
                    <paragraph><title_reference>hpe3par_san_login</title_reference> = &lt;Username for SSH access to the SAN controller&gt;</paragraph>
                </list_item>
                <list_item>
                    <paragraph><title_reference>hpe3par_san_password</title_reference> = &lt;Password for SSH access to the SAN controller&gt;</paragraph>
                </list_item>
                <list_item>
                    <paragraph><title_reference>hpe3par_debug</title_reference> = &lt;False or True for extra debug logging&gt;</paragraph>
                </list_item>
                <list_item>
                    <paragraph><title_reference>hpe3par_cifs_admin_access_username</title_reference> = &lt;CIFS admin user name&gt;</paragraph>
                </list_item>
                <list_item>
                    <paragraph><title_reference>hpe3par_cifs_admin_access_password</title_reference> = &lt;CIFS admin password&gt;</paragraph>
                </list_item>
                <list_item>
                    <paragraph><title_reference>hpe3par_cifs_admin_access_domain</title_reference> = &lt;CIFS admin domain&gt;</paragraph>
                </list_item>
                <list_item>
                    <paragraph><title_reference>hpe3par_share_mount_path</title_reference> = &lt;Full path to mount shares&gt;</paragraph>
                </list_item>
            </bullet_list>
            <paragraph>The <title_reference>hpe3par_share_ip_address</title_reference> must be a valid IP address for the configured
                FPG’s VFS. This IP address is used in export locations for shares that are
                created. Networking must be configured to allow connectivity from clients to
                shares.</paragraph>
            <paragraph><title_reference>hpe3par_cifs_admin_access_username</title_reference> and <title_reference>hpe3par_cifs_admin_access_password</title_reference>
                must be provided to delete nested CIFS shares. If they are not, the share
                contents will not be deleted. <title_reference>hpe3par_cifs_admin_access_domain</title_reference> and
                <title_reference>hpe3par_share_mount_path</title_reference> can be provided for additional configuration.</paragraph>
            <paragraph>Restart of <reference internal="True" refuri="../reference/glossary#term-manila-share"><inline classes="xref std std-term">manila-share</inline></reference> service is needed for the configuration changes to take
                effect.</paragraph>
        </section>
        <section ids="backend-configuration-for-ad-user" names="backend\ configuration\ for\ ad\ user">
            <title>Backend Configuration for AD user</title>
            <paragraph>The following parameters need to be configured through HPE 3PAR CLI to access
                file share using AD.</paragraph>
            <paragraph>Set authentication parameters:</paragraph>
            <literal_block xml:space="preserve">$ setauthparam ldap-server IP_ADDRESS_OF_AD_SERVER
$ setauthparam binding simple
$ setauthparam user-attr AD_DOMAIN_NAME\\
$ setauthparam accounts-dn CN=Users,DC=AD,DC=DOMAIN,DC=NAME
$ setauthparam account-obj user
$ setauthparam account-name-attr sAMAccountName
$ setauthparam memberof-attr memberOf
$ setauthparam super-map CN=AD_USER_GROUP,DC=AD,DC=DOMAIN,DC=NAME</literal_block>
            <paragraph>Verify new authentication parameters set as expected:</paragraph>
            <literal_block xml:space="preserve">$ showauthparam</literal_block>
            <paragraph>Verify AD users set as expected:</paragraph>
            <literal_block xml:space="preserve">$ checkpassword AD_USER</literal_block>
            <paragraph>Command result should show <literal>user AD_USER is authenticated and authorized</literal>
                message on successful configuration.</paragraph>
            <paragraph>Add ‘ActiveDirectory’ in authentication providers list:</paragraph>
            <literal_block xml:space="preserve">$ setfs auth ActiveDirectory Local</literal_block>
            <paragraph>Verify authentication provider list shows ‘ActiveDirectory’:</paragraph>
            <literal_block xml:space="preserve">$ showfs -auth</literal_block>
            <paragraph>Set/Add AD user on FS:</paragraph>
            <literal_block xml:space="preserve">$ setfs ad –passwd PASSWORD AD_USER AD_DOMAIN_NAME</literal_block>
            <paragraph>Verify FS user details:</paragraph>
            <literal_block xml:space="preserve">$ showfs -ad</literal_block>
        </section>
        <section ids="example-of-using-ad-user-to-access-cifs-share" names="example\ of\ using\ ad\ user\ to\ access\ cifs\ share">
            <title>Example of using AD user to access CIFS share</title>
            <paragraph>Pre-requisite:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>Share type should be configured for 3PAR backend</paragraph>
                </list_item>
            </bullet_list>
            <paragraph>Create a CIFS file share with 2GB of size:</paragraph>
            <literal_block xml:space="preserve">$ manila create --name FILE_SHARE_NAME --share-type SHARE_TYPE CIFS 2</literal_block>
            <paragraph>Check file share created as expected:</paragraph>
            <literal_block xml:space="preserve">$ manila show FILE_SHARE_NAME</literal_block>
            <paragraph>Configuration to provide share access to AD user:</paragraph>
            <literal_block xml:space="preserve">$ manila access-allow FILE_SHARE_NAME user AD_DOMAIN_NAME\\\\AD_USER
  --access-level rw</literal_block>
            <paragraph>Check users permission set as expected:</paragraph>
            <literal_block xml:space="preserve">$ manila access-list FILE_SHARE_NAME</literal_block>
            <paragraph>The AD_DOMAIN_NAME\AD_USER must be listed in access_to column and should
                show active in its state column as result of this command.</paragraph>
        </section>
        <section ids="network-approach" names="network\ approach">
            <title>Network Approach</title>
            <paragraph>Connectivity between the storage array (SSH/CLI and WSAPI) and the manila host
                is required for share management.</paragraph>
            <paragraph>Connectivity between the clients and the VFS is required for mounting
                and using the shares. This includes:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>Routing from the client to the external network</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Assigning the client an external IP address (e.g., a floating IP)</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Configuring the manila host networking properly for IP forwarding</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Configuring the VFS networking properly for client subnets</paragraph>
                </list_item>
            </bullet_list>
        </section>
        <section ids="share-types" names="share\ types">
            <title>Share Types</title>
            <paragraph>When creating a share, a share type can be specified to determine where and
                how the share will be created. If a share type is not specified, the
                <title_reference>default_share_type</title_reference> set in the manila configuration file is used.</paragraph>
            <paragraph>Manila requires that the share type includes the
                <title_reference>driver_handles_share_servers</title_reference> extra-spec. This ensures that the share
                will be created on a backend that supports the requested
                driver_handles_share_servers (share networks) capability.
                For the HPE 3PAR driver, this must be set to False.</paragraph>
            <paragraph>Another common manila extra-spec used to determine where a share is created
                is <title_reference>share_backend_name</title_reference>. When this extra-spec is defined in the share type,
                the share will be created on a backend with a matching share_backend_name.</paragraph>
            <paragraph>The HPE 3PAR driver automatically reports capabilities based on the FPG used
                for each backend. Share types with extra specs can be created by an
                administrator to control which share types are allowed to use FPGs with or
                without specific capabilities. The following extra-specs are used with
                the capabilities filter and the HPE 3PAR driver:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph><title_reference>hpe3par_flash_cache</title_reference> = ‘&lt;is&gt; True’ or ‘&lt;is&gt; False’</paragraph>
                </list_item>
                <list_item>
                    <paragraph><title_reference>thin_provisioning</title_reference> = ‘&lt;is&gt; True’ or ‘&lt;is&gt; False’</paragraph>
                </list_item>
                <list_item>
                    <paragraph><title_reference>dedupe</title_reference> = ‘&lt;is&gt; True’ or ‘&lt;is&gt; False’</paragraph>
                </list_item>
            </bullet_list>
            <paragraph><title_reference>hpe3par_flash_cache</title_reference> will be reported as True for backends that have
                3PAR’s Adaptive Flash Cache enabled.</paragraph>
            <paragraph><title_reference>thin_provisioning</title_reference> will be reported as True for backends that use thin
                provisioned volumes. FPGs that use fully provisioned volumes will report
                False. Backends that use thin provisioning also support manila’s
                over-subscription feature.</paragraph>
            <paragraph><title_reference>dedupe</title_reference> will be reported as True for backends that use deduplication
                technology.</paragraph>
            <paragraph>Scoped extra-specs are used to influence vendor-specific implementation
                details. Scoped extra-specs use a prefix followed by a colon.  For HPE 3PAR
                these extra-specs have a prefix of <title_reference>hpe3par</title_reference>. For HP 3PAR these extra-specs
                have a prefix of <title_reference>hp3par</title_reference>.</paragraph>
            <paragraph>The following HPE 3PAR extra-specs are used when creating CIFS (SMB) shares:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph><title_reference>hpe3par:smb_access_based_enum</title_reference> = true or false</paragraph>
                </list_item>
                <list_item>
                    <paragraph><title_reference>hpe3par:smb_continuous_avail</title_reference> = true or false</paragraph>
                </list_item>
                <list_item>
                    <paragraph><title_reference>hpe3par:smb_cache</title_reference> = off, manual, optimized or auto</paragraph>
                </list_item>
            </bullet_list>
            <paragraph><title_reference>smb_access_based_enum</title_reference> (Access Based Enumeration) specifies if users can see
                only the files and directories to which they have been allowed access on the
                shares. The default is <title_reference>false</title_reference>.</paragraph>
            <paragraph><title_reference>smb_continuous_avail</title_reference> (Continuous Availability) specifies if SMB3 continuous
                availability features should be enabled for this share. If not specified,
                the default is <title_reference>true</title_reference>. This setting will be ignored with hp3parclient 3.2.1
                or earlier.</paragraph>
            <paragraph><title_reference>smb_cache</title_reference> specifies client-side caching for offline files. Valid values are:</paragraph>
            <bullet_list bullet="*">
                <list_item>
                    <paragraph><title_reference>off</title_reference>: The client must not cache any files from this share. The share is
                        configured to disallow caching.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><title_reference>manual</title_reference>: The client must allow only manual caching for the files open from
                        this share.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><title_reference>optimized</title_reference>: The client may cache every file that it opens from
                        this share. Also, the client may satisfy the file requests from its
                        local cache. The share is configured to allow automatic caching
                        of programs and documents.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><title_reference>auto</title_reference>: The client may cache every file that it opens from this
                        share. The share is configured to allow automatic caching of
                        documents.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>If this is not specified, the default is <title_reference>manual</title_reference>.</paragraph>
                </list_item>
            </bullet_list>
            <paragraph>The following HPE 3PAR extra-specs are used when creating NFS shares:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph><title_reference>hpe3par:nfs_options</title_reference> = Comma separated list of NFS export options</paragraph>
                </list_item>
            </bullet_list>
            <paragraph>The NFS export options have the following limitations:</paragraph>
            <block_quote>
                <bullet_list bullet="*">
                    <list_item>
                        <paragraph><title_reference>ro</title_reference> and <title_reference>rw</title_reference> are not allowed (manila will determine the read-only option)</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph><title_reference>no_subtree_check</title_reference> and <title_reference>fsid</title_reference> are not allowed per HPE 3PAR CLI support</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph><title_reference>(in)secure</title_reference> and <title_reference>(no_)root_squash</title_reference> are not allowed because the HPE 3PAR
                            driver controls those settings</paragraph>
                    </list_item>
                </bullet_list>
            </block_quote>
            <paragraph>All other NFS options are forwarded to the HPE 3PAR as part of share creation.
                The HPE 3PAR will do additional validation at share creation time. Refer to
                HPE 3PAR CLI help for more details.</paragraph>
        </section>
        <section ids="delete-nested-shares" names="delete\ nested\ shares">
            <title>Delete Nested Shares</title>
            <paragraph>When a nested share is deleted (nested shares will be created when
                <literal>hpe_3par_fstore_per_share</literal> is set to <literal>False</literal>), the file tree also
                attempts to be deleted.</paragraph>
            <paragraph>With NFS shares, there is no additional configuration that needs to be done.</paragraph>
            <paragraph>For CIFS shares, <literal>hpe3par_cifs_admin_access_username</literal> and
                <literal>hpe3par_cifs_admin_access_password</literal> must be provided. If they are omitted,
                the original functionality is honored and the file tree remains untouched.
                <literal>hpe3par_cifs_admin_access_domain</literal> and <literal>hpe3par_share_mount_path</literal> can also
                be specified to create further customization.</paragraph>
            <section ids="the-manila-share-drivers-hpe-hpe-3par-driver-module" names="the\ manila.share.drivers.hpe.hpe_3par_driver\ module">
                <title>The <literal classes="xref py py-mod">manila.share.drivers.hpe.hpe_3par_driver</literal> Module</title>
                <paragraph>HPE 3PAR Driver for OpenStack Manila.</paragraph>
                <index entries=""></index>
                <desc desctype="class" domain="py" noindex="True" objtype="class">
                    <desc_signature class="" first="False" fullname="FPG" module="manila.share.drivers.hpe.hpe_3par_driver"><desc_annotation xml:space="preserve">class </desc_annotation><desc_name xml:space="preserve">FPG</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">min_ip=0</desc_parameter><desc_parameter xml:space="preserve">max_ip=4</desc_parameter><desc_parameter xml:space="preserve">type_name='FPG'</desc_parameter></desc_parameterlist></desc_signature>
                    <desc_content>
                        <paragraph>Bases: <literal classes="xref py py-class">oslo_config.types.String</literal>, <literal classes="xref py py-class">oslo_config.types.IPAddress</literal></paragraph>
                        <paragraph>FPG type.</paragraph>
                        <paragraph>Used to represent multiple pools per backend values.
                            Converts configuration value to an FPGs value.
                            FPGs value format:</paragraph>
                        <literal_block xml:space="preserve">FPG name, IP address 1, IP address 2, ..., IP address 4</literal_block>
                        <paragraph>where FPG name is a string value,
                            IP address is of type types.IPAddress</paragraph>
                        <paragraph>Optionally doing range checking.
                            If value is whitespace or empty string will raise error</paragraph>
                        <field_list>
                            <field>
                                <field_name>Parameters</field_name>
                                <field_body>
                                    <bullet_list>
                                        <list_item>
                                            <paragraph><literal_strong refspecific="True">min_ip</literal_strong> – Optional check that number of min IP address of VFS.</paragraph>
                                        </list_item>
                                        <list_item>
                                            <paragraph><literal_strong refspecific="True">max_ip</literal_strong> – Optional check that number of max IP address of VFS.</paragraph>
                                        </list_item>
                                        <list_item>
                                            <paragraph><literal_strong refspecific="True">type_name</literal_strong> – Type name to be used in the sample config file.</paragraph>
                                        </list_item>
                                    </bullet_list>
                                </field_body>
                            </field>
                        </field_list>
                        <index entries=""></index>
                        <desc desctype="attribute" domain="py" noindex="True" objtype="attribute">
                            <desc_signature class="FPG" first="False" fullname="FPG.MAX_SUPPORTED_IP_PER_VFS" module="manila.share.drivers.hpe.hpe_3par_driver"><desc_name xml:space="preserve">MAX_SUPPORTED_IP_PER_VFS</desc_name><desc_annotation xml:space="preserve"> = 4</desc_annotation></desc_signature>
                            <desc_content>
                            </desc_content>
                        </desc>
                    </desc_content>
                </desc>
                <index entries=""></index>
                <desc desctype="class" domain="py" noindex="True" objtype="class">
                    <desc_signature class="" first="False" fullname="HPE3ParShareDriver" module="manila.share.drivers.hpe.hpe_3par_driver"><desc_annotation xml:space="preserve">class </desc_annotation><desc_name xml:space="preserve">HPE3ParShareDriver</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">*args</desc_parameter><desc_parameter xml:space="preserve">**kwargs</desc_parameter></desc_parameterlist></desc_signature>
                    <desc_content>
                        <paragraph>Bases: <reference internal="True" reftitle="manila.share.driver.ShareDriver" refuri="share_replication#manila.share.driver.ShareDriver"><literal classes="xref py py-class">manila.share.driver.ShareDriver</literal></reference></paragraph>
                        <paragraph>HPE 3PAR driver for Manila.</paragraph>
                        <paragraph>Supports NFS and CIFS protocols on arrays with File Persona.</paragraph>
                        <paragraph>Version history:</paragraph>
                        <literal_block xml:space="preserve">1.0.0 - Begin Liberty development (post-Kilo)
1.0.1 - Report thin/dedup/hp_flash_cache capabilities
1.0.2 - Add share server/share network support
2.0.0 - Rebranded HP to HPE
2.0.1 - Add access_level (e.g. read-only support)
2.0.2 - Add extend/shrink
2.0.3 - Remove file tree on delete when using nested shares #1538800
2.0.4 - Reduce the fsquota by share size
        when a share is deleted #1582931
2.0.5 - Add update_access support
2.0.6 - Multi pool support per backend
2.0.7 - Fix get_vfs() to correctly validate conf IP addresses at
        boot up #1621016
2.0.8 - Replace ConsistencyGroup with ShareGroup</literal_block>
                        <index entries=""></index>
                        <desc desctype="attribute" domain="py" noindex="True" objtype="attribute">
                            <desc_signature class="HPE3ParShareDriver" first="False" fullname="HPE3ParShareDriver.VERSION" module="manila.share.drivers.hpe.hpe_3par_driver"><desc_name xml:space="preserve">VERSION</desc_name><desc_annotation xml:space="preserve"> = '2.0.8'</desc_annotation></desc_signature>
                            <desc_content>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="staticmethod" domain="py" noindex="True" objtype="staticmethod">
                            <desc_signature class="HPE3ParShareDriver" first="False" fullname="HPE3ParShareDriver.build_share_comment" module="manila.share.drivers.hpe.hpe_3par_driver"><desc_annotation xml:space="preserve">static </desc_annotation><desc_name xml:space="preserve">build_share_comment</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">share</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Create an informational only comment to help admins and testers.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="HPE3ParShareDriver" first="False" fullname="HPE3ParShareDriver.check_for_setup_error" module="manila.share.drivers.hpe.hpe_3par_driver"><desc_name xml:space="preserve">check_for_setup_error</desc_name><desc_parameterlist xml:space="preserve"></desc_parameterlist></desc_signature>
                            <desc_content>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="HPE3ParShareDriver" first="False" fullname="HPE3ParShareDriver.choose_share_server_compatible_with_share" module="manila.share.drivers.hpe.hpe_3par_driver"><desc_name xml:space="preserve">choose_share_server_compatible_with_share</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">share_servers</desc_parameter><desc_parameter xml:space="preserve">share</desc_parameter><desc_parameter xml:space="preserve">snapshot=None</desc_parameter><desc_parameter xml:space="preserve">share_group=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Method that allows driver to choose share server for provided share.</paragraph>
                                <paragraph>If compatible share-server is not found, method should return None.</paragraph>
                                <field_list>
                                    <field>
                                        <field_name>Parameters</field_name>
                                        <field_body>
                                            <bullet_list>
                                                <list_item>
                                                    <paragraph><literal_strong refspecific="True">context</literal_strong> – Current context</paragraph>
                                                </list_item>
                                                <list_item>
                                                    <paragraph><literal_strong refspecific="True">share_servers</literal_strong> – list with share-server models</paragraph>
                                                </list_item>
                                                <list_item>
                                                    <paragraph><literal_strong refspecific="True">share</literal_strong> – share model</paragraph>
                                                </list_item>
                                                <list_item>
                                                    <paragraph><literal_strong refspecific="True">snapshot</literal_strong> – snapshot model</paragraph>
                                                </list_item>
                                                <list_item>
                                                    <paragraph><literal_strong refspecific="True">share_group</literal_strong> – ShareGroup model with shares</paragraph>
                                                </list_item>
                                            </bullet_list>
                                        </field_body>
                                    </field>
                                    <field>
                                        <field_name>Returns</field_name>
                                        <field_body>
                                            <paragraph>share-server or None</paragraph>
                                        </field_body>
                                    </field>
                                </field_list>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="HPE3ParShareDriver" first="False" fullname="HPE3ParShareDriver.create_share" module="manila.share.drivers.hpe.hpe_3par_driver"><desc_name xml:space="preserve">create_share</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">share</desc_parameter><desc_parameter xml:space="preserve">share_server=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Is called to create share.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="HPE3ParShareDriver" first="False" fullname="HPE3ParShareDriver.create_share_from_snapshot" module="manila.share.drivers.hpe.hpe_3par_driver"><desc_name xml:space="preserve">create_share_from_snapshot</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">share</desc_parameter><desc_parameter xml:space="preserve">snapshot</desc_parameter><desc_parameter xml:space="preserve">share_server=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Is called to create share from snapshot.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="HPE3ParShareDriver" first="False" fullname="HPE3ParShareDriver.create_snapshot" module="manila.share.drivers.hpe.hpe_3par_driver"><desc_name xml:space="preserve">create_snapshot</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">snapshot</desc_parameter><desc_parameter xml:space="preserve">share_server=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Creates a snapshot of a share.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="HPE3ParShareDriver" first="False" fullname="HPE3ParShareDriver.delete_share" module="manila.share.drivers.hpe.hpe_3par_driver"><desc_name xml:space="preserve">delete_share</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">share</desc_parameter><desc_parameter xml:space="preserve">share_server=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Deletes share and its fstore.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="HPE3ParShareDriver" first="False" fullname="HPE3ParShareDriver.delete_snapshot" module="manila.share.drivers.hpe.hpe_3par_driver"><desc_name xml:space="preserve">delete_snapshot</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">snapshot</desc_parameter><desc_parameter xml:space="preserve">share_server=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Deletes a snapshot of a share.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="HPE3ParShareDriver" first="False" fullname="HPE3ParShareDriver.do_setup" module="manila.share.drivers.hpe.hpe_3par_driver"><desc_name xml:space="preserve">do_setup</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Any initialization the share driver does while starting.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="HPE3ParShareDriver" first="False" fullname="HPE3ParShareDriver.ensure_share" module="manila.share.drivers.hpe.hpe_3par_driver"><desc_name xml:space="preserve">ensure_share</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">share</desc_parameter><desc_parameter xml:space="preserve">share_server=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="HPE3ParShareDriver" first="False" fullname="HPE3ParShareDriver.extend_share" module="manila.share.drivers.hpe.hpe_3par_driver"><desc_name xml:space="preserve">extend_share</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">share</desc_parameter><desc_parameter xml:space="preserve">new_size</desc_parameter><desc_parameter xml:space="preserve">share_server=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Extends size of existing share.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="HPE3ParShareDriver" first="False" fullname="HPE3ParShareDriver.get_network_allocations_number" module="manila.share.drivers.hpe.hpe_3par_driver"><desc_name xml:space="preserve">get_network_allocations_number</desc_name><desc_parameterlist xml:space="preserve"></desc_parameterlist></desc_signature>
                            <desc_content>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="staticmethod" domain="py" noindex="True" objtype="staticmethod">
                            <desc_signature class="HPE3ParShareDriver" first="False" fullname="HPE3ParShareDriver.sha1_hash" module="manila.share.drivers.hpe.hpe_3par_driver"><desc_annotation xml:space="preserve">static </desc_annotation><desc_name xml:space="preserve">sha1_hash</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">clazz</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Get the SHA1 hash for the source of a class.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="HPE3ParShareDriver" first="False" fullname="HPE3ParShareDriver.shrink_share" module="manila.share.drivers.hpe.hpe_3par_driver"><desc_name xml:space="preserve">shrink_share</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">share</desc_parameter><desc_parameter xml:space="preserve">new_size</desc_parameter><desc_parameter xml:space="preserve">share_server=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Shrinks size of existing share.</paragraph>
                            </desc_content>
                        </desc>
                        <index entries=""></index>
                        <desc desctype="method" domain="py" noindex="True" objtype="method">
                            <desc_signature class="HPE3ParShareDriver" first="False" fullname="HPE3ParShareDriver.update_access" module="manila.share.drivers.hpe.hpe_3par_driver"><desc_name xml:space="preserve">update_access</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">share</desc_parameter><desc_parameter xml:space="preserve">access_rules</desc_parameter><desc_parameter xml:space="preserve">add_rules</desc_parameter><desc_parameter xml:space="preserve">delete_rules</desc_parameter><desc_parameter xml:space="preserve">share_server=None</desc_parameter></desc_parameterlist></desc_signature>
                            <desc_content>
                                <paragraph>Update access to the share.</paragraph>
                            </desc_content>
                        </desc>
                    </desc_content>
                </desc>
                <index entries=""></index>
                <desc desctype="function" domain="py" noindex="True" objtype="function">
                    <desc_signature class="" first="False" fullname="to_list" module="manila.share.drivers.hpe.hpe_3par_driver"><desc_name xml:space="preserve">to_list</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">var</desc_parameter></desc_parameterlist></desc_signature>
                    <desc_content>
                        <paragraph>Convert var to list type if not</paragraph>
                    </desc_content>
                </desc>
            </section>
        </section>
    </section>
</document>
