<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.13.1 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/manila/doc/source/install/common/share-node-common-configuration.rst">
    <enumerated_list enumtype="arabic" prefix="" start="4" suffix=".">
        <list_item>
            <paragraph>Complete the rest of the configuration in <literal>manila.conf</literal>.</paragraph>
            <bullet_list bullet="*">
                <list_item>
                    <paragraph>In the <literal>[DEFAULT]</literal> section, configure <literal>RabbitMQ</literal>
                        message queue access:</paragraph>
                    <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">[DEFAULT]
...
transport_url = rabbit://openstack:RABBIT_PASS@controller</literal_block>
                    <paragraph>Replace <literal>RABBIT_PASS</literal> with the password you chose for the
                        <literal>openstack</literal> account in <literal>RabbitMQ</literal>.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>In the <literal>[DEFAULT]</literal> section, set the following config values:</paragraph>
                    <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">[DEFAULT]
...
default_share_type = default_share_type
rootwrap_config = /etc/manila/rootwrap.conf</literal_block>
                    <important>
                        <paragraph>The <literal>default_share_type</literal> option specifies the default share type to
                            be used when shares are created without specifying the share type in
                            the request. The default share type that is specified in the
                            configuration file has to be created with the necessary required
                            extra-specs (such as <literal>driver_handles_share_servers</literal>) set
                            appropriately with reference to the driver mode used. This is
                            explained in further steps.</paragraph>
                    </important>
                </list_item>
                <list_item>
                    <paragraph>In the <literal>[DEFAULT]</literal> and <literal>[keystone_authtoken]</literal> sections, configure
                        Identity service access:</paragraph>
                    <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">[DEFAULT]
...
auth_strategy = keystone

[keystone_authtoken]
...
memcached_servers = controller:11211
auth_uri = http://controller:5000
auth_url = http://controller:35357
auth_type = password
project_domain_id = default
user_domain_id = default
project_name = service
username = manila
password = MANILA_PASS</literal_block>
                    <paragraph>Replace <literal>MANILA_PASS</literal> with the password you chose for the <literal>manila</literal>
                        user in the Identity service.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>In the <literal>[DEFAULT]</literal> section, configure the <literal>my_ip</literal> option:</paragraph>
                    <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">[DEFAULT]
...
my_ip = MANAGEMENT_INTERFACE_IP_ADDRESS</literal_block>
                    <paragraph>Replace <literal>MANAGEMENT_INTERFACE_IP_ADDRESS</literal> with the IP address of the
                        management network interface on your share node, typically 10.0.0.41 for
                        the first node in the example architecture shown below:</paragraph>
                    <figure ids="id1">
                        <image alt="Hardware requirements" candidates="{'*': 'install/common/figures/hwreqs.png'}" uri="install/common/figures/hwreqs.png"></image>
                        <caption><strong>Hardware requirements</strong></caption>
                    </figure>
                </list_item>
                <list_item>
                    <paragraph>In the <literal>[oslo_concurrency]</literal> section, configure the lock path:</paragraph>
                    <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">[oslo_concurrency]
...
lock_path = /var/lib/manila/tmp</literal_block>
                </list_item>
            </bullet_list>
        </list_item>
    </enumerated_list>
</document>
