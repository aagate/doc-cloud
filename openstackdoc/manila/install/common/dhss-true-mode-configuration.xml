<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.13.1 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/manila/doc/source/install/common/dhss-true-mode-configuration.rst">
    <section ids="configure-components" names="configure\ components">
        <title>Configure components</title>
        <enumerated_list enumtype="arabic" prefix="" suffix=".">
            <list_item>
                <paragraph>Edit the <literal>/etc/manila/manila.conf</literal> file and complete the following
                    actions:</paragraph>
                <bullet_list bullet="*">
                    <list_item>
                        <paragraph>In the <literal>[DEFAULT]</literal> section, enable the generic driver and the NFS
                            protocol:</paragraph>
                        <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">[DEFAULT]
...
enabled_share_backends = generic
enabled_share_protocols = NFS</literal_block>
                        <note>
                            <paragraph>Back end names are arbitrary. As an example, this guide uses the name
                                of the driver.</paragraph>
                        </note>
                    </list_item>
                    <list_item>
                        <paragraph>In the <literal>[neutron]</literal>, <literal>[nova]</literal>, and <literal>[cinder]</literal> sections, enable
                            authentication for those services:</paragraph>
                        <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">[neutron]
...
url = http://controller:9696
auth_uri = http://controller:5000
auth_url = http://controller:35357
memcached_servers = controller:11211
auth_type = password
project_domain_name = default
user_domain_name = default
region_name = RegionOne
project_name = service
username = neutron
password = NEUTRON_PASS

[nova]
...
auth_uri = http://controller:5000
auth_url = http://controller:35357
memcached_servers = controller:11211
auth_type = password
project_domain_name = default
user_domain_name = default
region_name = RegionOne
project_name = service
username = nova
password = NOVA_PASS

[cinder]
...
auth_uri = http://controller:5000
auth_url = http://controller:35357
memcached_servers = controller:11211
auth_type = password
project_domain_name = default
user_domain_name = default
region_name = RegionOne
project_name = service
username = cinder
password = CINDER_PASS</literal_block>
                    </list_item>
                    <list_item>
                        <paragraph>In the <literal>[generic]</literal> section, configure the generic driver:</paragraph>
                        <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">[generic]
share_backend_name = GENERIC
share_driver = manila.share.drivers.generic.GenericShareDriver
driver_handles_share_servers = True
service_instance_flavor_id = 100
service_image_name = manila-service-image
service_instance_user = manila
service_instance_password = manila
interface_driver = manila.network.linux.interface.BridgeInterfaceDriver</literal_block>
                        <note>
                            <paragraph>You can also use SSH keys instead of password authentication for
                                service instance credentials.</paragraph>
                        </note>
                        <important>
                            <paragraph>The <literal>service_image_name</literal>, <literal>service_instance_flavor_id</literal>,
                                <literal>service_instance_user</literal> and <literal>service_instance_password</literal> are with
                                reference to the service image that is used by the driver to create
                                share servers. A sample service image for use with the <literal>generic</literal>
                                driver is available in the <literal>manila-image-elements</literal> project. Its
                                creation is explained in the post installation steps (See:
                                <reference internal="True" refuri="../post-install#post-install"><inline classes="std std-ref">Creating and using shared file systems</inline></reference>).</paragraph>
                        </important>
                    </list_item>
                </bullet_list>
            </list_item>
        </enumerated_list>
    </section>
</document>
