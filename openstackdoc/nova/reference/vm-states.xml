<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.13.1 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/nova/doc/source/reference/vm-states.rst">
    <section ids="virtual-machine-states-and-transitions" names="virtual\ machine\ states\ and\ transitions">
        <title>Virtual Machine States and Transitions</title>
        <paragraph>The following diagrams and tables show the required virtual machine (VM)
            states and task states for various commands issued by the user.</paragraph>
        <section ids="allowed-state-transitions" names="allowed\ state\ transitions">
            <title>Allowed State Transitions</title>
            <graphviz code='digraph states {&#10;  graph [pad=".35", ranksep="0.65", nodesep="0.55", concentrate=true];&#10;  node [fontsize=10 fontname="Monospace"];&#10;  edge [arrowhead="normal", arrowsize="0.8"];&#10;  label="All states are allowed to transition to DELETED and ERROR.";&#10;  forcelabels=true;&#10;  labelloc=bottom;&#10;  labeljust=left;&#10;&#10;  /* states */&#10;  building [label="BUILDING"]&#10;  active [label="ACTIVE"]&#10;  paused [label="PAUSED"]&#10;  suspended [label="SUSPENDED"]&#10;  stopped [label="STOPPED"]&#10;  rescued [label="RESCUED"]&#10;  resized [label="RESIZED"]&#10;  soft_deleted [label="SOFT_DELETED"]&#10;  shelved [label="SHELVED"]&#10;  shelved_offloaded [label="SHELVED_OFFLOADED"]&#10;  deleted [label="DELETED", color="red"]&#10;  error [label="ERROR", color="red"]&#10;&#10;  /* transitions [action] */&#10;  building -&gt; active&#10;&#10;  active -&gt; active [headport=nw, tailport=ne]  // manual layout&#10;  active -&gt; soft_deleted [tailport=e]  // prevent arrowhead overlap&#10;  active -&gt; suspended&#10;  active -&gt; paused [tailport=w]  // prevent arrowhead overlap&#10;  active -&gt; stopped&#10;  active -&gt; shelved&#10;  active -&gt; shelved_offloaded&#10;  active -&gt; rescued&#10;  active -&gt; resized&#10;&#10;  soft_deleted -&gt; active [headport=e]  // prevent arrowhead overlap&#10;&#10;  suspended -&gt; active&#10;  suspended -&gt; shelved&#10;  suspended -&gt; shelved_offloaded&#10;&#10;  paused -&gt; active&#10;  paused -&gt; shelved&#10;  paused -&gt; shelved_offloaded&#10;&#10;  stopped -&gt; active&#10;  stopped -&gt; stopped [headport=nw, tailport=ne]  // manual layout&#10;  stopped -&gt; resized&#10;  stopped -&gt; rescued&#10;  stopped -&gt; shelved&#10;  stopped -&gt; shelved_offloaded&#10;&#10;  resized -&gt; active&#10;&#10;  rescued -&gt; active&#10;&#10;  shelved -&gt; shelved_offloaded&#10;  shelved -&gt;  active&#10;&#10;  shelved_offloaded -&gt; active&#10;}' options="{}">
            </graphviz>
        </section>
        <section ids="requirements-for-commands" names="requirements\ for\ commands">
            <title>Requirements for Commands</title>
            <table>
                <tgroup cols="4">
                    <colspec colwidth="18"></colspec>
                    <colspec colwidth="18"></colspec>
                    <colspec colwidth="20"></colspec>
                    <colspec colwidth="16"></colspec>
                    <thead>
                        <row>
                            <entry>
                                <paragraph>Command</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Req'd VM States</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Req'd Task States</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Target State</paragraph>
                            </entry>
                        </row>
                    </thead>
                    <tbody>
                        <row>
                            <entry>
                                <paragraph>pause</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Active, Shutoff,
                                    Rescued</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Resize Verify, unset</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Paused</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>unpause</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Paused</paragraph>
                            </entry>
                            <entry>
                                <paragraph>N/A</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Active</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>suspend</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Active, Shutoff</paragraph>
                            </entry>
                            <entry>
                                <paragraph>N/A</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Suspended</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>resume</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Suspended</paragraph>
                            </entry>
                            <entry>
                                <paragraph>N/A</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Active</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>rescue</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Active, Shutoff</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Resize Verify, unset</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Rescued</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>unrescue</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Rescued</paragraph>
                            </entry>
                            <entry>
                                <paragraph>N/A</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Active</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>set admin password</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Active</paragraph>
                            </entry>
                            <entry>
                                <paragraph>N/A</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Active</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>rebuild</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Active, Shutoff</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Resize Verify, unset</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Active</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>force delete</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Soft Deleted</paragraph>
                            </entry>
                            <entry>
                                <paragraph>N/A</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Deleted</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>restore</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Soft Deleted</paragraph>
                            </entry>
                            <entry>
                                <paragraph>N/A</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Active</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>soft delete</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Active, Shutoff,
                                    Error</paragraph>
                            </entry>
                            <entry>
                                <paragraph>N/A</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Soft Deleted</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>delete</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Active, Shutoff,
                                    Building, Rescued,
                                    Error</paragraph>
                            </entry>
                            <entry>
                                <paragraph>N/A</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Deleted</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>backup</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Active, Shutoff</paragraph>
                            </entry>
                            <entry>
                                <paragraph>N/A</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Active, Shutoff</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>snapshot</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Active, Shutoff</paragraph>
                            </entry>
                            <entry>
                                <paragraph>N/A</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Active, Shutoff</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>start</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Shutoff, Stopped</paragraph>
                            </entry>
                            <entry>
                                <paragraph>N/A</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Active</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>stop</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Active, Shutoff,
                                    Rescued</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Resize Verify, unset</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Stopped</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>reboot</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Active, Shutoff,
                                    Rescued</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Resize Verify, unset</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Active</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>resize</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Active, Shutoff</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Resize Verify, unset</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Resized</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>revert resize</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Active, Shutoff</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Resize Verify, unset</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Active</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>confirm resize</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Active, Shutoff</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Resize Verify, unset</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Active</paragraph>
                            </entry>
                        </row>
                    </tbody>
                </tgroup>
            </table>
        </section>
        <section ids="vm-states-and-possible-commands" names="vm\ states\ and\ possible\ commands">
            <title>VM states and Possible Commands</title>
            <table>
                <tgroup cols="2">
                    <colspec colwidth="12"></colspec>
                    <colspec colwidth="65"></colspec>
                    <thead>
                        <row>
                            <entry>
                                <paragraph>VM State</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Commands</paragraph>
                            </entry>
                        </row>
                    </thead>
                    <tbody>
                        <row>
                            <entry>
                                <paragraph>Paused</paragraph>
                            </entry>
                            <entry>
                                <paragraph>unpause</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>Suspended</paragraph>
                            </entry>
                            <entry>
                                <paragraph>resume</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>Active</paragraph>
                            </entry>
                            <entry>
                                <paragraph>set admin password, suspend, pause, rescue, rebuild, soft delete,
                                    delete, backup, snapshot, stop, reboot, resize, revert resize,
                                    confirm resize</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>Shutoff</paragraph>
                            </entry>
                            <entry>
                                <paragraph>suspend, pause, rescue, rebuild, soft delete, delete, backup,
                                    start, snapshot, stop, reboot, resize, revert resize,
                                    confirm resize</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>Rescued</paragraph>
                            </entry>
                            <entry>
                                <paragraph>unrescue, pause</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>Stopped</paragraph>
                            </entry>
                            <entry>
                                <paragraph>rescue, delete, start</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>Soft Deleted</paragraph>
                            </entry>
                            <entry>
                                <paragraph>force delete, restore</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>Error</paragraph>
                            </entry>
                            <entry>
                                <paragraph>soft delete, delete</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>Building</paragraph>
                            </entry>
                            <entry>
                                <paragraph>delete</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>Rescued</paragraph>
                            </entry>
                            <entry>
                                <paragraph>delete, stop, reboot</paragraph>
                            </entry>
                        </row>
                    </tbody>
                </tgroup>
            </table>
        </section>
        <section ids="create-instance-states" names="create\ instance\ states">
            <title>Create Instance States</title>
            <paragraph>The following diagram shows the sequence of VM states, task states, and
                power states when a new VM instance is created.</paragraph>
            <image alt="Sequence of VM states, task states, and power states when a new&#10;VM instance is created." candidates="{'*': u'_static/images/create-vm-states.svg'}" uri="_static/images/create-vm-states.svg"></image>
        </section>
    </section>
</document>
