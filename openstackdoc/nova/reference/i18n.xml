<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.13.1 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/nova/doc/source/reference/i18n.rst">
    <section ids="internationalization" names="internationalization">
        <title>Internationalization</title>
        <paragraph>Nova uses the <reference name="oslo.i18n library" refuri="http://docs.openstack.org/developer/oslo.i18n/index.html">oslo.i18n library</reference><target ids="oslo-i18n-library" names="oslo.i18n\ library" refuri="http://docs.openstack.org/developer/oslo.i18n/index.html"></target> to support
            internationalization. The oslo.i18n library is built on top of <reference name="gettext" refuri="http://docs.python.org/library/gettext.html">gettext</reference><target ids="gettext" names="gettext" refuri="http://docs.python.org/library/gettext.html"></target> and provides functions that are
            used to enable user-facing strings such as log messages to appear in the
            appropriate language in different locales.</paragraph>
        <paragraph>Nova exposes the oslo.i18n library support via the <literal>nova/i18n.py</literal> integration
            module. This module provides the functions needed to wrap translatable strings.
            It provides the <literal>_()</literal> wrapper for general user-facing messages (such
            as ones that end up in command line responses, or responses over the
            network).</paragraph>
        <paragraph>One upon a time there was an effort to translate log messages in
            OpenStack projects. But starting with the Ocata release these are no
            longer being supported. Log messages <strong>should not</strong> be translated. Any
            use of <literal>_LI()</literal>, <literal>_LW()</literal>, <literal>_LE()</literal>, <literal>_LC()</literal> are vestigial and
            will be removed over time. No new uses of these should be added.</paragraph>
        <paragraph>You should use the basic wrapper <literal>_()</literal> for strings which are not log
            messages that are expected to get to an end user:</paragraph>
        <literal_block xml:space="preserve">raise nova.SomeException(_('Invalid service catalogue'))</literal_block>
        <paragraph>Do not use <literal>locals()</literal> for formatting messages because:
            1. It is not as clear as using explicit dicts.
            2. It could produce hidden errors during refactoring.
            3. Changing the name of a variable causes a change in the message.
            4. It creates a lot of otherwise unused variables.</paragraph>
        <paragraph>If you do not follow the project conventions, your code may cause hacking
            checks to fail.</paragraph>
        <paragraph>The <literal>_()</literal> function can be imported with</paragraph>
        <literal_block xml:space="preserve">from nova.i18n import _</literal_block>
    </section>
</document>
