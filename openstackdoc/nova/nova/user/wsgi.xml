<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.13.1 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/nova/doc/source/user/wsgi.rst">
    <section ids="using-wsgi-with-nova" names="using\ wsgi\ with\ nova">
        <title>Using WSGI with Nova</title>
        <paragraph>Though the compute and metadata APIs can be run using independent scripts that
            provide eventlet-based HTTP servers, it is generally considered more performant
            and flexible to run them using a generic HTTP server that supports <reference name="WSGI" refuri="https://www.python.org/dev/peps/pep-3333/">WSGI</reference> (such
            as <reference name="Apache" refuri="http://httpd.apache.org/">Apache</reference> or <reference name="nginx" refuri="http://nginx.org/en/">nginx</reference>).</paragraph>
        <paragraph>The nova project provides two automatically generated entry points that
            support this: <literal>nova-api-wsgi</literal> and <literal>nova-metadata-wsgi</literal>. These read
            <literal>nova.conf</literal> and <literal>api-paste.ini</literal> and generate the required module-level
            <literal>application</literal> that most WSGI servers require. If nova is installed using pip,
            these two scripts will be installed into whatever the expected <literal>bin</literal>
            directory is for the environment.</paragraph>
        <paragraph>The new scripts replace older experimental scripts that could be found in the
            <literal>nova/wsgi</literal> directory of the code repository. The new scripts are <emphasis>not</emphasis>
            experimental.</paragraph>
        <paragraph>When running the compute and metadata services with WSGI, sharing the compute
            and metadata service in the same process is not supported (as it is in the
            eventlet-based scripts).</paragraph>
        <paragraph>In devstack as of May 2017, the compute and metadata APIs are hosted by a
            Apache communicating with <reference name="uwsgi" refuri="https://uwsgi-docs.readthedocs.io/">uwsgi</reference> via <reference name="mod_proxy_uwsgi" refuri="http://uwsgi-docs.readthedocs.io/en/latest/Apache.html#mod-proxy-uwsgi">mod_proxy_uwsgi</reference>. Inspecting the
            configuration created there can provide some guidance on one option for
            managing the WSGI scripts. It is important to remember, however, that one of
            the major features of using WSGI is that there are many different ways to host
            a WSGI application. Different servers make different choices about performance
            and configurability.</paragraph>
        <target ids="wsgi" names="wsgi" refuri="https://www.python.org/dev/peps/pep-3333/"></target>
        <target ids="apache" names="apache" refuri="http://httpd.apache.org/"></target>
        <target ids="nginx" names="nginx" refuri="http://nginx.org/en/"></target>
        <target ids="uwsgi" names="uwsgi" refuri="https://uwsgi-docs.readthedocs.io/"></target>
        <target ids="mod-proxy-uwsgi" names="mod_proxy_uwsgi" refuri="http://uwsgi-docs.readthedocs.io/en/latest/Apache.html#mod-proxy-uwsgi"></target>
    </section>
</document>
