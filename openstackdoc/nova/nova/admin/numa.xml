<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.13.1 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/nova/doc/source/admin/numa.rst">
    <section ids="consider-numa-topology-when-booting-instances" names="consider\ numa\ topology\ when\ booting\ instances">
        <title>Consider NUMA topology when booting instances</title>
        <target refid="index-0"></target>
        <todo_node classes="admonition-todo" ids="index-0">
            <title>Todo</title>
            <paragraph>Merge this into 'cpu-topologies.rst'</paragraph>
        </todo_node>
        <paragraph>NUMA topology can exist on both the physical hardware of the host, and the
            virtual hardware of the instance. OpenStack Compute uses libvirt to tune
            instances to take advantage of NUMA topologies. The libvirt driver boot
            process looks at the NUMA topology field of both the instance and the host it
            is being booted on, and uses that information to generate an appropriate
            configuration.</paragraph>
        <paragraph>If the host is NUMA capable, but the instance has not requested a NUMA
            topology, Compute attempts to pack the instance into a single cell.
            If this fails, though, Compute will not continue to try.</paragraph>
        <paragraph>If the host is NUMA capable, and the instance has requested a specific NUMA
            topology, Compute will try to pin the vCPUs of different NUMA cells
            on the instance to the corresponding NUMA cells on the host. It will also
            expose the NUMA topology of the instance to the guest OS.</paragraph>
        <paragraph>If you want Compute to pin a particular vCPU as part of this process,
            set the <literal>vcpu_pin_set</literal> parameter in the <literal>nova.conf</literal> configuration
            file. For more information about the <literal>vcpu_pin_set</literal> parameter, see the
            Configuration Reference Guide.</paragraph>
    </section>
</document>
