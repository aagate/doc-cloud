<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.13.1 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/nova/doc/source/admin/flavors2.rst">
    <section ids="manage-flavors" names="manage\ flavors">
        <title>Manage flavors</title>
        <target refid="index-0"></target>
        <todo_node classes="admonition-todo" ids="index-0">
            <title>Todo</title>
            <paragraph>Merge this into 'flavors'</paragraph>
        </todo_node>
        <paragraph>In OpenStack, flavors define the compute, memory, and storage capacity of nova
            computing instances. To put it simply, a flavor is an available hardware
            configuration for a server. It defines the <emphasis>size</emphasis> of a virtual server that can
            be launched.</paragraph>
        <note>
            <paragraph>Flavors can also determine on which compute host a flavor can be used to
                launch an instance. For information about customizing flavors, refer to
                <reference internal="True" refuri="flavors"><inline classes="doc">Flavors</inline></reference>.</paragraph>
        </note>
        <paragraph>A flavor consists of the following parameters:</paragraph>
        <definition_list>
            <definition_list_item>
                <term>Flavor ID</term>
                <definition>
                    <paragraph>Unique ID (integer or UUID) for the new flavor. If specifying 'auto', a UUID
                        will be automatically generated.</paragraph>
                </definition>
            </definition_list_item>
            <definition_list_item>
                <term>Name</term>
                <definition>
                    <paragraph>Name for the new flavor.</paragraph>
                </definition>
            </definition_list_item>
            <definition_list_item>
                <term>VCPUs</term>
                <definition>
                    <paragraph>Number of virtual CPUs to use.</paragraph>
                </definition>
            </definition_list_item>
            <definition_list_item>
                <term>Memory MB</term>
                <definition>
                    <paragraph>Amount of RAM to use (in megabytes).</paragraph>
                </definition>
            </definition_list_item>
            <definition_list_item>
                <term>Root Disk GB</term>
                <definition>
                    <paragraph>Amount of disk space (in gigabytes) to use for the root (<literal>/</literal>) partition.</paragraph>
                </definition>
            </definition_list_item>
            <definition_list_item>
                <term>Ephemeral Disk GB</term>
                <definition>
                    <paragraph>Amount of disk space (in gigabytes) to use for the ephemeral partition. If
                        unspecified, the value is <literal>0</literal> by default.  Ephemeral disks offer machine
                        local disk storage linked to the lifecycle of a VM instance. When a VM is
                        terminated, all data on the ephemeral disk is lost. Ephemeral disks are not
                        included in any snapshots.</paragraph>
                </definition>
            </definition_list_item>
            <definition_list_item>
                <term>Swap</term>
                <definition>
                    <paragraph>Amount of swap space (in megabytes) to use. If unspecified, the value is
                        <literal>0</literal> by default.</paragraph>
                </definition>
            </definition_list_item>
            <definition_list_item>
                <term>RXTX Factor</term>
                <definition>
                    <paragraph>Optional property that allows servers with a different bandwidth be created
                        with the RXTX Factor. The default value is <literal>1.0</literal>. That is, the new
                        bandwidth is the same as that of the attached network. The RXTX Factor is
                        available only for Xen or NSX based systems.</paragraph>
                </definition>
            </definition_list_item>
            <definition_list_item>
                <term>Is Public</term>
                <definition>
                    <paragraph>Boolean value defines whether the flavor is available to all users.  Defaults
                        to <literal>True</literal>.</paragraph>
                </definition>
            </definition_list_item>
            <definition_list_item>
                <term>Extra Specs</term>
                <definition>
                    <paragraph>Key and value pairs that define on which compute nodes a flavor can run.
                        These pairs must match corresponding pairs on the compute nodes. It can be
                        used to implement special resources, such as flavors that run on only compute
                        nodes with GPU hardware.</paragraph>
                </definition>
            </definition_list_item>
        </definition_list>
        <paragraph>As of Newton, there are no default flavors.  The following table lists the
            default flavors for Mitaka and earlier.</paragraph>
        <table>
            <tgroup cols="4">
                <colspec colwidth="12"></colspec>
                <colspec colwidth="9"></colspec>
                <colspec colwidth="15"></colspec>
                <colspec colwidth="15"></colspec>
                <thead>
                    <row>
                        <entry>
                            <paragraph>Flavor</paragraph>
                        </entry>
                        <entry>
                            <paragraph>VCPUs</paragraph>
                        </entry>
                        <entry>
                            <paragraph>Disk (in GB)</paragraph>
                        </entry>
                        <entry>
                            <paragraph>RAM (in MB)</paragraph>
                        </entry>
                    </row>
                </thead>
                <tbody>
                    <row>
                        <entry>
                            <paragraph>m1.tiny</paragraph>
                        </entry>
                        <entry>
                            <paragraph>1</paragraph>
                        </entry>
                        <entry>
                            <paragraph>1</paragraph>
                        </entry>
                        <entry>
                            <paragraph>512</paragraph>
                        </entry>
                    </row>
                    <row>
                        <entry>
                            <paragraph>m1.small</paragraph>
                        </entry>
                        <entry>
                            <paragraph>1</paragraph>
                        </entry>
                        <entry>
                            <paragraph>20</paragraph>
                        </entry>
                        <entry>
                            <paragraph>2048</paragraph>
                        </entry>
                    </row>
                    <row>
                        <entry>
                            <paragraph>m1.medium</paragraph>
                        </entry>
                        <entry>
                            <paragraph>2</paragraph>
                        </entry>
                        <entry>
                            <paragraph>40</paragraph>
                        </entry>
                        <entry>
                            <paragraph>4096</paragraph>
                        </entry>
                    </row>
                    <row>
                        <entry>
                            <paragraph>m1.large</paragraph>
                        </entry>
                        <entry>
                            <paragraph>4</paragraph>
                        </entry>
                        <entry>
                            <paragraph>80</paragraph>
                        </entry>
                        <entry>
                            <paragraph>8192</paragraph>
                        </entry>
                    </row>
                    <row>
                        <entry>
                            <paragraph>m1.xlarge</paragraph>
                        </entry>
                        <entry>
                            <paragraph>8</paragraph>
                        </entry>
                        <entry>
                            <paragraph>160</paragraph>
                        </entry>
                        <entry>
                            <paragraph>16384</paragraph>
                        </entry>
                    </row>
                </tbody>
            </tgroup>
        </table>
        <paragraph>You can create and manage flavors with the <literal_strong classes="command">openstack flavor</literal_strong> commands
            provided by the <literal>python-openstackclient</literal> package.</paragraph>
        <section ids="create-a-flavor" names="create\ a\ flavor">
            <title>Create a flavor</title>
            <enumerated_list enumtype="arabic" prefix="" suffix=".">
                <list_item>
                    <paragraph>List flavors to show the ID and name, the amount of memory, the amount of
                        disk space for the root partition and for the ephemeral partition, the swap,
                        and the number of virtual CPUs for each flavor:</paragraph>
                    <literal_block highlight_args="{}" language="console" linenos="False" xml:space="preserve">$ openstack flavor list</literal_block>
                </list_item>
                <list_item>
                    <paragraph>To create a flavor, specify a name, ID, RAM size, disk size, and the number
                        of VCPUs for the flavor, as follows:</paragraph>
                    <literal_block highlight_args="{}" language="console" linenos="False" xml:space="preserve">$ openstack flavor create FLAVOR_NAME --id FLAVOR_ID \
    --ram RAM_IN_MB --disk ROOT_DISK_IN_GB --vcpus NUMBER_OF_VCPUS</literal_block>
                    <note>
                        <paragraph>Unique ID (integer or UUID) for the new flavor. If specifying 'auto', a
                            UUID will be automatically generated.</paragraph>
                    </note>
                    <paragraph>Here is an example with additional optional parameters filled in that
                        creates a public <literal>extra_tiny</literal> flavor that automatically gets an ID
                        assigned, with 256 MB memory, no disk space, and one VCPU. The rxtx-factor
                        indicates the slice of bandwidth that the instances with this flavor can use
                        (through the Virtual Interface (vif) creation in the hypervisor):</paragraph>
                    <literal_block highlight_args="{}" language="console" linenos="False" xml:space="preserve">$ openstack flavor create --public m1.extra_tiny --id auto \
    --ram 256 --disk 0 --vcpus 1 --rxtx-factor 1</literal_block>
                </list_item>
                <list_item>
                    <paragraph>If an individual user or group of users needs a custom flavor that you do
                        not want other projects to have access to, you can change the flavor's
                        access to make it a private flavor.  See <reference name="Private Flavors in the OpenStack Operations Guide" refuri="https://docs.openstack.org/ops-guide/ops-user-facing-operations.html#private-flavors">Private Flavors in the OpenStack
                            Operations Guide</reference><target ids="private-flavors-in-the-openstack-operations-guide" names="private\ flavors\ in\ the\ openstack\ operations\ guide" refuri="https://docs.openstack.org/ops-guide/ops-user-facing-operations.html#private-flavors"></target>.</paragraph>
                    <paragraph>For a list of optional parameters, run this command:</paragraph>
                    <literal_block highlight_args="{}" language="console" linenos="False" xml:space="preserve">$ openstack help flavor create</literal_block>
                </list_item>
                <list_item>
                    <paragraph>After you create a flavor, assign it to a project by specifying the flavor
                        name or ID and the project ID:</paragraph>
                    <literal_block highlight_args="{}" language="console" linenos="False" xml:space="preserve">$ nova flavor-access-add FLAVOR TENANT_ID</literal_block>
                </list_item>
                <list_item>
                    <paragraph>In addition, you can set or unset <literal>extra_spec</literal> for the existing flavor.
                        The <literal>extra_spec</literal> metadata keys can influence the instance directly when it
                        is launched. If a flavor sets the <literal>extra_spec key/value
quota:vif_outbound_peak=65536</literal>, the instance's outbound peak bandwidth I/O
                        should be less than or equal to 512 Mbps. There are several aspects that can
                        work for an instance including <emphasis>CPU limits</emphasis>, <emphasis>Disk tuning</emphasis>, <emphasis>Bandwidth I/O</emphasis>,
                        <emphasis>Watchdog behavior</emphasis>, and <emphasis>Random-number generator</emphasis>.  For information about
                        supporting metadata keys, see <reference internal="True" refuri="flavors"><inline classes="doc">Flavors</inline></reference>.</paragraph>
                    <paragraph>For a list of optional parameters, run this command:</paragraph>
                    <literal_block highlight_args="{}" language="console" linenos="False" xml:space="preserve">$ nova help flavor-key</literal_block>
                </list_item>
            </enumerated_list>
        </section>
        <section ids="delete-a-flavor" names="delete\ a\ flavor">
            <title>Delete a flavor</title>
            <paragraph>Delete a specified flavor, as follows:</paragraph>
            <literal_block highlight_args="{}" language="console" linenos="False" xml:space="preserve">$ openstack flavor delete FLAVOR_ID</literal_block>
        </section>
    </section>
</document>
