<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.13.1 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/nova/doc/source/admin/availability-zones.rst">
    <section ids="select-hosts-where-instances-are-launched" names="select\ hosts\ where\ instances\ are\ launched">
        <title>Select hosts where instances are launched</title>
        <paragraph>With the appropriate permissions, you can select which host instances are
            launched on and which roles can boot instances on this host.</paragraph>
        <enumerated_list enumtype="arabic" prefix="" suffix=".">
            <list_item>
                <paragraph>To select the host where instances are launched, use the
                    <literal>--availability-zone ZONE:HOST:NODE</literal> parameter on the <literal_strong classes="command">openstack
                        server create</literal_strong> command.</paragraph>
                <paragraph>For example:</paragraph>
                <literal_block highlight_args="{}" language="console" linenos="False" xml:space="preserve">$ openstack server create --image IMAGE --flavor m1.tiny \
  --key-name KEY --availability-zone ZONE:HOST:NODE \
  --nic net-id=UUID SERVER</literal_block>
                <note>
                    <paragraph>HOST and NODE are optional parameters. In such cases, use the
                        <literal>--availability-zone ZONE::NODE</literal>, <literal>--availability-zone ZONE:HOST</literal> or
                        <literal>--availability-zone ZONE</literal>.</paragraph>
                </note>
            </list_item>
            <list_item>
                <paragraph>To specify which roles can launch an instance on a specified host, enable
                    the <literal>create:forced_host</literal> option in the <literal>policy.json</literal> file. By default,
                    this option is enabled for only the admin role. If you see <literal>Forbidden (HTTP
403)</literal> in return, then you are not using admin credentials.</paragraph>
            </list_item>
            <list_item>
                <paragraph>To view the list of valid zones, use the <literal_strong classes="command">openstack availability
                        zone list</literal_strong> command.</paragraph>
                <literal_block highlight_args="{}" language="console" linenos="False" xml:space="preserve">$ openstack availability zone list
+-----------+-------------+
| Zone Name | Zone Status |
+-----------+-------------+
| zone1     | available   |
| zone2     | available   |
+-----------+-------------+</literal_block>
            </list_item>
            <list_item>
                <paragraph>To view the list of valid compute hosts, use the <literal_strong classes="command">openstack host
                        list</literal_strong> command.</paragraph>
                <literal_block highlight_args="{}" language="console" linenos="False" xml:space="preserve">$ openstack host list
+----------------+-------------+----------+
| Host Name      | Service     | Zone     |
+----------------+-------------+----------+
| compute01      | compute     | nova     |
| compute02      | compute     | nova     |
+----------------+-------------+----------+</literal_block>
            </list_item>
            <list_item>
                <paragraph>To view the list of valid compute nodes, use the <literal_strong classes="command">openstack
                        hypervisor list</literal_strong> command.</paragraph>
                <literal_block highlight_args="{}" language="console" linenos="False" xml:space="preserve">$ openstack hypervisor list
+----+---------------------+
| ID | Hypervisor Hostname |
+----+---------------------+
|  1 | server2             |
|  2 | server3             |
|  3 | server4             |
+----+---------------------+</literal_block>
            </list_item>
        </enumerated_list>
    </section>
</document>
