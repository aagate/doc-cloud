<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.13.1 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/horizon/doc/source/user/launch-instances.rst">
    <section ids="launch-and-manage-instances" names="launch\ and\ manage\ instances">
        <title>Launch and manage instances</title>
        <paragraph>Instances are virtual machines that run inside the cloud.
            You can launch an instance from the following sources:</paragraph>
        <bullet_list bullet="*">
            <list_item>
                <paragraph>Images uploaded to the Image service.</paragraph>
            </list_item>
            <list_item>
                <paragraph>Image that you have copied to a persistent volume. The instance
                    launches from the volume, which is provided by the <literal>cinder-volume</literal>
                    API through iSCSI.</paragraph>
            </list_item>
            <list_item>
                <paragraph>Instance snapshot that you took.</paragraph>
            </list_item>
        </bullet_list>
        <section ids="launch-an-instance" names="launch\ an\ instance">
            <title>Launch an instance</title>
            <enumerated_list enumtype="arabic" prefix="" suffix=".">
                <list_item>
                    <paragraph>Log in to the dashboard.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Select the appropriate project from the drop down menu at the top left.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>On the <inline classes="guilabel" rawtext=":guilabel:`Project`">Project</inline> tab, open the <inline classes="guilabel" rawtext=":guilabel:`Compute`">Compute</inline> tab and
                        click <inline classes="guilabel" rawtext=":guilabel:`Instances`">Instances</inline> category.</paragraph>
                    <paragraph>The dashboard shows the instances with its name, its private and
                        floating IP addresses, size, status, task, power state, and so on.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Click <inline classes="guilabel" rawtext=":guilabel:`Launch Instance`">Launch Instance</inline>.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>In the <inline classes="guilabel" rawtext=":guilabel:`Launch Instance`">Launch Instance</inline> dialog box, specify the following values:</paragraph>
                    <paragraph><inline classes="guilabel" rawtext=":guilabel:`Details`">Details</inline> tab</paragraph>
                    <definition_list>
                        <definition_list_item>
                            <term>Instance Name</term>
                            <definition>
                                <paragraph>Assign a name to the virtual machine.</paragraph>
                            </definition>
                        </definition_list_item>
                        <definition_list_item>
                            <term>Availability Zone</term>
                            <definition>
                                <paragraph>By default, this value is set to the availability zone given by the
                                    cloud provider (for example, <literal>us-west</literal> or <literal>apac-south</literal>). For some
                                    cases, it could be <literal>nova</literal>.</paragraph>
                                <note>
                                    <paragraph>The name you assign here becomes the initial host name of the server.
                                        If the name is longer than 63 characters, the Compute service
                                        truncates it automatically to ensure dnsmasq works correctly.</paragraph>
                                    <paragraph>After the server is built, if you change the server name in the API
                                        or change the host name directly, the names are not updated in the
                                        dashboard.</paragraph>
                                    <paragraph>Server names are not guaranteed to be unique when created so you
                                        could have two instances with the same host name.</paragraph>
                                </note>
                            </definition>
                        </definition_list_item>
                        <definition_list_item>
                            <term>Count</term>
                            <definition>
                                <paragraph>To launch multiple instances, enter a value greater than <literal>1</literal>. The
                                    default is <literal>1</literal>.</paragraph>
                            </definition>
                        </definition_list_item>
                    </definition_list>
                    <paragraph><inline classes="guilabel" rawtext=":guilabel:`Source`">Source</inline> tab</paragraph>
                    <definition_list>
                        <definition_list_item>
                            <term>Instance Boot Source</term>
                            <definition>
                                <paragraph>Your options are:</paragraph>
                                <definition_list>
                                    <definition_list_item>
                                        <term>Boot from image</term>
                                        <definition>
                                            <paragraph>If you choose this option, a new field for <inline classes="guilabel" rawtext=":guilabel:`Image Name`">Image Name</inline>
                                                displays. You can select the image from the list.</paragraph>
                                        </definition>
                                    </definition_list_item>
                                    <definition_list_item>
                                        <term>Boot from snapshot</term>
                                        <definition>
                                            <paragraph>If you choose this option, a new field for <inline classes="guilabel" rawtext=":guilabel:`Instance&#10;Snapshot`">Instance
                                                    Snapshot</inline> displays. You can select the snapshot from the list.</paragraph>
                                        </definition>
                                    </definition_list_item>
                                    <definition_list_item>
                                        <term>Boot from volume</term>
                                        <definition>
                                            <paragraph>If you choose this option, a new field for <inline classes="guilabel" rawtext=":guilabel:`Volume`">Volume</inline>
                                                displays. You can select the volume from the list.</paragraph>
                                        </definition>
                                    </definition_list_item>
                                    <definition_list_item>
                                        <term>Boot from image (creates a new volume)</term>
                                        <definition>
                                            <paragraph>With this option, you can boot from an image and create a volume
                                                by entering the <inline classes="guilabel" rawtext=":guilabel:`Device Size`">Device Size</inline> and <inline classes="guilabel" rawtext=":guilabel:`Device&#10;Name`">Device
                                                    Name</inline> for your volume. Click the <inline classes="guilabel" rawtext=":guilabel:`Delete Volume on&#10;Instance Delete`">Delete Volume on
                                                    Instance Delete</inline> option to delete the volume on deleting the
                                                instance.</paragraph>
                                        </definition>
                                    </definition_list_item>
                                    <definition_list_item>
                                        <term>Boot from volume snapshot (creates a new volume)</term>
                                        <definition>
                                            <paragraph>Using this option, you can boot from a volume snapshot and create
                                                a new volume by choosing <inline classes="guilabel" rawtext=":guilabel:`Volume Snapshot`">Volume Snapshot</inline> from a list
                                                and adding a <inline classes="guilabel" rawtext=":guilabel:`Device Name`">Device Name</inline> for your volume. Click the
                                                <inline classes="guilabel" rawtext=":guilabel:`Delete Volume on Instance Delete`">Delete Volume on Instance Delete</inline> option to delete the
                                                volume on deleting the instance.</paragraph>
                                        </definition>
                                    </definition_list_item>
                                </definition_list>
                            </definition>
                        </definition_list_item>
                        <definition_list_item>
                            <term>Image Name</term>
                            <definition>
                                <paragraph>This field changes based on your previous selection. If you have
                                    chosen to launch an instance using an image, the <inline classes="guilabel" rawtext=":guilabel:`Image Name`">Image Name</inline>
                                    field displays. Select the image name from the dropdown list.</paragraph>
                            </definition>
                        </definition_list_item>
                        <definition_list_item>
                            <term>Instance Snapshot</term>
                            <definition>
                                <paragraph>This field changes based on your previous selection. If you have
                                    chosen to launch an instance using a snapshot, the
                                    <inline classes="guilabel" rawtext=":guilabel:`Instance Snapshot`">Instance Snapshot</inline> field displays.
                                    Select the snapshot name from the dropdown list.</paragraph>
                            </definition>
                        </definition_list_item>
                        <definition_list_item>
                            <term>Volume</term>
                            <definition>
                                <paragraph>This field changes based on your previous selection. If you have
                                    chosen to launch an instance using a volume, the <inline classes="guilabel" rawtext=":guilabel:`Volume`">Volume</inline>
                                    field displays. Select the volume name from the dropdown list.
                                    If you want to delete the volume on instance delete,
                                    check the <inline classes="guilabel" rawtext=":guilabel:`Delete Volume on Instance Delete`">Delete Volume on Instance Delete</inline> option.</paragraph>
                            </definition>
                        </definition_list_item>
                    </definition_list>
                    <paragraph><inline classes="guilabel" rawtext=":guilabel:`Flavor`">Flavor</inline> tab</paragraph>
                    <definition_list>
                        <definition_list_item>
                            <term>Flavor</term>
                            <definition>
                                <paragraph>Specify the size of the instance to launch.</paragraph>
                                <note>
                                    <paragraph>The flavor is selected based on the size of the image selected
                                        for launching an instance. For example, while creating an image, if
                                        you have entered the value in the <inline classes="guilabel" rawtext=":guilabel:`Minimum RAM (MB)`">Minimum RAM (MB)</inline> field
                                        as 2048, then on selecting the image, the default flavor is
                                        <literal>m1.small</literal>.</paragraph>
                                </note>
                            </definition>
                        </definition_list_item>
                    </definition_list>
                    <paragraph><inline classes="guilabel" rawtext=":guilabel:`Networks`">Networks</inline> tab</paragraph>
                    <definition_list>
                        <definition_list_item>
                            <term>Selected Networks</term>
                            <definition>
                                <paragraph>To add a network to the instance, click the <inline classes="guilabel" rawtext=":guilabel:`+`">+</inline> in the
                                    <inline classes="guilabel" rawtext=":guilabel:`Available`">Available</inline> field.</paragraph>
                            </definition>
                        </definition_list_item>
                    </definition_list>
                    <paragraph><inline classes="guilabel" rawtext=":guilabel:`Network Ports`">Network Ports</inline> tab</paragraph>
                    <definition_list>
                        <definition_list_item>
                            <term>Ports</term>
                            <definition>
                                <paragraph>Activate the ports that you want to assign to the instance.</paragraph>
                            </definition>
                        </definition_list_item>
                    </definition_list>
                    <paragraph><inline classes="guilabel" rawtext=":guilabel:`Security Groups`">Security Groups</inline> tab</paragraph>
                    <definition_list>
                        <definition_list_item>
                            <term>Security Groups</term>
                            <definition>
                                <paragraph>Activate the security groups that you want to assign to the instance.</paragraph>
                                <paragraph>Security groups are a kind of cloud firewall that define which
                                    incoming network traffic is forwarded to instances.</paragraph>
                                <paragraph>If you have not created any security groups, you can assign
                                    only the default security group to the instance.</paragraph>
                            </definition>
                        </definition_list_item>
                    </definition_list>
                    <paragraph><inline classes="guilabel" rawtext=":guilabel:`Key Pair`">Key Pair</inline> tab</paragraph>
                    <definition_list>
                        <definition_list_item>
                            <term>Key Pair</term>
                            <definition>
                                <paragraph>Specify a key pair.</paragraph>
                                <paragraph>If the image uses a static root password or a static key set
                                    (neither is recommended), you do not need to provide a key pair
                                    to launch the instance.</paragraph>
                            </definition>
                        </definition_list_item>
                    </definition_list>
                    <paragraph><inline classes="guilabel" rawtext=":guilabel:`Configuration`">Configuration</inline> tab</paragraph>
                    <definition_list>
                        <definition_list_item>
                            <term>Customization Script Source</term>
                            <definition>
                                <paragraph>Specify a customization script that runs after your instance
                                    launches.</paragraph>
                            </definition>
                        </definition_list_item>
                    </definition_list>
                    <paragraph><inline classes="guilabel" rawtext=":guilabel:`Metadata`">Metadata</inline> tab</paragraph>
                    <definition_list>
                        <definition_list_item>
                            <term>Available Metadata</term>
                            <definition>
                                <paragraph>Add Metadata items to your instance.</paragraph>
                            </definition>
                        </definition_list_item>
                    </definition_list>
                </list_item>
                <list_item>
                    <paragraph>Click <inline classes="guilabel" rawtext=":guilabel:`Launch Instance`">Launch Instance</inline>.</paragraph>
                    <paragraph>The instance starts on a compute node in the cloud.</paragraph>
                </list_item>
            </enumerated_list>
            <note>
                <paragraph>If you did not provide a key pair, security groups, or rules, users
                    can access the instance only from inside the cloud through VNC. Even
                    pinging the instance is not possible without an ICMP rule configured.</paragraph>
            </note>
            <paragraph>You can also launch an instance from the <inline classes="guilabel" rawtext=":guilabel:`Images`">Images</inline> or
                <inline classes="guilabel" rawtext=":guilabel:`Volumes`">Volumes</inline> category when you launch an instance from
                an image or a volume respectively.</paragraph>
            <paragraph>When you launch an instance from an image, OpenStack creates a local
                copy of the image on the compute node where the instance starts.</paragraph>
            <paragraph>For details on creating images, see <reference name="Creating images manually" refuri="https://docs.openstack.org/image-guide/create-images-manually.html">Creating images
                    manually</reference><target ids="creating-images-manually" names="creating\ images\ manually" refuri="https://docs.openstack.org/image-guide/create-images-manually.html"></target>
                in the <emphasis>OpenStack Virtual Machine Image Guide</emphasis>.</paragraph>
            <paragraph>When you launch an instance from a volume, note the following steps:</paragraph>
            <bullet_list bullet="*">
                <list_item>
                    <paragraph>To select the volume from which to launch, launch an instance from
                        an arbitrary image on the volume. The arbitrary image that you select
                        does not boot. Instead, it is replaced by the image on the volume that
                        you choose in the next steps.</paragraph>
                    <paragraph>To boot a Xen image from a volume, the image you launch in must be
                        the same type, fully virtualized or paravirtualized, as the one on
                        the volume.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Select the volume or volume snapshot from which to boot. Enter a
                        device name. Enter <literal>vda</literal> for KVM images or <literal>xvda</literal> for Xen images.</paragraph>
                </list_item>
            </bullet_list>
            <note>
                <paragraph>When running QEMU without support for the hardware virtualization, set
                    <literal>cpu_mode="none"</literal> alongside <literal>virt_type=qemu</literal> in
                    <literal>/etc/nova/nova-compute.conf</literal> to solve the following error:</paragraph>
                <literal_block highlight_args="{}" language="console" linenos="False" xml:space="preserve">libvirtError: unsupported configuration: CPU mode 'host-model'
for ``x86_64`` qemu domain on ``x86_64`` host is not supported by hypervisor</literal_block>
            </note>
        </section>
        <section ids="connect-to-your-instance-by-using-ssh" names="connect\ to\ your\ instance\ by\ using\ ssh">
            <title>Connect to your instance by using SSH</title>
            <paragraph>To use SSH to connect to your instance, use the downloaded keypair
                file.</paragraph>
            <note>
                <paragraph>The user name is <literal>ubuntu</literal> for the Ubuntu cloud images on TryStack.</paragraph>
            </note>
            <enumerated_list enumtype="arabic" prefix="" suffix=".">
                <list_item>
                    <paragraph>Copy the IP address for your instance.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Use the <literal_strong classes="command">ssh</literal_strong> command to make a secure connection to the instance.
                        For example:</paragraph>
                    <literal_block highlight_args="{}" language="console" linenos="False" xml:space="preserve">$ ssh -i MyKey.pem ubuntu@10.0.0.2</literal_block>
                </list_item>
                <list_item>
                    <paragraph>At the prompt, type <literal>yes</literal>.</paragraph>
                </list_item>
            </enumerated_list>
            <paragraph>It is also possible to SSH into an instance without an SSH keypair, if the
                administrator has enabled root password injection.  For more information
                about root password injection, see <reference name="Injecting the administrator password" refuri="https://docs.openstack.org/nova/latest/admin/admin-password-injection.html">Injecting the administrator password</reference><target ids="injecting-the-administrator-password" names="injecting\ the\ administrator\ password" refuri="https://docs.openstack.org/nova/latest/admin/admin-password-injection.html"></target>
                in the <emphasis>OpenStack Administrator Guide</emphasis>.</paragraph>
        </section>
        <section ids="track-usage-for-instances" names="track\ usage\ for\ instances">
            <title>Track usage for instances</title>
            <paragraph>You can track usage for instances for each project. You can track costs
                per month by showing meters like number of vCPUs, disks, RAM, and
                uptime for all your instances.</paragraph>
            <enumerated_list enumtype="arabic" prefix="" suffix=".">
                <list_item>
                    <paragraph>Log in to the dashboard.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Select the appropriate project from the drop down menu at the top left.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>On the <inline classes="guilabel" rawtext=":guilabel:`Project`">Project</inline> tab, open the <inline classes="guilabel" rawtext=":guilabel:`Compute`">Compute</inline> tab and
                        click <inline classes="guilabel" rawtext=":guilabel:`Overview`">Overview</inline> category.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>To query the instance usage for a month, select a month and click
                        <inline classes="guilabel" rawtext=":guilabel:`Submit`">Submit</inline>.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>To download a summary, click <inline classes="guilabel" rawtext=":guilabel:`Download CSV Summary`">Download CSV Summary</inline>.</paragraph>
                </list_item>
            </enumerated_list>
        </section>
        <section ids="create-an-instance-snapshot" names="create\ an\ instance\ snapshot">
            <title>Create an instance snapshot</title>
            <enumerated_list enumtype="arabic" prefix="" suffix=".">
                <list_item>
                    <paragraph>Log in to the dashboard.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Select the appropriate project from the drop down menu at the top left.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>On the <inline classes="guilabel" rawtext=":guilabel:`Project`">Project</inline> tab, open the <inline classes="guilabel" rawtext=":guilabel:`Compute`">Compute</inline> tab and
                        click the <inline classes="guilabel" rawtext=":guilabel:`Instances`">Instances</inline> category.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Select the instance from which to create a snapshot.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>In the actions column, click <inline classes="guilabel" rawtext=":guilabel:`Create Snapshot`">Create Snapshot</inline>.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>In the <inline classes="guilabel" rawtext=":guilabel:`Create Snapshot`">Create Snapshot</inline> dialog box, enter a name for the
                        snapshot, and click <inline classes="guilabel" rawtext=":guilabel:`Create Snapshot`">Create Snapshot</inline>.</paragraph>
                    <paragraph>The <inline classes="guilabel" rawtext=":guilabel:`Images`">Images</inline> category shows the instance snapshot.</paragraph>
                </list_item>
            </enumerated_list>
            <paragraph>To launch an instance from the snapshot, select the snapshot and click
                <inline classes="guilabel" rawtext=":guilabel:`Launch`">Launch</inline>. Proceed with launching an instance.</paragraph>
        </section>
        <section ids="manage-an-instance" names="manage\ an\ instance">
            <title>Manage an instance</title>
            <enumerated_list enumtype="arabic" prefix="" suffix=".">
                <list_item>
                    <paragraph>Log in to the dashboard.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Select the appropriate project from the drop down menu at the top left.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>On the <inline classes="guilabel" rawtext=":guilabel:`Project`">Project</inline> tab, open the <inline classes="guilabel" rawtext=":guilabel:`Compute`">Compute</inline> tab and
                        click <inline classes="guilabel" rawtext=":guilabel:`Instances`">Instances</inline> category.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Select an instance.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>In the menu list in the actions column, select the state.</paragraph>
                    <paragraph>You can resize or rebuild an instance. You can also choose to view
                        the instance console log, edit instance or the security groups.
                        Depending on the current state of the instance, you can pause,
                        resume, suspend, soft or hard reboot, or terminate it.</paragraph>
                </list_item>
            </enumerated_list>
        </section>
    </section>
</document>
