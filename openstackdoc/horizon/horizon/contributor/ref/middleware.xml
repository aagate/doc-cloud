<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.13.1 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/horizon/doc/source/contributor/ref/middleware.rst">
    <section ids="horizon-middleware" names="horizon\ middleware">
        <title>Horizon Middleware</title>
        <section ids="horizonmiddleware" names="horizonmiddleware">
            <title>HorizonMiddleware</title>
            <index entries="['single',\ 'HorizonMiddleware\ (class\ in\ horizon.middleware)',\ 'horizon.middleware.HorizonMiddleware',\ '',\ None]"></index>
            <desc desctype="class" domain="py" noindex="False" objtype="class">
                <desc_signature class="" first="False" fullname="HorizonMiddleware" ids="horizon.middleware.HorizonMiddleware" module="horizon.middleware" names="horizon.middleware.HorizonMiddleware"><desc_annotation xml:space="preserve">class </desc_annotation><desc_addname xml:space="preserve">horizon.middleware.</desc_addname><desc_name xml:space="preserve">HorizonMiddleware</desc_name><comment xml:space="preserve"></comment></desc_signature>
                <desc_content>
                    <paragraph>The main Horizon middleware class. Required for use of Horizon.</paragraph>
                    <index entries="['single',\ 'process_exception()\ (horizon.middleware.HorizonMiddleware\ method)',\ 'horizon.middleware.HorizonMiddleware.process_exception',\ '',\ None]"></index>
                    <desc desctype="method" domain="py" noindex="False" objtype="method">
                        <desc_signature class="HorizonMiddleware" first="False" fullname="HorizonMiddleware.process_exception" ids="horizon.middleware.HorizonMiddleware.process_exception" module="horizon.middleware" names="horizon.middleware.HorizonMiddleware.process_exception"><desc_name xml:space="preserve">process_exception</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">request</desc_parameter><desc_parameter xml:space="preserve">exception</desc_parameter></desc_parameterlist><comment xml:space="preserve"></comment></desc_signature>
                        <desc_content>
                            <paragraph>Catches internal Horizon exception classes.</paragraph>
                            <paragraph>Exception classes such as NotAuthorized, NotFound and Http302
                                are caught and handles them gracefully.</paragraph>
                        </desc_content>
                    </desc>
                    <index entries="['single',\ 'process_request()\ (horizon.middleware.HorizonMiddleware\ method)',\ 'horizon.middleware.HorizonMiddleware.process_request',\ '',\ None]"></index>
                    <desc desctype="method" domain="py" noindex="False" objtype="method">
                        <desc_signature class="HorizonMiddleware" first="False" fullname="HorizonMiddleware.process_request" ids="horizon.middleware.HorizonMiddleware.process_request" module="horizon.middleware" names="horizon.middleware.HorizonMiddleware.process_request"><desc_name xml:space="preserve">process_request</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">request</desc_parameter></desc_parameterlist><comment xml:space="preserve"></comment></desc_signature>
                        <desc_content>
                            <paragraph>Adds data necessary for Horizon to function to the request.</paragraph>
                        </desc_content>
                    </desc>
                    <index entries="['single',\ 'process_response()\ (horizon.middleware.HorizonMiddleware\ method)',\ 'horizon.middleware.HorizonMiddleware.process_response',\ '',\ None]"></index>
                    <desc desctype="method" domain="py" noindex="False" objtype="method">
                        <desc_signature class="HorizonMiddleware" first="False" fullname="HorizonMiddleware.process_response" ids="horizon.middleware.HorizonMiddleware.process_response" module="horizon.middleware" names="horizon.middleware.HorizonMiddleware.process_response"><desc_name xml:space="preserve">process_response</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">request</desc_parameter><desc_parameter xml:space="preserve">response</desc_parameter></desc_parameterlist><comment xml:space="preserve"></comment></desc_signature>
                        <desc_content>
                            <paragraph>Convert HttpResponseRedirect to HttpResponse if request is via ajax.</paragraph>
                            <paragraph>This is to allow ajax request to redirect url.</paragraph>
                        </desc_content>
                    </desc>
                </desc_content>
            </desc>
        </section>
        <section ids="operationlogmiddleware" names="operationlogmiddleware">
            <title>OperationLogMiddleware</title>
            <index entries="['single',\ 'OperationLogMiddleware\ (class\ in\ horizon.middleware)',\ 'horizon.middleware.OperationLogMiddleware',\ '',\ None]"></index>
            <desc desctype="class" domain="py" noindex="False" objtype="class">
                <desc_signature class="" first="False" fullname="OperationLogMiddleware" ids="horizon.middleware.OperationLogMiddleware" module="horizon.middleware" names="horizon.middleware.OperationLogMiddleware"><desc_annotation xml:space="preserve">class </desc_annotation><desc_addname xml:space="preserve">horizon.middleware.</desc_addname><desc_name xml:space="preserve">OperationLogMiddleware</desc_name><comment xml:space="preserve"></comment></desc_signature>
                <desc_content>
                    <paragraph>Middleware to output operation log.</paragraph>
                    <paragraph>This log can includes information below:</paragraph>
                    <bullet_list bullet="-">
                        <list_item>
                            <paragraph><literal>domain name</literal></paragraph>
                        </list_item>
                        <list_item>
                            <paragraph><literal>domain id</literal></paragraph>
                        </list_item>
                        <list_item>
                            <paragraph><literal>project name</literal></paragraph>
                        </list_item>
                        <list_item>
                            <paragraph><literal>project id</literal></paragraph>
                        </list_item>
                        <list_item>
                            <paragraph><literal>user name</literal></paragraph>
                        </list_item>
                        <list_item>
                            <paragraph><literal>user id</literal></paragraph>
                        </list_item>
                        <list_item>
                            <paragraph><literal>request scheme</literal></paragraph>
                        </list_item>
                        <list_item>
                            <paragraph><literal>referer url</literal></paragraph>
                        </list_item>
                        <list_item>
                            <paragraph><literal>request url</literal></paragraph>
                        </list_item>
                        <list_item>
                            <paragraph><literal>message</literal></paragraph>
                        </list_item>
                        <list_item>
                            <paragraph><literal>method</literal></paragraph>
                        </list_item>
                        <list_item>
                            <paragraph><literal>http status</literal></paragraph>
                        </list_item>
                        <list_item>
                            <paragraph><literal>request parameters</literal></paragraph>
                        </list_item>
                    </bullet_list>
                    <paragraph>and log format is defined OPERATION_LOG_OPTIONS.</paragraph>
                    <index entries="['single',\ 'process_exception()\ (horizon.middleware.OperationLogMiddleware\ method)',\ 'horizon.middleware.OperationLogMiddleware.process_exception',\ '',\ None]"></index>
                    <desc desctype="method" domain="py" noindex="False" objtype="method">
                        <desc_signature class="OperationLogMiddleware" first="False" fullname="OperationLogMiddleware.process_exception" ids="horizon.middleware.OperationLogMiddleware.process_exception" module="horizon.middleware" names="horizon.middleware.OperationLogMiddleware.process_exception"><desc_name xml:space="preserve">process_exception</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">request</desc_parameter><desc_parameter xml:space="preserve">exception</desc_parameter></desc_parameterlist><comment xml:space="preserve"></comment></desc_signature>
                        <desc_content>
                            <paragraph>Log error info when exception occurred.</paragraph>
                        </desc_content>
                    </desc>
                    <index entries="['single',\ 'process_response()\ (horizon.middleware.OperationLogMiddleware\ method)',\ 'horizon.middleware.OperationLogMiddleware.process_response',\ '',\ None]"></index>
                    <desc desctype="method" domain="py" noindex="False" objtype="method">
                        <desc_signature class="OperationLogMiddleware" first="False" fullname="OperationLogMiddleware.process_response" ids="horizon.middleware.OperationLogMiddleware.process_response" module="horizon.middleware" names="horizon.middleware.OperationLogMiddleware.process_response"><desc_name xml:space="preserve">process_response</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">request</desc_parameter><desc_parameter xml:space="preserve">response</desc_parameter></desc_parameterlist><comment xml:space="preserve"></comment></desc_signature>
                        <desc_content>
                            <paragraph>Log user operation.</paragraph>
                        </desc_content>
                    </desc>
                </desc_content>
            </desc>
        </section>
    </section>
</document>
