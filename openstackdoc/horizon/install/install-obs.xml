<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.13.1 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/horizon/doc/source/install/install-obs.rst">
    <section ids="install-and-configure-for-opensuse-and-suse-linux-enterprise" names="install\ and\ configure\ for\ opensuse\ and\ suse\ linux\ enterprise">
        <title>Install and configure for openSUSE and SUSE Linux Enterprise</title>
        <paragraph>This section describes how to install and configure the dashboard
            on the controller node.</paragraph>
        <paragraph>The only core service required by the dashboard is the Identity service.
            You can use the dashboard in combination with other services, such as
            Image service, Compute, and Networking. You can also use the dashboard
            in environments with stand-alone services such as Object Storage.</paragraph>
        <note>
            <paragraph>This section assumes proper installation, configuration, and operation
                of the Identity service using the Apache HTTP server and Memcached
                service.</paragraph>
        </note>
        <section ids="install-and-configure-components" names="install\ and\ configure\ components">
            <title>Install and configure components</title>
            <note>
                <paragraph>Default configuration files vary by distribution. You might need
                    to add these sections and options rather than modifying existing
                    sections and options. Also, an ellipsis (<literal>...</literal>) in the configuration
                    snippets indicates potential default configuration options that you
                    should retain.</paragraph>
            </note>
            <enumerated_list enumtype="arabic" prefix="" suffix=".">
                <list_item>
                    <paragraph>Install the packages:</paragraph>
                    <literal_block highlight_args="{}" language="console" linenos="False" xml:space="preserve"># zypper install openstack-dashboard</literal_block>
                    <comment xml:space="preserve">end</comment>
                </list_item>
                <list_item>
                    <paragraph>Configure the web server:</paragraph>
                    <literal_block highlight_args="{}" language="console" linenos="False" xml:space="preserve"># cp /etc/apache2/conf.d/openstack-dashboard.conf.sample \
  /etc/apache2/conf.d/openstack-dashboard.conf
# a2enmod rewrite</literal_block>
                    <comment xml:space="preserve">end</comment>
                </list_item>
                <list_item>
                    <paragraph>Edit the
                        <literal>/srv/www/openstack-dashboard/openstack_dashboard/local/local_settings.py</literal>
                        file and complete the following actions:</paragraph>
                    <bullet_list bullet="*">
                        <list_item>
                            <paragraph>Configure the dashboard to use OpenStack services on the
                                <literal>controller</literal> node:</paragraph>
                            <comment xml:space="preserve">path /srv/www/openstack-dashboard/openstack_dashboard/local/local_settings.py</comment>
                            <literal_block highlight_args="{}" language="python" linenos="False" xml:space="preserve">OPENSTACK_HOST = "controller"</literal_block>
                            <comment xml:space="preserve">end</comment>
                        </list_item>
                        <list_item>
                            <paragraph>Allow your hosts to access the dashboard:</paragraph>
                            <comment xml:space="preserve">path /srv/www/openstack-dashboard/openstack_dashboard/local/local_settings.py</comment>
                            <literal_block highlight_args="{}" language="python" linenos="False" xml:space="preserve">ALLOWED_HOSTS = ['one.example.com', 'two.example.com']</literal_block>
                            <comment xml:space="preserve">end</comment>
                            <note>
                                <paragraph><literal>ALLOWED_HOSTS</literal> can also be <literal>['*']</literal> to accept all hosts. This may be
                                    useful for development work, but is potentially insecure and should
                                    not be used in production. See <reference name="Django documentation" refuri="https://docs.djangoproject.com/en/dev/ref/settings/#allowed-hosts">Django documentation</reference><target ids="django-documentation" names="django\ documentation" refuri="https://docs.djangoproject.com/en/dev/ref/settings/#allowed-hosts"></target>
                                    for further information.</paragraph>
                            </note>
                        </list_item>
                        <list_item>
                            <paragraph>Configure the <literal>memcached</literal> session storage service:</paragraph>
                            <comment xml:space="preserve">path /srv/www/openstack-dashboard/openstack_dashboard/local/local_settings.py</comment>
                            <literal_block highlight_args="{}" language="python" linenos="False" xml:space="preserve">SESSION_ENGINE = 'django.contrib.sessions.backends.cache'

CACHES = {
    'default': {
         'BACKEND': 'django.core.cache.backends.memcached.MemcachedCache',
         'LOCATION': 'controller:11211',
    }
}</literal_block>
                            <comment xml:space="preserve">end</comment>
                            <note>
                                <paragraph>Comment out any other session storage configuration.</paragraph>
                            </note>
                        </list_item>
                        <list_item>
                            <paragraph>Enable the Identity API version 3:</paragraph>
                            <comment xml:space="preserve">path /srv/www/openstack-dashboard/openstack_dashboard/local/local_settings.py</comment>
                            <literal_block highlight_args="{}" language="python" linenos="False" xml:space="preserve">OPENSTACK_KEYSTONE_URL = "http://%s:5000/v3" % OPENSTACK_HOST</literal_block>
                            <comment xml:space="preserve">end</comment>
                        </list_item>
                        <list_item>
                            <paragraph>Enable support for domains:</paragraph>
                            <comment xml:space="preserve">path /srv/www/openstack-dashboard/openstack_dashboard/local/local_settings.py</comment>
                            <literal_block highlight_args="{}" language="python" linenos="False" xml:space="preserve">OPENSTACK_KEYSTONE_MULTIDOMAIN_SUPPORT = True</literal_block>
                            <comment xml:space="preserve">end</comment>
                        </list_item>
                        <list_item>
                            <paragraph>Configure API versions:</paragraph>
                            <comment xml:space="preserve">path /srv/www/openstack-dashboard/openstack_dashboard/local/local_settings.py</comment>
                            <literal_block highlight_args="{}" language="python" linenos="False" xml:space="preserve">OPENSTACK_API_VERSIONS = {
    "identity": 3,
    "image": 2,
    "volume": 2,
}</literal_block>
                            <comment xml:space="preserve">end</comment>
                        </list_item>
                        <list_item>
                            <paragraph>Configure <literal>Default</literal> as the default domain for users that you create
                                via the dashboard:</paragraph>
                            <comment xml:space="preserve">path /srv/www/openstack-dashboard/openstack_dashboard/local/local_settings.py</comment>
                            <literal_block highlight_args="{}" language="python" linenos="False" xml:space="preserve">OPENSTACK_KEYSTONE_DEFAULT_DOMAIN = "Default"</literal_block>
                            <comment xml:space="preserve">end</comment>
                        </list_item>
                        <list_item>
                            <paragraph>Configure <literal>user</literal> as the default role for
                                users that you create via the dashboard:</paragraph>
                            <comment xml:space="preserve">path /srv/www/openstack-dashboard/openstack_dashboard/local/local_settings.py</comment>
                            <literal_block highlight_args="{}" language="python" linenos="False" xml:space="preserve">OPENSTACK_KEYSTONE_DEFAULT_ROLE = "user"</literal_block>
                            <comment xml:space="preserve">end</comment>
                        </list_item>
                        <list_item>
                            <paragraph>If you chose networking option 1, disable support for layer-3
                                networking services:</paragraph>
                            <comment xml:space="preserve">path /srv/www/openstack-dashboard/openstack_dashboard/local/local_settings.py</comment>
                            <literal_block highlight_args="{}" language="python" linenos="False" xml:space="preserve">OPENSTACK_NEUTRON_NETWORK = {
    ...
    'enable_router': False,
    'enable_quotas': False,
    'enable_distributed_router': False,
    'enable_ha_router': False,
    'enable_lb': False,
    'enable_firewall': False,
    'enable_vpn': False,
    'enable_fip_topology_check': False,
}</literal_block>
                            <comment xml:space="preserve">end</comment>
                        </list_item>
                        <list_item>
                            <paragraph>Optionally, configure the time zone:</paragraph>
                            <comment xml:space="preserve">path /srv/www/openstack-dashboard/openstack_dashboard/local/local_settings.py</comment>
                            <literal_block highlight_args="{}" language="python" linenos="False" xml:space="preserve">TIME_ZONE = "TIME_ZONE"</literal_block>
                            <comment xml:space="preserve">end</comment>
                            <paragraph>Replace <literal>TIME_ZONE</literal> with an appropriate time zone identifier.
                                For more information, see the <reference name="list of time zones" refuri="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones">list of time zones</reference>.</paragraph>
                        </list_item>
                    </bullet_list>
                </list_item>
            </enumerated_list>
        </section>
        <section ids="finalize-installation" names="finalize\ installation">
            <title>Finalize installation</title>
            <bullet_list bullet="*">
                <list_item>
                    <paragraph>Restart the web server and session storage service:</paragraph>
                    <literal_block highlight_args="{}" language="console" linenos="False" xml:space="preserve"># systemctl restart apache2.service memcached.service</literal_block>
                    <comment xml:space="preserve">end</comment>
                    <note>
                        <paragraph>The <literal>systemctl restart</literal> command starts each service if
                            not currently running.</paragraph>
                    </note>
                </list_item>
            </bullet_list>
        </section>
    </section>
</document>
