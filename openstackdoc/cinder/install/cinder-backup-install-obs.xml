<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.13.1 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/cinder/doc/source/install/cinder-backup-install-obs.rst">
    <section ids="install-and-configure-the-backup-service" names="install\ and\ configure\ the\ backup\ service">
        <title>Install and configure the backup service</title>
        <paragraph>Optionally, install and configure the backup service. For simplicity,
            this configuration uses the Block Storage node and the Object Storage
            (swift) driver, thus depending on the
            <reference name="Object Storage service" refuri="https://docs.openstack.org/project-install-guide/object-storage/ocata/">Object Storage service</reference><target ids="object-storage-service" names="object\ storage\ service" refuri="https://docs.openstack.org/project-install-guide/object-storage/ocata/"></target>.</paragraph>
        <note>
            <paragraph>You must <reference internal="True" refuri="../configuration/block-storage/config-options#cinder-storage"><inline classes="std std-ref">install and configure a storage node</inline></reference> prior
                to installing and configuring the backup service.</paragraph>
        </note>
        <section ids="install-and-configure-components" names="install\ and\ configure\ components">
            <title>Install and configure components</title>
            <note>
                <paragraph>Perform these steps on the Block Storage node.</paragraph>
            </note>
            <enumerated_list enumtype="arabic" prefix="" suffix=".">
                <list_item>
                    <paragraph>Install the packages:</paragraph>
                    <literal_block highlight_args="{}" language="console" linenos="False" xml:space="preserve"># zypper install openstack-cinder-backup</literal_block>
                </list_item>
                <list_item>
                    <paragraph>Edit the <literal>/etc/cinder/cinder.conf</literal> file
                        and complete the following actions:</paragraph>
                    <enumerated_list enumtype="arabic" prefix="" suffix=".">
                        <list_item>
                            <paragraph>In the <literal>[DEFAULT]</literal> section, configure backup options:</paragraph>
                            <comment xml:space="preserve">path /etc/cinder/cinder.conf</comment>
                            <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">[DEFAULT]
# ...
backup_driver = cinder.backup.drivers.swift
backup_swift_url = SWIFT_URL</literal_block>
                            <paragraph>Replace <literal>SWIFT_URL</literal> with the URL of the Object Storage service. The
                                URL can be found by showing the object-store API endpoints:</paragraph>
                            <literal_block highlight_args="{}" language="console" linenos="False" xml:space="preserve">$ openstack catalog show object-store</literal_block>
                        </list_item>
                    </enumerated_list>
                </list_item>
            </enumerated_list>
        </section>
        <section ids="finalize-installation" names="finalize\ installation">
            <title>Finalize installation</title>
            <paragraph>Start the Block Storage backup service and configure it to
                start when the system boots:</paragraph>
            <literal_block highlight_args="{}" language="console" linenos="False" xml:space="preserve"># systemctl enable openstack-cinder-backup.service
# systemctl start openstack-cinder-backup.service</literal_block>
        </section>
    </section>
</document>
