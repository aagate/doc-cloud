<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.13.1 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/cinder/doc/source/admin/blockstorage-manage-volumes.rst">
    <section ids="manage-volumes" names="manage\ volumes">
        <title>Manage volumes</title>
        <paragraph>The default OpenStack Block Storage service implementation is an
            iSCSI solution that uses <reference internal="True" refuri="../common/glossary#term-logical-volume-manager-lvm"><inline classes="xref std std-term">Logical Volume Manager (LVM)</inline></reference> for Linux.</paragraph>
        <note>
            <paragraph>The OpenStack Block Storage service is not a shared storage
                solution like a Network Attached Storage (NAS) of NFS volumes
                where you can attach a volume to multiple servers. With the
                OpenStack Block Storage service, you can attach a volume to only
                one instance at a time.</paragraph>
            <paragraph>The OpenStack Block Storage service also provides drivers that
                enable you to use several vendorsâ€™ back-end storage devices in
                addition to the base LVM implementation.  These storage devices can
                also be used instead of the base LVM installation.</paragraph>
        </note>
        <paragraph>This high-level procedure shows you how to create and attach a volume
            to a server instance.</paragraph>
        <paragraph><strong>To create and attach a volume to an instance</strong></paragraph>
        <enumerated_list enumtype="arabic" prefix="" suffix=".">
            <list_item>
                <paragraph>Configure the OpenStack Compute and the OpenStack Block Storage
                    services through the <literal>/etc/cinder/cinder.conf</literal> file.</paragraph>
            </list_item>
            <list_item>
                <paragraph>Use the <literal_strong classes="command">openstack volume create</literal_strong> command to create a volume.
                    This command creates an LV into the volume group (VG) <literal>cinder-volumes</literal>.</paragraph>
            </list_item>
            <list_item>
                <paragraph>Use the <literal_strong classes="command">openstack server add volume</literal_strong> command to attach the
                    volume to an instance. This command creates a unique <reference internal="True" refuri="../common/glossary#term-iscsi-qualified-name-iqn"><inline classes="xref std std-term">IQN</inline></reference> that is exposed to the compute node.</paragraph>
                <bullet_list bullet="*">
                    <list_item>
                        <paragraph>The compute node, which runs the instance, now has an active
                            iSCSI session and new local storage (usually a <literal>/dev/sdX</literal>
                            disk).</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Libvirt uses that local storage as storage for the instance. The
                            instance gets a new disk (usually a <literal>/dev/vdX</literal> disk).</paragraph>
                    </list_item>
                </bullet_list>
            </list_item>
        </enumerated_list>
        <paragraph>For this particular walkthrough, one cloud controller runs
            <literal>nova-api</literal>, <literal>nova-scheduler</literal>, <literal>nova-objectstore</literal>,
            <literal>nova-network</literal> and <literal>cinder-*</literal> services. Two additional compute
            nodes run <literal>nova-compute</literal>. The walkthrough uses a custom
            partitioning scheme that carves out 60 GB of space and labels it as
            LVM. The network uses the <literal>FlatManager</literal> and <literal>NetworkManager</literal>
            settings for OpenStack Compute.</paragraph>
        <paragraph>The network mode does not interfere with OpenStack Block Storage
            operations, but you must set up networking for Block Storage to work.
            For details, see <reference name="networking" refuri="https://docs.openstack.org/neutron/latest/">networking</reference>.</paragraph>
        <target ids="networking" names="networking" refuri="https://docs.openstack.org/neutron/latest/"></target>
        <paragraph>To set up Compute to use volumes, ensure that Block Storage is
            installed along with <literal>lvm2</literal>. This guide describes how to
            troubleshoot your installation and back up your Compute volumes.</paragraph>
        <compound classes="toctree-wrapper">
            <compact_paragraph toctree="True"><bullet_list><list_item classes="toctree-l1"><compact_paragraph classes="toctree-l1"><reference anchorname="" internal="True" refuri="blockstorage-boot-from-volume">Boot from volume</reference></compact_paragraph></list_item><list_item classes="toctree-l1"><compact_paragraph classes="toctree-l1"><reference anchorname="" internal="True" refuri="blockstorage-nfs-backend">Configure an NFS storage back end</reference></compact_paragraph></list_item><list_item classes="toctree-l1"><compact_paragraph classes="toctree-l1"><reference anchorname="" internal="True" refuri="blockstorage-glusterfs-backend">Configure a GlusterFS back end</reference></compact_paragraph></list_item><list_item classes="toctree-l1"><compact_paragraph classes="toctree-l1"><reference anchorname="" internal="True" refuri="blockstorage-multi-backend">Configure multiple-storage back ends</reference></compact_paragraph><bullet_list><list_item classes="toctree-l2"><compact_paragraph classes="toctree-l2"><reference anchorname="#enable-multiple-storage-back-ends" internal="True" refuri="blockstorage-multi-backend#enable-multiple-storage-back-ends">Enable multiple-storage back ends</reference></compact_paragraph></list_item><list_item classes="toctree-l2"><compact_paragraph classes="toctree-l2"><reference anchorname="#configure-block-storage-scheduler-multi-back-end" internal="True" refuri="blockstorage-multi-backend#configure-block-storage-scheduler-multi-back-end">Configure Block Storage scheduler multi back end</reference></compact_paragraph></list_item><list_item classes="toctree-l2"><compact_paragraph classes="toctree-l2"><reference anchorname="#volume-type" internal="True" refuri="blockstorage-multi-backend#volume-type">Volume type</reference></compact_paragraph></list_item><list_item classes="toctree-l2"><compact_paragraph classes="toctree-l2"><reference anchorname="#usage" internal="True" refuri="blockstorage-multi-backend#usage">Usage</reference></compact_paragraph></list_item></bullet_list></list_item><list_item classes="toctree-l1"><compact_paragraph classes="toctree-l1"><reference anchorname="" internal="True" refuri="blockstorage-backup-disks">Back up Block Storage service disks</reference></compact_paragraph></list_item><list_item classes="toctree-l1"><compact_paragraph classes="toctree-l1"><reference anchorname="" internal="True" refuri="blockstorage-volume-migration">Migrate volumes</reference></compact_paragraph></list_item><list_item classes="toctree-l1"><compact_paragraph classes="toctree-l1"><reference anchorname="" internal="True" refuri="blockstorage-glusterfs-removal">Gracefully remove a GlusterFS volume from usage</reference></compact_paragraph></list_item><list_item classes="toctree-l1"><compact_paragraph classes="toctree-l1"><reference anchorname="" internal="True" refuri="blockstorage-volume-backups">Back up and restore volumes and snapshots</reference></compact_paragraph></list_item><list_item classes="toctree-l1"><compact_paragraph classes="toctree-l1"><reference anchorname="" internal="True" refuri="blockstorage-volume-backups-export-import">Export and import backup metadata</reference></compact_paragraph></list_item><list_item classes="toctree-l1"><compact_paragraph classes="toctree-l1"><reference anchorname="" internal="True" refuri="blockstorage-lio-iscsi-support">Use LIO iSCSI support</reference></compact_paragraph></list_item><list_item classes="toctree-l1"><compact_paragraph classes="toctree-l1"><reference anchorname="" internal="True" refuri="blockstorage-volume-number-weigher">Configure and use volume number weigher</reference></compact_paragraph><bullet_list><list_item classes="toctree-l2"><compact_paragraph classes="toctree-l2"><reference anchorname="#enable-volume-number-weigher" internal="True" refuri="blockstorage-volume-number-weigher#enable-volume-number-weigher">Enable volume number weigher</reference></compact_paragraph></list_item><list_item classes="toctree-l2"><compact_paragraph classes="toctree-l2"><reference anchorname="#configure-multiple-storage-back-ends" internal="True" refuri="blockstorage-volume-number-weigher#configure-multiple-storage-back-ends">Configure multiple-storage back ends</reference></compact_paragraph></list_item><list_item classes="toctree-l2"><compact_paragraph classes="toctree-l2"><reference anchorname="#volume-type" internal="True" refuri="blockstorage-volume-number-weigher#volume-type">Volume type</reference></compact_paragraph></list_item><list_item classes="toctree-l2"><compact_paragraph classes="toctree-l2"><reference anchorname="#usage" internal="True" refuri="blockstorage-volume-number-weigher#usage">Usage</reference></compact_paragraph></list_item></bullet_list></list_item><list_item classes="toctree-l1"><compact_paragraph classes="toctree-l1"><reference anchorname="" internal="True" refuri="blockstorage-consistency-groups">Consistency groups</reference></compact_paragraph></list_item><list_item classes="toctree-l1"><compact_paragraph classes="toctree-l1"><reference anchorname="" internal="True" refuri="blockstorage-driver-filter-weighing">Configure and use driver filter and weighing for scheduler</reference></compact_paragraph><bullet_list><list_item classes="toctree-l2"><compact_paragraph classes="toctree-l2"><reference anchorname="#what-is-driver-filter-and-weigher-and-when-to-use-it" internal="True" refuri="blockstorage-driver-filter-weighing#what-is-driver-filter-and-weigher-and-when-to-use-it">What is driver filter and weigher and when to use it</reference></compact_paragraph></list_item><list_item classes="toctree-l2"><compact_paragraph classes="toctree-l2"><reference anchorname="#enable-driver-filter-and-weighing" internal="True" refuri="blockstorage-driver-filter-weighing#enable-driver-filter-and-weighing">Enable driver filter and weighing</reference></compact_paragraph></list_item><list_item classes="toctree-l2"><compact_paragraph classes="toctree-l2"><reference anchorname="#defining-your-own-filter-and-goodness-functions" internal="True" refuri="blockstorage-driver-filter-weighing#defining-your-own-filter-and-goodness-functions">Defining your own filter and goodness functions</reference></compact_paragraph></list_item><list_item classes="toctree-l2"><compact_paragraph classes="toctree-l2"><reference anchorname="#supported-operations-in-filter-and-goodness-functions" internal="True" refuri="blockstorage-driver-filter-weighing#supported-operations-in-filter-and-goodness-functions">Supported operations in filter and goodness functions</reference></compact_paragraph></list_item><list_item classes="toctree-l2"><compact_paragraph classes="toctree-l2"><reference anchorname="#available-properties-when-creating-custom-functions" internal="True" refuri="blockstorage-driver-filter-weighing#available-properties-when-creating-custom-functions">Available properties when creating custom functions</reference></compact_paragraph><bullet_list><list_item classes="toctree-l3"><compact_paragraph classes="toctree-l3"><reference anchorname="#host-stats-for-a-back-end" internal="True" refuri="blockstorage-driver-filter-weighing#host-stats-for-a-back-end">Host stats for a back end</reference></compact_paragraph></list_item><list_item classes="toctree-l3"><compact_paragraph classes="toctree-l3"><reference anchorname="#capabilities-specific-to-a-back-end" internal="True" refuri="blockstorage-driver-filter-weighing#capabilities-specific-to-a-back-end">Capabilities specific to a back end</reference></compact_paragraph></list_item><list_item classes="toctree-l3"><compact_paragraph classes="toctree-l3"><reference anchorname="#requested-volume-properties" internal="True" refuri="blockstorage-driver-filter-weighing#requested-volume-properties">Requested volume properties</reference></compact_paragraph></list_item></bullet_list></list_item><list_item classes="toctree-l2"><compact_paragraph classes="toctree-l2"><reference anchorname="#extra-specs-for-the-requested-volume-type" internal="True" refuri="blockstorage-driver-filter-weighing#extra-specs-for-the-requested-volume-type">Extra specs for the requested volume type</reference></compact_paragraph></list_item><list_item classes="toctree-l2"><compact_paragraph classes="toctree-l2"><reference anchorname="#current-qos-specs-for-the-requested-volume-type" internal="True" refuri="blockstorage-driver-filter-weighing#current-qos-specs-for-the-requested-volume-type">Current QoS specs for the requested volume type</reference></compact_paragraph></list_item><list_item classes="toctree-l2"><compact_paragraph classes="toctree-l2"><reference anchorname="#driver-filter-and-weigher-usage-examples" internal="True" refuri="blockstorage-driver-filter-weighing#driver-filter-and-weigher-usage-examples">Driver filter and weigher usage examples</reference></compact_paragraph></list_item></bullet_list></list_item><list_item classes="toctree-l1"><compact_paragraph classes="toctree-l1"><reference anchorname="" internal="True" refuri="blockstorage-ratelimit-volume-copy-bandwidth">Rate-limit volume copy bandwidth</reference></compact_paragraph><bullet_list><list_item classes="toctree-l2"><compact_paragraph classes="toctree-l2"><reference anchorname="#configure-volume-copy-bandwidth-limit" internal="True" refuri="blockstorage-ratelimit-volume-copy-bandwidth#configure-volume-copy-bandwidth-limit">Configure volume copy bandwidth limit</reference></compact_paragraph></list_item></bullet_list></list_item><list_item classes="toctree-l1"><compact_paragraph classes="toctree-l1"><reference anchorname="" internal="True" refuri="blockstorage-over-subscription">Oversubscription in thin provisioning</reference></compact_paragraph><bullet_list><list_item classes="toctree-l2"><compact_paragraph classes="toctree-l2"><reference anchorname="#configure-oversubscription-settings" internal="True" refuri="blockstorage-over-subscription#configure-oversubscription-settings">Configure oversubscription settings</reference></compact_paragraph></list_item><list_item classes="toctree-l2"><compact_paragraph classes="toctree-l2"><reference anchorname="#capabilities" internal="True" refuri="blockstorage-over-subscription#capabilities">Capabilities</reference></compact_paragraph></list_item><list_item classes="toctree-l2"><compact_paragraph classes="toctree-l2"><reference anchorname="#volume-type-extra-specs" internal="True" refuri="blockstorage-over-subscription#volume-type-extra-specs">Volume type extra specs</reference></compact_paragraph></list_item><list_item classes="toctree-l2"><compact_paragraph classes="toctree-l2"><reference anchorname="#volume-replication-extra-specs" internal="True" refuri="blockstorage-over-subscription#volume-replication-extra-specs">Volume replication extra specs</reference></compact_paragraph></list_item><list_item classes="toctree-l2"><compact_paragraph classes="toctree-l2"><reference anchorname="#capacity-filter" internal="True" refuri="blockstorage-over-subscription#capacity-filter">Capacity filter</reference></compact_paragraph></list_item><list_item classes="toctree-l2"><compact_paragraph classes="toctree-l2"><reference anchorname="#capacity-weigher" internal="True" refuri="blockstorage-over-subscription#capacity-weigher">Capacity weigher</reference></compact_paragraph></list_item></bullet_list></list_item><list_item classes="toctree-l1"><compact_paragraph classes="toctree-l1"><reference anchorname="" internal="True" refuri="blockstorage-image-volume-cache">Image-Volume cache</reference></compact_paragraph><bullet_list><list_item classes="toctree-l2"><compact_paragraph classes="toctree-l2"><reference anchorname="#configure-the-internal-tenant" internal="True" refuri="blockstorage-image-volume-cache#configure-the-internal-tenant">Configure the Internal Tenant</reference></compact_paragraph></list_item><list_item classes="toctree-l2"><compact_paragraph classes="toctree-l2"><reference anchorname="#configure-the-image-volume-cache" internal="True" refuri="blockstorage-image-volume-cache#configure-the-image-volume-cache">Configure the Image-Volume cache</reference></compact_paragraph></list_item><list_item classes="toctree-l2"><compact_paragraph classes="toctree-l2"><reference anchorname="#notifications" internal="True" refuri="blockstorage-image-volume-cache#notifications">Notifications</reference></compact_paragraph></list_item><list_item classes="toctree-l2"><compact_paragraph classes="toctree-l2"><reference anchorname="#managing-cached-image-volumes" internal="True" refuri="blockstorage-image-volume-cache#managing-cached-image-volumes">Managing cached Image-Volumes</reference></compact_paragraph></list_item></bullet_list></list_item><list_item classes="toctree-l1"><compact_paragraph classes="toctree-l1"><reference anchorname="" internal="True" refuri="blockstorage-volume-backed-image">Volume-backed image</reference></compact_paragraph><bullet_list><list_item classes="toctree-l2"><compact_paragraph classes="toctree-l2"><reference anchorname="#configure-the-volume-backed-image" internal="True" refuri="blockstorage-volume-backed-image#configure-the-volume-backed-image">Configure the Volume-backed image</reference></compact_paragraph></list_item><list_item classes="toctree-l2"><compact_paragraph classes="toctree-l2"><reference anchorname="#creating-a-volume-backed-image" internal="True" refuri="blockstorage-volume-backed-image#creating-a-volume-backed-image">Creating a Volume-backed image</reference></compact_paragraph></list_item></bullet_list></list_item><list_item classes="toctree-l1"><compact_paragraph classes="toctree-l1"><reference anchorname="" internal="True" refuri="blockstorage-get-capabilities">Get capabilities</reference></compact_paragraph><bullet_list><list_item classes="toctree-l2"><compact_paragraph classes="toctree-l2"><reference anchorname="#usage-of-cinder-client" internal="True" refuri="blockstorage-get-capabilities#usage-of-cinder-client">Usage of cinder client</reference></compact_paragraph></list_item><list_item classes="toctree-l2"><compact_paragraph classes="toctree-l2"><reference anchorname="#disable-a-service" internal="True" refuri="blockstorage-get-capabilities#disable-a-service">Disable a service</reference></compact_paragraph></list_item><list_item classes="toctree-l2"><compact_paragraph classes="toctree-l2"><reference anchorname="#usage-of-rest-api" internal="True" refuri="blockstorage-get-capabilities#usage-of-rest-api">Usage of REST API</reference></compact_paragraph></list_item><list_item classes="toctree-l2"><compact_paragraph classes="toctree-l2"><reference anchorname="#usage-of-volume-type-access-extension" internal="True" refuri="blockstorage-get-capabilities#usage-of-volume-type-access-extension">Usage of volume type access extension</reference></compact_paragraph></list_item></bullet_list></list_item><list_item classes="toctree-l1"><compact_paragraph classes="toctree-l1"><reference anchorname="" internal="True" refuri="blockstorage-groups">Generic volume groups</reference></compact_paragraph></list_item></bullet_list></compact_paragraph>
        </compound>
        <note>
            <paragraph>To enable the use of encrypted volumes, see the setup instructions in
                <reference name="Create an encrypted volume type" refuri="https://docs.openstack.org/admin-guide/dashboard-manage-volumes.html#create-an-encrypted-volume-type">Create an encrypted volume type</reference><target ids="create-an-encrypted-volume-type" names="create\ an\ encrypted\ volume\ type" refuri="https://docs.openstack.org/admin-guide/dashboard-manage-volumes.html#create-an-encrypted-volume-type"></target>.</paragraph>
        </note>
    </section>
</document>
