<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.13.1 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/cinder/doc/source/admin/blockstorage-glusterfs-removal.rst">
    <target refid="glusterfs-removal"></target>
    <section ids="gracefully-remove-a-glusterfs-volume-from-usage glusterfs-removal" names="gracefully\ remove\ a\ glusterfs\ volume\ from\ usage glusterfs_removal">
        <title>Gracefully remove a GlusterFS volume from usage</title>
        <paragraph>Configuring the <literal>cinder</literal> volume service to use GlusterFS involves creating a
            shares file (for example, <literal>/etc/cinder/glusterfs</literal>). This shares file
            lists each GlusterFS volume (with its corresponding storage server) that
            the <literal>cinder</literal> volume service can use for back end storage.</paragraph>
        <paragraph>To remove a GlusterFS volume from usage as a back end, delete the volumeâ€™s
            corresponding entry from the shares file. After doing so, restart the Block
            Storage services.</paragraph>
        <paragraph>Restarting the Block Storage services will prevent the <literal>cinder</literal> volume
            service from exporting the deleted GlusterFS volume. This will prevent any
            instances from mounting the volume from that point onwards.</paragraph>
        <paragraph>However, the removed GlusterFS volume might still be mounted on an instance
            at this point. Typically, this is the case when the volume was already
            mounted while its entry was deleted from the shares file.
            Whenever this occurs, you will have to unmount the volume as normal after
            the Block Storage services are restarted.</paragraph>
    </section>
</document>
