<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.13.1 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/cinder/doc/source/admin/blockstorage-api-throughput.rst">
    <section ids="increase-block-storage-api-service-throughput" names="increase\ block\ storage\ api\ service\ throughput">
        <title>Increase Block Storage API service throughput</title>
        <paragraph>By default, the Block Storage API service runs in one process. This
            limits the number of API requests that the Block Storage service can
            process at any given time. In a production environment, you should
            increase the Block Storage API throughput by allowing the Block Storage
            API service to run in as many processes as the machine capacity allows.</paragraph>
        <note>
            <paragraph>The Block Storage API service is named <literal>openstack-cinder-api</literal> on
                the following distributions: CentOS, Fedora, openSUSE, Red Hat
                Enterprise Linux, and SUSE Linux Enterprise. In Ubuntu and Debian
                distributions, the Block Storage API service is named <literal>cinder-api</literal>.</paragraph>
        </note>
        <paragraph>To do so, use the Block Storage API service option <literal>osapi_volume_workers</literal>.
            This option allows you to specify the number of API service workers
            (or OS processes) to launch for the Block Storage API service.</paragraph>
        <paragraph>To configure this option, open the <literal>/etc/cinder/cinder.conf</literal>
            configuration file and set the <literal>osapi_volume_workers</literal> configuration
            key to the number of CPU cores/threads on a machine.</paragraph>
        <paragraph>On distributions that include <literal>openstack-config</literal>, you can configure
            this by running the following command instead:</paragraph>
        <literal_block highlight_args="{}" language="console" linenos="False" xml:space="preserve"># openstack-config --set /etc/cinder/cinder.conf \
  DEFAULT osapi_volume_workers CORES</literal_block>
        <paragraph>Replace <literal>CORES</literal> with the number of CPU cores/threads on a machine.</paragraph>
    </section>
</document>
