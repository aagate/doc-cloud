<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.13.1 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/cinder/doc/source/contributor/api/cinder.volume.drivers.hitachi.hnas_backend.rst">
    <section ids="module-cinder.volume.drivers.hitachi.hnas_backend the-cinder-volume-drivers-hitachi-hnas-backend-module" names="the\ cinder.volume.drivers.hitachi.hnas_backend\ module">
        <title>The <reference internal="True" refid="module-cinder.volume.drivers.hitachi.hnas_backend" reftitle="cinder.volume.drivers.hitachi.hnas_backend"><literal classes="xref py py-mod">cinder.volume.drivers.hitachi.hnas_backend</literal></reference> Module</title>
        <index entries="['single',\ 'cinder.volume.drivers.hitachi.hnas_backend\ (module)',\ 'module-cinder.volume.drivers.hitachi.hnas_backend',\ '',\ None]"></index>
        <paragraph>Hitachi Unified Storage (HUS-HNAS) platform. Backend operations.</paragraph>
        <index entries="['single',\ 'HNASSSHBackend\ (class\ in\ cinder.volume.drivers.hitachi.hnas_backend)',\ 'cinder.volume.drivers.hitachi.hnas_backend.HNASSSHBackend',\ '',\ None]"></index>
        <desc desctype="class" domain="py" noindex="False" objtype="class">
            <desc_signature class="" first="False" fullname="HNASSSHBackend" ids="cinder.volume.drivers.hitachi.hnas_backend.HNASSSHBackend" module="cinder.volume.drivers.hitachi.hnas_backend" names="cinder.volume.drivers.hitachi.hnas_backend.HNASSSHBackend"><desc_annotation xml:space="preserve">class </desc_annotation><desc_name xml:space="preserve">HNASSSHBackend</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">backend_opts</desc_parameter></desc_parameterlist></desc_signature>
            <desc_content>
                <paragraph>Bases: <literal classes="xref py py-class">object</literal></paragraph>
                <index entries="['single',\ 'check_snapshot_parent()\ (HNASSSHBackend\ method)',\ 'cinder.volume.drivers.hitachi.hnas_backend.HNASSSHBackend.check_snapshot_parent',\ '',\ None]"></index>
                <desc desctype="method" domain="py" noindex="False" objtype="method">
                    <desc_signature class="HNASSSHBackend" first="False" fullname="HNASSSHBackend.check_snapshot_parent" ids="cinder.volume.drivers.hitachi.hnas_backend.HNASSSHBackend.check_snapshot_parent" module="cinder.volume.drivers.hitachi.hnas_backend" names="cinder.volume.drivers.hitachi.hnas_backend.HNASSSHBackend.check_snapshot_parent"><desc_name xml:space="preserve">check_snapshot_parent</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">volume_path</desc_parameter><desc_parameter xml:space="preserve">snap_name</desc_parameter><desc_parameter xml:space="preserve">fs_label</desc_parameter></desc_parameterlist></desc_signature>
                    <desc_content>
                        <paragraph>Check if a volume is the snapshot source</paragraph>
                        <field_list>
                            <field>
                                <field_name>Parameters</field_name>
                                <field_body>
                                    <bullet_list>
                                        <list_item>
                                            <paragraph><literal_strong refspecific="True">volume_path</literal_strong> – path of the volume</paragraph>
                                        </list_item>
                                        <list_item>
                                            <paragraph><literal_strong refspecific="True">snap_name</literal_strong> – name of the snapshot</paragraph>
                                        </list_item>
                                        <list_item>
                                            <paragraph><literal_strong refspecific="True">fs_label</literal_strong> – filesystem label</paragraph>
                                        </list_item>
                                    </bullet_list>
                                </field_body>
                            </field>
                            <field>
                                <field_name>Returns</field_name>
                                <field_body>
                                    <paragraph>True if the volume is the snapshot’s source or False otherwise</paragraph>
                                </field_body>
                            </field>
                        </field_list>
                    </desc_content>
                </desc>
                <index entries="['single',\ 'file_clone()\ (HNASSSHBackend\ method)',\ 'cinder.volume.drivers.hitachi.hnas_backend.HNASSSHBackend.file_clone',\ '',\ None]"></index>
                <desc desctype="method" domain="py" noindex="False" objtype="method">
                    <desc_signature class="HNASSSHBackend" first="False" fullname="HNASSSHBackend.file_clone" ids="cinder.volume.drivers.hitachi.hnas_backend.HNASSSHBackend.file_clone" module="cinder.volume.drivers.hitachi.hnas_backend" names="cinder.volume.drivers.hitachi.hnas_backend.HNASSSHBackend.file_clone"><desc_name xml:space="preserve">file_clone</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">fs_label</desc_parameter><desc_parameter xml:space="preserve">src</desc_parameter><desc_parameter xml:space="preserve">name</desc_parameter></desc_parameterlist></desc_signature>
                    <desc_content>
                        <paragraph>Clones NFS files to a new one named ‘name’.</paragraph>
                        <paragraph>Clone primitive used to support all NFS snapshot/cloning functions.</paragraph>
                        <field_list>
                            <field>
                                <field_name>Parameters</field_name>
                                <field_body>
                                    <bullet_list>
                                        <list_item>
                                            <paragraph><literal_strong refspecific="True">fs_label</literal_strong> – file system label of the new file</paragraph>
                                        </list_item>
                                        <list_item>
                                            <paragraph><literal_strong refspecific="True">src</literal_strong> – source file</paragraph>
                                        </list_item>
                                        <list_item>
                                            <paragraph><literal_strong refspecific="True">name</literal_strong> – target path of the new created file</paragraph>
                                        </list_item>
                                    </bullet_list>
                                </field_body>
                            </field>
                        </field_list>
                    </desc_content>
                </desc>
                <index entries="['single',\ 'get_cloned_file_relatives()\ (HNASSSHBackend\ method)',\ 'cinder.volume.drivers.hitachi.hnas_backend.HNASSSHBackend.get_cloned_file_relatives',\ '',\ None]"></index>
                <desc desctype="method" domain="py" noindex="False" objtype="method">
                    <desc_signature class="HNASSSHBackend" first="False" fullname="HNASSSHBackend.get_cloned_file_relatives" ids="cinder.volume.drivers.hitachi.hnas_backend.HNASSSHBackend.get_cloned_file_relatives" module="cinder.volume.drivers.hitachi.hnas_backend" names="cinder.volume.drivers.hitachi.hnas_backend.HNASSSHBackend.get_cloned_file_relatives"><desc_name xml:space="preserve">get_cloned_file_relatives</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">file_path</desc_parameter><desc_parameter xml:space="preserve">fs_label</desc_parameter><desc_parameter xml:space="preserve">raise_except=False</desc_parameter></desc_parameterlist></desc_signature>
                    <desc_content>
                        <paragraph>Gets the files related to a clone</paragraph>
                        <field_list>
                            <field>
                                <field_name>Parameters</field_name>
                                <field_body>
                                    <bullet_list>
                                        <list_item>
                                            <paragraph><literal_strong refspecific="True">file_path</literal_strong> – path of the cloned file</paragraph>
                                        </list_item>
                                        <list_item>
                                            <paragraph><literal_strong refspecific="True">fs_label</literal_strong> – filesystem of the cloned file</paragraph>
                                        </list_item>
                                        <list_item>
                                            <paragraph><literal_strong refspecific="True">raise_except</literal_strong> – If True exception will be raised for files that
                                                aren’t clones. If False, only an error message
                                                is logged.</paragraph>
                                        </list_item>
                                    </bullet_list>
                                </field_body>
                            </field>
                            <field>
                                <field_name>Returns</field_name>
                                <field_body>
                                    <paragraph>list with names of the related files</paragraph>
                                </field_body>
                            </field>
                        </field_list>
                    </desc_content>
                </desc>
                <index entries="['single',\ 'get_evs()\ (HNASSSHBackend\ method)',\ 'cinder.volume.drivers.hitachi.hnas_backend.HNASSSHBackend.get_evs',\ '',\ None]"></index>
                <desc desctype="method" domain="py" noindex="False" objtype="method">
                    <desc_signature class="HNASSSHBackend" first="False" fullname="HNASSSHBackend.get_evs" ids="cinder.volume.drivers.hitachi.hnas_backend.HNASSSHBackend.get_evs" module="cinder.volume.drivers.hitachi.hnas_backend" names="cinder.volume.drivers.hitachi.hnas_backend.HNASSSHBackend.get_evs"><desc_name xml:space="preserve">get_evs</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">fs_label</desc_parameter></desc_parameterlist></desc_signature>
                    <desc_content>
                        <paragraph>Gets the EVS ID for the named filesystem.</paragraph>
                        <field_list>
                            <field>
                                <field_name>Parameters</field_name>
                                <field_body>
                                    <paragraph><literal_strong refspecific="True">fs_label</literal_strong> – The filesystem label related to the EVS required</paragraph>
                                </field_body>
                            </field>
                            <field>
                                <field_name>Returns</field_name>
                                <field_body>
                                    <paragraph>EVS ID of the filesystem</paragraph>
                                </field_body>
                            </field>
                        </field_list>
                    </desc_content>
                </desc>
                <index entries="['single',\ 'get_evs_info()\ (HNASSSHBackend\ method)',\ 'cinder.volume.drivers.hitachi.hnas_backend.HNASSSHBackend.get_evs_info',\ '',\ None]"></index>
                <desc desctype="method" domain="py" noindex="False" objtype="method">
                    <desc_signature class="HNASSSHBackend" first="False" fullname="HNASSSHBackend.get_evs_info" ids="cinder.volume.drivers.hitachi.hnas_backend.HNASSSHBackend.get_evs_info" module="cinder.volume.drivers.hitachi.hnas_backend" names="cinder.volume.drivers.hitachi.hnas_backend.HNASSSHBackend.get_evs_info"><desc_name xml:space="preserve">get_evs_info</desc_name><desc_parameterlist xml:space="preserve"></desc_parameterlist></desc_signature>
                    <desc_content>
                        <paragraph>Gets the IP addresses of all EVSs in HNAS.</paragraph>
                        <field_list>
                            <field>
                                <field_name>Returns</field_name>
                                <field_body>
                                    <paragraph>dictionary with EVS information</paragraph>
                                </field_body>
                            </field>
                        </field_list>
                        <literal_block classes="code python" xml:space="preserve"><inline classes="name">evs_info</inline><inline classes="operator">=</inline><inline classes="punctuation">{</inline>
    <inline classes="operator">&lt;</inline><inline classes="name">IP1</inline><inline classes="operator">&gt;</inline><inline classes="punctuation">:</inline> <inline classes="punctuation">{</inline><inline classes="name">evs_number</inline><inline classes="punctuation">:</inline> <inline classes="name">number</inline> <inline classes="name">identifying</inline> <inline classes="name">the</inline> <inline classes="name">EVS1</inline> <inline classes="name">on</inline> <inline classes="name">HNAS</inline><inline classes="punctuation">},</inline>
    <inline classes="operator">&lt;</inline><inline classes="name">IP2</inline><inline classes="operator">&gt;</inline><inline classes="punctuation">:</inline> <inline classes="punctuation">{</inline><inline classes="name">evs_number</inline><inline classes="punctuation">:</inline> <inline classes="name">number</inline> <inline classes="name">identifying</inline> <inline classes="name">the</inline> <inline classes="name">EVS2</inline> <inline classes="name">on</inline> <inline classes="name">HNAS</inline><inline classes="punctuation">},</inline>
    <inline classes="operator">...</inline>
<inline classes="punctuation">}</inline></literal_block>
                    </desc_content>
                </desc>
                <index entries="['single',\ 'get_export_list()\ (HNASSSHBackend\ method)',\ 'cinder.volume.drivers.hitachi.hnas_backend.HNASSSHBackend.get_export_list',\ '',\ None]"></index>
                <desc desctype="method" domain="py" noindex="False" objtype="method">
                    <desc_signature class="HNASSSHBackend" first="False" fullname="HNASSSHBackend.get_export_list" ids="cinder.volume.drivers.hitachi.hnas_backend.HNASSSHBackend.get_export_list" module="cinder.volume.drivers.hitachi.hnas_backend" names="cinder.volume.drivers.hitachi.hnas_backend.HNASSSHBackend.get_export_list"><desc_name xml:space="preserve">get_export_list</desc_name><desc_parameterlist xml:space="preserve"></desc_parameterlist></desc_signature>
                    <desc_content>
                        <paragraph>Gets information on each NFS export.</paragraph>
                        <field_list>
                            <field>
                                <field_name>Returns</field_name>
                                <field_body>
                                    <paragraph>a list of the exports configured on HNAS</paragraph>
                                </field_body>
                            </field>
                        </field_list>
                    </desc_content>
                </desc>
                <index entries="['single',\ 'get_export_path()\ (HNASSSHBackend\ method)',\ 'cinder.volume.drivers.hitachi.hnas_backend.HNASSSHBackend.get_export_path',\ '',\ None]"></index>
                <desc desctype="method" domain="py" noindex="False" objtype="method">
                    <desc_signature class="HNASSSHBackend" first="False" fullname="HNASSSHBackend.get_export_path" ids="cinder.volume.drivers.hitachi.hnas_backend.HNASSSHBackend.get_export_path" module="cinder.volume.drivers.hitachi.hnas_backend" names="cinder.volume.drivers.hitachi.hnas_backend.HNASSSHBackend.get_export_path"><desc_name xml:space="preserve">get_export_path</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">export</desc_parameter><desc_parameter xml:space="preserve">fs_label</desc_parameter></desc_parameterlist></desc_signature>
                    <desc_content>
                        <paragraph>Gets the path of an export on HNAS</paragraph>
                        <field_list>
                            <field>
                                <field_name>Parameters</field_name>
                                <field_body>
                                    <bullet_list>
                                        <list_item>
                                            <paragraph><literal_strong refspecific="True">export</literal_strong> – the export’s name</paragraph>
                                        </list_item>
                                        <list_item>
                                            <paragraph><literal_strong refspecific="True">fs_label</literal_strong> – the filesystem name</paragraph>
                                        </list_item>
                                    </bullet_list>
                                </field_body>
                            </field>
                            <field>
                                <field_name>Returns</field_name>
                                <field_body>
                                    <paragraph>string of the export’s path</paragraph>
                                </field_body>
                            </field>
                        </field_list>
                    </desc_content>
                </desc>
                <index entries="['single',\ 'get_fs_info()\ (HNASSSHBackend\ method)',\ 'cinder.volume.drivers.hitachi.hnas_backend.HNASSSHBackend.get_fs_info',\ '',\ None]"></index>
                <desc desctype="method" domain="py" noindex="False" objtype="method">
                    <desc_signature class="HNASSSHBackend" first="False" fullname="HNASSSHBackend.get_fs_info" ids="cinder.volume.drivers.hitachi.hnas_backend.HNASSSHBackend.get_fs_info" module="cinder.volume.drivers.hitachi.hnas_backend" names="cinder.volume.drivers.hitachi.hnas_backend.HNASSSHBackend.get_fs_info"><desc_name xml:space="preserve">get_fs_info</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">fs_label</desc_parameter></desc_parameterlist></desc_signature>
                    <desc_content>
                        <paragraph>Gets the information of a given FS.</paragraph>
                        <field_list>
                            <field>
                                <field_name>Parameters</field_name>
                                <field_body>
                                    <paragraph><literal_strong refspecific="True">fs_label</literal_strong> – Label of the filesystem</paragraph>
                                </field_body>
                            </field>
                            <field>
                                <field_name>Returns</field_name>
                                <field_body>
                                    <paragraph>dictionary with FS information</paragraph>
                                </field_body>
                            </field>
                        </field_list>
                        <literal_block classes="code python" xml:space="preserve"><inline classes="name">fs_info</inline><inline classes="operator">=</inline><inline classes="punctuation">{</inline>
    <inline classes="literal string single">'id'</inline><inline classes="punctuation">:</inline> <inline classes="name">a</inline> <inline classes="name">Logical</inline> <inline classes="name">Unit</inline> <inline classes="name">ID</inline><inline classes="punctuation">,</inline>
    <inline classes="literal string single">'label'</inline><inline classes="punctuation">:</inline> <inline classes="name">a</inline> <inline classes="name">Logical</inline> <inline classes="name">Unit</inline> <inline classes="name">name</inline><inline classes="punctuation">,</inline>
    <inline classes="literal string single">'evs_id'</inline><inline classes="punctuation">:</inline> <inline classes="name">the</inline> <inline classes="name">ID</inline> <inline classes="name">of</inline> <inline classes="name">the</inline> <inline classes="name">EVS</inline> <inline classes="operator word">in</inline> <inline classes="name">which</inline> <inline classes="name">the</inline> <inline classes="name">filesystem</inline> <inline classes="operator word">is</inline> <inline classes="name">created</inline>
    <inline classes="punctuation">(</inline><inline classes="operator word">not</inline> <inline classes="name">present</inline> <inline classes="keyword">if</inline> <inline classes="name">there</inline> <inline classes="operator word">is</inline> <inline classes="name">a</inline> <inline classes="name">single</inline> <inline classes="name">EVS</inline><inline classes="punctuation">),</inline>
    <inline classes="literal string single">'total_size'</inline><inline classes="punctuation">:</inline> <inline classes="name">the</inline> <inline classes="name">total</inline> <inline classes="name">size</inline> <inline classes="name">of</inline> <inline classes="name">the</inline> <inline classes="name">FS</inline> <inline classes="punctuation">(</inline><inline classes="operator word">in</inline> <inline classes="name">GB</inline><inline classes="punctuation">),</inline>
    <inline classes="literal string single">'used_size'</inline><inline classes="punctuation">:</inline> <inline classes="name">the</inline> <inline classes="name">size</inline> <inline classes="name">that</inline> <inline classes="operator word">is</inline> <inline classes="name">already</inline> <inline classes="name">used</inline> <inline classes="punctuation">(</inline><inline classes="operator word">in</inline> <inline classes="name">GB</inline><inline classes="punctuation">),</inline>
    <inline classes="literal string single">'available_size'</inline><inline classes="punctuation">:</inline> <inline classes="name">the</inline> <inline classes="name">free</inline> <inline classes="name">space</inline> <inline classes="punctuation">(</inline><inline classes="operator word">in</inline> <inline classes="name">GB</inline><inline classes="punctuation">)</inline>
  <inline classes="punctuation">}</inline></literal_block>
                    </desc_content>
                </desc>
                <index entries="['single',\ 'get_version()\ (HNASSSHBackend\ method)',\ 'cinder.volume.drivers.hitachi.hnas_backend.HNASSSHBackend.get_version',\ '',\ None]"></index>
                <desc desctype="method" domain="py" noindex="False" objtype="method">
                    <desc_signature class="HNASSSHBackend" first="False" fullname="HNASSSHBackend.get_version" ids="cinder.volume.drivers.hitachi.hnas_backend.HNASSSHBackend.get_version" module="cinder.volume.drivers.hitachi.hnas_backend" names="cinder.volume.drivers.hitachi.hnas_backend.HNASSSHBackend.get_version"><desc_name xml:space="preserve">get_version</desc_name><desc_parameterlist xml:space="preserve"></desc_parameterlist></desc_signature>
                    <desc_content>
                        <paragraph>Gets version information from the storage unit.</paragraph>
                        <field_list>
                            <field>
                                <field_name>Returns</field_name>
                                <field_body>
                                    <paragraph>dictionary with HNAS information</paragraph>
                                </field_body>
                            </field>
                        </field_list>
                        <literal_block classes="code python" xml:space="preserve"><inline classes="name">storage_version</inline><inline classes="operator">=</inline><inline classes="punctuation">{</inline>
    <inline classes="literal string single">'mac'</inline><inline classes="punctuation">:</inline> <inline classes="name">HNAS</inline> <inline classes="name">MAC</inline> <inline classes="name">ID</inline><inline classes="punctuation">,</inline>
    <inline classes="literal string single">'model'</inline><inline classes="punctuation">:</inline> <inline classes="name">HNAS</inline> <inline classes="name">model</inline><inline classes="punctuation">,</inline>
    <inline classes="literal string single">'version'</inline><inline classes="punctuation">:</inline> <inline classes="name">the</inline> <inline classes="name">software</inline> <inline classes="name">version</inline><inline classes="punctuation">,</inline>
    <inline classes="literal string single">'hardware'</inline><inline classes="punctuation">:</inline> <inline classes="name">the</inline> <inline classes="name">hardware</inline> <inline classes="name">version</inline><inline classes="punctuation">,</inline>
    <inline classes="literal string single">'serial'</inline><inline classes="punctuation">:</inline> <inline classes="name">HNAS</inline> <inline classes="name">serial</inline> <inline classes="name">number</inline>
<inline classes="punctuation">}</inline></literal_block>
                    </desc_content>
                </desc>
            </desc_content>
        </desc>
    </section>
</document>
