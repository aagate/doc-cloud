<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.13.1 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/cinder/doc/source/contributor/api/cinder.scheduler.manager.rst">
    <section ids="module-cinder.scheduler.manager the-cinder-scheduler-manager-module" names="the\ cinder.scheduler.manager\ module">
        <title>The <reference internal="True" refid="module-cinder.scheduler.manager" reftitle="cinder.scheduler.manager"><literal classes="xref py py-mod">cinder.scheduler.manager</literal></reference> Module</title>
        <index entries="['single',\ 'cinder.scheduler.manager\ (module)',\ 'module-cinder.scheduler.manager',\ '',\ None]"></index>
        <paragraph>Scheduler Service</paragraph>
        <index entries="['single',\ 'SchedulerManager\ (class\ in\ cinder.scheduler.manager)',\ 'cinder.scheduler.manager.SchedulerManager',\ '',\ None]"></index>
        <desc desctype="class" domain="py" noindex="False" objtype="class">
            <desc_signature class="" first="False" fullname="SchedulerManager" ids="cinder.scheduler.manager.SchedulerManager" module="cinder.scheduler.manager" names="cinder.scheduler.manager.SchedulerManager"><desc_annotation xml:space="preserve">class </desc_annotation><desc_name xml:space="preserve">SchedulerManager</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">scheduler_driver=None</desc_parameter><desc_parameter xml:space="preserve">service_name=None</desc_parameter><desc_parameter xml:space="preserve">*args</desc_parameter><desc_parameter xml:space="preserve">**kwargs</desc_parameter></desc_parameterlist></desc_signature>
            <desc_content>
                <paragraph>Bases: <reference internal="True" reftitle="cinder.manager.CleanableManager" refuri="cinder.manager#cinder.manager.CleanableManager"><literal classes="xref py py-class">cinder.manager.CleanableManager</literal></reference>, <reference internal="True" reftitle="cinder.manager.Manager" refuri="cinder.manager#cinder.manager.Manager"><literal classes="xref py py-class">cinder.manager.Manager</literal></reference></paragraph>
                <paragraph>Chooses a host to create volumes.</paragraph>
                <index entries="['single',\ 'RPC_API_VERSION\ (SchedulerManager\ attribute)',\ 'cinder.scheduler.manager.SchedulerManager.RPC_API_VERSION',\ '',\ None]"></index>
                <desc desctype="attribute" domain="py" noindex="False" objtype="attribute">
                    <desc_signature class="SchedulerManager" first="False" fullname="SchedulerManager.RPC_API_VERSION" ids="cinder.scheduler.manager.SchedulerManager.RPC_API_VERSION" module="cinder.scheduler.manager" names="cinder.scheduler.manager.SchedulerManager.RPC_API_VERSION"><desc_name xml:space="preserve">RPC_API_VERSION</desc_name><desc_annotation xml:space="preserve"> = '3.7'</desc_annotation></desc_signature>
                    <desc_content>
                    </desc_content>
                </desc>
                <index entries="['single',\ 'create_group()\ (SchedulerManager\ method)',\ 'cinder.scheduler.manager.SchedulerManager.create_group',\ '',\ None]"></index>
                <desc desctype="method" domain="py" noindex="False" objtype="method">
                    <desc_signature class="SchedulerManager" first="False" fullname="SchedulerManager.create_group" ids="cinder.scheduler.manager.SchedulerManager.create_group" module="cinder.scheduler.manager" names="cinder.scheduler.manager.SchedulerManager.create_group"><desc_name xml:space="preserve">create_group</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">group</desc_parameter><desc_parameter xml:space="preserve">group_spec=None</desc_parameter><desc_parameter xml:space="preserve">group_filter_properties=None</desc_parameter><desc_parameter xml:space="preserve">request_spec_list=None</desc_parameter><desc_parameter xml:space="preserve">filter_properties_list=None</desc_parameter></desc_parameterlist></desc_signature>
                    <desc_content>
                    </desc_content>
                </desc>
                <index entries="['single',\ 'create_volume()\ (SchedulerManager\ method)',\ 'cinder.scheduler.manager.SchedulerManager.create_volume',\ '',\ None]"></index>
                <desc desctype="method" domain="py" noindex="False" objtype="method">
                    <desc_signature class="SchedulerManager" first="False" fullname="SchedulerManager.create_volume" ids="cinder.scheduler.manager.SchedulerManager.create_volume" module="cinder.scheduler.manager" names="cinder.scheduler.manager.SchedulerManager.create_volume"><desc_name xml:space="preserve">create_volume</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">volume</desc_parameter><desc_parameter xml:space="preserve">snapshot_id=None</desc_parameter><desc_parameter xml:space="preserve">image_id=None</desc_parameter><desc_parameter xml:space="preserve">request_spec=None</desc_parameter><desc_parameter xml:space="preserve">filter_properties=None</desc_parameter></desc_parameterlist></desc_signature>
                    <desc_content>
                    </desc_content>
                </desc>
                <index entries="['single',\ 'extend_volume()\ (SchedulerManager\ method)',\ 'cinder.scheduler.manager.SchedulerManager.extend_volume',\ '',\ None]"></index>
                <desc desctype="method" domain="py" noindex="False" objtype="method">
                    <desc_signature class="SchedulerManager" first="False" fullname="SchedulerManager.extend_volume" ids="cinder.scheduler.manager.SchedulerManager.extend_volume" module="cinder.scheduler.manager" names="cinder.scheduler.manager.SchedulerManager.extend_volume"><desc_name xml:space="preserve">extend_volume</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">volume</desc_parameter><desc_parameter xml:space="preserve">new_size</desc_parameter><desc_parameter xml:space="preserve">reservations</desc_parameter><desc_parameter xml:space="preserve">request_spec=None</desc_parameter><desc_parameter xml:space="preserve">filter_properties=None</desc_parameter></desc_parameterlist></desc_signature>
                    <desc_content>
                    </desc_content>
                </desc>
                <index entries="['single',\ 'get_pools()\ (SchedulerManager\ method)',\ 'cinder.scheduler.manager.SchedulerManager.get_pools',\ '',\ None]"></index>
                <desc desctype="method" domain="py" noindex="False" objtype="method">
                    <desc_signature class="SchedulerManager" first="False" fullname="SchedulerManager.get_pools" ids="cinder.scheduler.manager.SchedulerManager.get_pools" module="cinder.scheduler.manager" names="cinder.scheduler.manager.SchedulerManager.get_pools"><desc_name xml:space="preserve">get_pools</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">filters=None</desc_parameter></desc_parameterlist></desc_signature>
                    <desc_content>
                        <paragraph>Get active pools from scheduler’s cache.</paragraph>
                        <paragraph>NOTE(dulek): There’s no self._wait_for_scheduler() because get_pools is
                            an RPC call (is blocking for the c-api). Also this is admin-only API
                            extension so it won’t hurt the user much to retry the request manually.</paragraph>
                    </desc_content>
                </desc>
                <index entries="['single',\ 'init_host_with_rpc()\ (SchedulerManager\ method)',\ 'cinder.scheduler.manager.SchedulerManager.init_host_with_rpc',\ '',\ None]"></index>
                <desc desctype="method" domain="py" noindex="False" objtype="method">
                    <desc_signature class="SchedulerManager" first="False" fullname="SchedulerManager.init_host_with_rpc" ids="cinder.scheduler.manager.SchedulerManager.init_host_with_rpc" module="cinder.scheduler.manager" names="cinder.scheduler.manager.SchedulerManager.init_host_with_rpc"><desc_name xml:space="preserve">init_host_with_rpc</desc_name><desc_parameterlist xml:space="preserve"></desc_parameterlist></desc_signature>
                    <desc_content>
                    </desc_content>
                </desc>
                <index entries="['single',\ 'manage_existing()\ (SchedulerManager\ method)',\ 'cinder.scheduler.manager.SchedulerManager.manage_existing',\ '',\ None]"></index>
                <desc desctype="method" domain="py" noindex="False" objtype="method">
                    <desc_signature class="SchedulerManager" first="False" fullname="SchedulerManager.manage_existing" ids="cinder.scheduler.manager.SchedulerManager.manage_existing" module="cinder.scheduler.manager" names="cinder.scheduler.manager.SchedulerManager.manage_existing"><desc_name xml:space="preserve">manage_existing</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">volume</desc_parameter><desc_parameter xml:space="preserve">request_spec</desc_parameter><desc_parameter xml:space="preserve">filter_properties=None</desc_parameter></desc_parameterlist></desc_signature>
                    <desc_content>
                        <paragraph>Ensure that the host exists and can accept the volume.</paragraph>
                    </desc_content>
                </desc>
                <index entries="['single',\ 'migrate_volume()\ (SchedulerManager\ method)',\ 'cinder.scheduler.manager.SchedulerManager.migrate_volume',\ '',\ None]"></index>
                <desc desctype="method" domain="py" noindex="False" objtype="method">
                    <desc_signature class="SchedulerManager" first="False" fullname="SchedulerManager.migrate_volume" ids="cinder.scheduler.manager.SchedulerManager.migrate_volume" module="cinder.scheduler.manager" names="cinder.scheduler.manager.SchedulerManager.migrate_volume"><desc_name xml:space="preserve">migrate_volume</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">volume</desc_parameter><desc_parameter xml:space="preserve">backend</desc_parameter><desc_parameter xml:space="preserve">force_copy</desc_parameter><desc_parameter xml:space="preserve">request_spec</desc_parameter><desc_parameter xml:space="preserve">filter_properties</desc_parameter></desc_parameterlist></desc_signature>
                    <desc_content>
                        <paragraph>Ensure that the backend exists and can accept the volume.</paragraph>
                    </desc_content>
                </desc>
                <index entries="['single',\ 'migrate_volume_to_host()\ (SchedulerManager\ method)',\ 'cinder.scheduler.manager.SchedulerManager.migrate_volume_to_host',\ '',\ None]"></index>
                <desc desctype="method" domain="py" noindex="False" objtype="method">
                    <desc_signature class="SchedulerManager" first="False" fullname="SchedulerManager.migrate_volume_to_host" ids="cinder.scheduler.manager.SchedulerManager.migrate_volume_to_host" module="cinder.scheduler.manager" names="cinder.scheduler.manager.SchedulerManager.migrate_volume_to_host"><desc_name xml:space="preserve">migrate_volume_to_host</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">volume</desc_parameter><desc_parameter xml:space="preserve">host</desc_parameter><desc_parameter xml:space="preserve">force_host_copy</desc_parameter><desc_parameter xml:space="preserve">request_spec</desc_parameter><desc_parameter xml:space="preserve">filter_properties=None</desc_parameter></desc_parameterlist></desc_signature>
                    <desc_content>
                    </desc_content>
                </desc>
                <index entries="['single',\ 'notify_service_capabilities()\ (SchedulerManager\ method)',\ 'cinder.scheduler.manager.SchedulerManager.notify_service_capabilities',\ '',\ None]"></index>
                <desc desctype="method" domain="py" noindex="False" objtype="method">
                    <desc_signature class="SchedulerManager" first="False" fullname="SchedulerManager.notify_service_capabilities" ids="cinder.scheduler.manager.SchedulerManager.notify_service_capabilities" module="cinder.scheduler.manager" names="cinder.scheduler.manager.SchedulerManager.notify_service_capabilities"><desc_name xml:space="preserve">notify_service_capabilities</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">service_name</desc_parameter><desc_parameter xml:space="preserve">capabilities</desc_parameter><desc_parameter xml:space="preserve">host=None</desc_parameter><desc_parameter xml:space="preserve">backend=None</desc_parameter><desc_parameter xml:space="preserve">timestamp=None</desc_parameter></desc_parameterlist></desc_signature>
                    <desc_content>
                        <paragraph>Process a capability update from a service node.</paragraph>
                    </desc_content>
                </desc>
                <index entries="['single',\ 'request_service_capabilities()\ (SchedulerManager\ method)',\ 'cinder.scheduler.manager.SchedulerManager.request_service_capabilities',\ '',\ None]"></index>
                <desc desctype="method" domain="py" noindex="False" objtype="method">
                    <desc_signature class="SchedulerManager" first="False" fullname="SchedulerManager.request_service_capabilities" ids="cinder.scheduler.manager.SchedulerManager.request_service_capabilities" module="cinder.scheduler.manager" names="cinder.scheduler.manager.SchedulerManager.request_service_capabilities"><desc_name xml:space="preserve">request_service_capabilities</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter></desc_parameterlist></desc_signature>
                    <desc_content>
                    </desc_content>
                </desc>
                <index entries="['single',\ 'reset()\ (SchedulerManager\ method)',\ 'cinder.scheduler.manager.SchedulerManager.reset',\ '',\ None]"></index>
                <desc desctype="method" domain="py" noindex="False" objtype="method">
                    <desc_signature class="SchedulerManager" first="False" fullname="SchedulerManager.reset" ids="cinder.scheduler.manager.SchedulerManager.reset" module="cinder.scheduler.manager" names="cinder.scheduler.manager.SchedulerManager.reset"><desc_name xml:space="preserve">reset</desc_name><desc_parameterlist xml:space="preserve"></desc_parameterlist></desc_signature>
                    <desc_content>
                    </desc_content>
                </desc>
                <index entries="['single',\ 'retype()\ (SchedulerManager\ method)',\ 'cinder.scheduler.manager.SchedulerManager.retype',\ '',\ None]"></index>
                <desc desctype="method" domain="py" noindex="False" objtype="method">
                    <desc_signature class="SchedulerManager" first="False" fullname="SchedulerManager.retype" ids="cinder.scheduler.manager.SchedulerManager.retype" module="cinder.scheduler.manager" names="cinder.scheduler.manager.SchedulerManager.retype"><desc_name xml:space="preserve">retype</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">volume</desc_parameter><desc_parameter xml:space="preserve">request_spec</desc_parameter><desc_parameter xml:space="preserve">filter_properties=None</desc_parameter></desc_parameterlist></desc_signature>
                    <desc_content>
                        <paragraph>Schedule the modification of a volume’s type.</paragraph>
                        <field_list>
                            <field>
                                <field_name>Parameters</field_name>
                                <field_body>
                                    <bullet_list>
                                        <list_item>
                                            <paragraph><literal_strong refspecific="True">context</literal_strong> – the request context</paragraph>
                                        </list_item>
                                        <list_item>
                                            <paragraph><literal_strong refspecific="True">volume</literal_strong> – the volume object to retype</paragraph>
                                        </list_item>
                                        <list_item>
                                            <paragraph><literal_strong refspecific="True">request_spec</literal_strong> – parameters for this retype request</paragraph>
                                        </list_item>
                                        <list_item>
                                            <paragraph><literal_strong refspecific="True">filter_properties</literal_strong> – parameters to filter by</paragraph>
                                        </list_item>
                                    </bullet_list>
                                </field_body>
                            </field>
                        </field_list>
                    </desc_content>
                </desc>
                <index entries="['single',\ 'target\ (SchedulerManager\ attribute)',\ 'cinder.scheduler.manager.SchedulerManager.target',\ '',\ None]"></index>
                <desc desctype="attribute" domain="py" noindex="False" objtype="attribute">
                    <desc_signature class="SchedulerManager" first="False" fullname="SchedulerManager.target" ids="cinder.scheduler.manager.SchedulerManager.target" module="cinder.scheduler.manager" names="cinder.scheduler.manager.SchedulerManager.target"><desc_name xml:space="preserve">target</desc_name><desc_annotation xml:space="preserve"> = &lt;Target version=3.7&gt;</desc_annotation></desc_signature>
                    <desc_content>
                    </desc_content>
                </desc>
                <index entries="['single',\ 'update_service_capabilities()\ (SchedulerManager\ method)',\ 'cinder.scheduler.manager.SchedulerManager.update_service_capabilities',\ '',\ None]"></index>
                <desc desctype="method" domain="py" noindex="False" objtype="method">
                    <desc_signature class="SchedulerManager" first="False" fullname="SchedulerManager.update_service_capabilities" ids="cinder.scheduler.manager.SchedulerManager.update_service_capabilities" module="cinder.scheduler.manager" names="cinder.scheduler.manager.SchedulerManager.update_service_capabilities"><desc_name xml:space="preserve">update_service_capabilities</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">service_name=None</desc_parameter><desc_parameter xml:space="preserve">host=None</desc_parameter><desc_parameter xml:space="preserve">capabilities=None</desc_parameter><desc_parameter xml:space="preserve">cluster_name=None</desc_parameter><desc_parameter xml:space="preserve">timestamp=None</desc_parameter><desc_parameter xml:space="preserve">**kwargs</desc_parameter></desc_parameterlist></desc_signature>
                    <desc_content>
                        <paragraph>Process a capability update from a service node.</paragraph>
                    </desc_content>
                </desc>
                <index entries="['single',\ 'upgrading_cloud\ (SchedulerManager\ attribute)',\ 'cinder.scheduler.manager.SchedulerManager.upgrading_cloud',\ '',\ None]"></index>
                <desc desctype="attribute" domain="py" noindex="False" objtype="attribute">
                    <desc_signature class="SchedulerManager" first="False" fullname="SchedulerManager.upgrading_cloud" ids="cinder.scheduler.manager.SchedulerManager.upgrading_cloud" module="cinder.scheduler.manager" names="cinder.scheduler.manager.SchedulerManager.upgrading_cloud"><desc_name xml:space="preserve">upgrading_cloud</desc_name></desc_signature>
                    <desc_content>
                    </desc_content>
                </desc>
                <index entries="['single',\ 'work_cleanup()\ (SchedulerManager\ method)',\ 'cinder.scheduler.manager.SchedulerManager.work_cleanup',\ '',\ None]"></index>
                <desc desctype="method" domain="py" noindex="False" objtype="method">
                    <desc_signature class="SchedulerManager" first="False" fullname="SchedulerManager.work_cleanup" ids="cinder.scheduler.manager.SchedulerManager.work_cleanup" module="cinder.scheduler.manager" names="cinder.scheduler.manager.SchedulerManager.work_cleanup"><desc_name xml:space="preserve">work_cleanup</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">cleanup_request</desc_parameter></desc_parameterlist></desc_signature>
                    <desc_content>
                        <paragraph>Process request from API to do cleanup on services.</paragraph>
                        <paragraph>Here we retrieve from the DB which services we want to clean up based
                            on the request from the user.</paragraph>
                        <paragraph>Then send individual cleanup requests to each of the services that are
                            up, and we finally return a tuple with services that we have sent a
                            cleanup request and those that were not up and we couldn’t send it.</paragraph>
                    </desc_content>
                </desc>
            </desc_content>
        </desc>
    </section>
</document>
