<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.13.1 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/cinder/doc/source/contributor/scheduler.rst">
    <comment xml:space="preserve">Copyright 2010-2011 United States Government as represented by the
Administrator of the National Aeronautics and Space Administration.
All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License"); you may
not use this file except in compliance with the License. You may obtain
a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
License for the specific language governing permissions and limitations
under the License.</comment>
    <section ids="scheduler" names="scheduler">
        <title>Scheduler</title>
        <section ids="the-cinder-scheduler-manager-module" names="the\ cinder.scheduler.manager\ module">
            <title>The <reference internal="True" reftitle="cinder.scheduler.manager" refuri="api/cinder.scheduler.manager#module-cinder.scheduler.manager"><literal classes="xref py py-mod">cinder.scheduler.manager</literal></reference> Module</title>
            <paragraph>Scheduler Service</paragraph>
            <index entries=""></index>
            <desc desctype="class" domain="py" noindex="True" objtype="class">
                <desc_signature class="" first="False" fullname="SchedulerManager" module="cinder.scheduler.manager"><desc_annotation xml:space="preserve">class </desc_annotation><desc_name xml:space="preserve">SchedulerManager</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">scheduler_driver=None</desc_parameter><desc_parameter xml:space="preserve">service_name=None</desc_parameter><desc_parameter xml:space="preserve">*args</desc_parameter><desc_parameter xml:space="preserve">**kwargs</desc_parameter></desc_parameterlist></desc_signature>
                <desc_content>
                    <paragraph>Bases: <reference internal="True" reftitle="cinder.manager.CleanableManager" refuri="api/cinder.manager#cinder.manager.CleanableManager"><literal classes="xref py py-class">cinder.manager.CleanableManager</literal></reference>, <reference internal="True" reftitle="cinder.manager.Manager" refuri="api/cinder.manager#cinder.manager.Manager"><literal classes="xref py py-class">cinder.manager.Manager</literal></reference></paragraph>
                    <paragraph>Chooses a host to create volumes.</paragraph>
                    <index entries=""></index>
                    <desc desctype="attribute" domain="py" noindex="True" objtype="attribute">
                        <desc_signature class="SchedulerManager" first="False" fullname="SchedulerManager.RPC_API_VERSION" module="cinder.scheduler.manager"><desc_name xml:space="preserve">RPC_API_VERSION</desc_name><desc_annotation xml:space="preserve"> = '3.7'</desc_annotation></desc_signature>
                        <desc_content>
                        </desc_content>
                    </desc>
                    <index entries=""></index>
                    <desc desctype="method" domain="py" noindex="True" objtype="method">
                        <desc_signature class="SchedulerManager" first="False" fullname="SchedulerManager.create_group" module="cinder.scheduler.manager"><desc_name xml:space="preserve">create_group</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">group</desc_parameter><desc_parameter xml:space="preserve">group_spec=None</desc_parameter><desc_parameter xml:space="preserve">group_filter_properties=None</desc_parameter><desc_parameter xml:space="preserve">request_spec_list=None</desc_parameter><desc_parameter xml:space="preserve">filter_properties_list=None</desc_parameter></desc_parameterlist></desc_signature>
                        <desc_content>
                        </desc_content>
                    </desc>
                    <index entries=""></index>
                    <desc desctype="method" domain="py" noindex="True" objtype="method">
                        <desc_signature class="SchedulerManager" first="False" fullname="SchedulerManager.create_volume" module="cinder.scheduler.manager"><desc_name xml:space="preserve">create_volume</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">volume</desc_parameter><desc_parameter xml:space="preserve">snapshot_id=None</desc_parameter><desc_parameter xml:space="preserve">image_id=None</desc_parameter><desc_parameter xml:space="preserve">request_spec=None</desc_parameter><desc_parameter xml:space="preserve">filter_properties=None</desc_parameter></desc_parameterlist></desc_signature>
                        <desc_content>
                        </desc_content>
                    </desc>
                    <index entries=""></index>
                    <desc desctype="method" domain="py" noindex="True" objtype="method">
                        <desc_signature class="SchedulerManager" first="False" fullname="SchedulerManager.extend_volume" module="cinder.scheduler.manager"><desc_name xml:space="preserve">extend_volume</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">volume</desc_parameter><desc_parameter xml:space="preserve">new_size</desc_parameter><desc_parameter xml:space="preserve">reservations</desc_parameter><desc_parameter xml:space="preserve">request_spec=None</desc_parameter><desc_parameter xml:space="preserve">filter_properties=None</desc_parameter></desc_parameterlist></desc_signature>
                        <desc_content>
                        </desc_content>
                    </desc>
                    <index entries=""></index>
                    <desc desctype="method" domain="py" noindex="True" objtype="method">
                        <desc_signature class="SchedulerManager" first="False" fullname="SchedulerManager.get_pools" module="cinder.scheduler.manager"><desc_name xml:space="preserve">get_pools</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">filters=None</desc_parameter></desc_parameterlist></desc_signature>
                        <desc_content>
                            <paragraph>Get active pools from scheduler’s cache.</paragraph>
                            <paragraph>NOTE(dulek): There’s no self._wait_for_scheduler() because get_pools is
                                an RPC call (is blocking for the c-api). Also this is admin-only API
                                extension so it won’t hurt the user much to retry the request manually.</paragraph>
                        </desc_content>
                    </desc>
                    <index entries=""></index>
                    <desc desctype="method" domain="py" noindex="True" objtype="method">
                        <desc_signature class="SchedulerManager" first="False" fullname="SchedulerManager.init_host_with_rpc" module="cinder.scheduler.manager"><desc_name xml:space="preserve">init_host_with_rpc</desc_name><desc_parameterlist xml:space="preserve"></desc_parameterlist></desc_signature>
                        <desc_content>
                        </desc_content>
                    </desc>
                    <index entries=""></index>
                    <desc desctype="method" domain="py" noindex="True" objtype="method">
                        <desc_signature class="SchedulerManager" first="False" fullname="SchedulerManager.manage_existing" module="cinder.scheduler.manager"><desc_name xml:space="preserve">manage_existing</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">volume</desc_parameter><desc_parameter xml:space="preserve">request_spec</desc_parameter><desc_parameter xml:space="preserve">filter_properties=None</desc_parameter></desc_parameterlist></desc_signature>
                        <desc_content>
                            <paragraph>Ensure that the host exists and can accept the volume.</paragraph>
                        </desc_content>
                    </desc>
                    <index entries=""></index>
                    <desc desctype="method" domain="py" noindex="True" objtype="method">
                        <desc_signature class="SchedulerManager" first="False" fullname="SchedulerManager.migrate_volume" module="cinder.scheduler.manager"><desc_name xml:space="preserve">migrate_volume</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">volume</desc_parameter><desc_parameter xml:space="preserve">backend</desc_parameter><desc_parameter xml:space="preserve">force_copy</desc_parameter><desc_parameter xml:space="preserve">request_spec</desc_parameter><desc_parameter xml:space="preserve">filter_properties</desc_parameter></desc_parameterlist></desc_signature>
                        <desc_content>
                            <paragraph>Ensure that the backend exists and can accept the volume.</paragraph>
                        </desc_content>
                    </desc>
                    <index entries=""></index>
                    <desc desctype="method" domain="py" noindex="True" objtype="method">
                        <desc_signature class="SchedulerManager" first="False" fullname="SchedulerManager.migrate_volume_to_host" module="cinder.scheduler.manager"><desc_name xml:space="preserve">migrate_volume_to_host</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">volume</desc_parameter><desc_parameter xml:space="preserve">host</desc_parameter><desc_parameter xml:space="preserve">force_host_copy</desc_parameter><desc_parameter xml:space="preserve">request_spec</desc_parameter><desc_parameter xml:space="preserve">filter_properties=None</desc_parameter></desc_parameterlist></desc_signature>
                        <desc_content>
                        </desc_content>
                    </desc>
                    <index entries=""></index>
                    <desc desctype="method" domain="py" noindex="True" objtype="method">
                        <desc_signature class="SchedulerManager" first="False" fullname="SchedulerManager.notify_service_capabilities" module="cinder.scheduler.manager"><desc_name xml:space="preserve">notify_service_capabilities</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">service_name</desc_parameter><desc_parameter xml:space="preserve">capabilities</desc_parameter><desc_parameter xml:space="preserve">host=None</desc_parameter><desc_parameter xml:space="preserve">backend=None</desc_parameter><desc_parameter xml:space="preserve">timestamp=None</desc_parameter></desc_parameterlist></desc_signature>
                        <desc_content>
                            <paragraph>Process a capability update from a service node.</paragraph>
                        </desc_content>
                    </desc>
                    <index entries=""></index>
                    <desc desctype="method" domain="py" noindex="True" objtype="method">
                        <desc_signature class="SchedulerManager" first="False" fullname="SchedulerManager.request_service_capabilities" module="cinder.scheduler.manager"><desc_name xml:space="preserve">request_service_capabilities</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter></desc_parameterlist></desc_signature>
                        <desc_content>
                        </desc_content>
                    </desc>
                    <index entries=""></index>
                    <desc desctype="method" domain="py" noindex="True" objtype="method">
                        <desc_signature class="SchedulerManager" first="False" fullname="SchedulerManager.reset" module="cinder.scheduler.manager"><desc_name xml:space="preserve">reset</desc_name><desc_parameterlist xml:space="preserve"></desc_parameterlist></desc_signature>
                        <desc_content>
                        </desc_content>
                    </desc>
                    <index entries=""></index>
                    <desc desctype="method" domain="py" noindex="True" objtype="method">
                        <desc_signature class="SchedulerManager" first="False" fullname="SchedulerManager.retype" module="cinder.scheduler.manager"><desc_name xml:space="preserve">retype</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">volume</desc_parameter><desc_parameter xml:space="preserve">request_spec</desc_parameter><desc_parameter xml:space="preserve">filter_properties=None</desc_parameter></desc_parameterlist></desc_signature>
                        <desc_content>
                            <paragraph>Schedule the modification of a volume’s type.</paragraph>
                            <field_list>
                                <field>
                                    <field_name>Parameters</field_name>
                                    <field_body>
                                        <bullet_list>
                                            <list_item>
                                                <paragraph><literal_strong refspecific="True">context</literal_strong> – the request context</paragraph>
                                            </list_item>
                                            <list_item>
                                                <paragraph><literal_strong refspecific="True">volume</literal_strong> – the volume object to retype</paragraph>
                                            </list_item>
                                            <list_item>
                                                <paragraph><literal_strong refspecific="True">request_spec</literal_strong> – parameters for this retype request</paragraph>
                                            </list_item>
                                            <list_item>
                                                <paragraph><literal_strong refspecific="True">filter_properties</literal_strong> – parameters to filter by</paragraph>
                                            </list_item>
                                        </bullet_list>
                                    </field_body>
                                </field>
                            </field_list>
                        </desc_content>
                    </desc>
                    <index entries=""></index>
                    <desc desctype="attribute" domain="py" noindex="True" objtype="attribute">
                        <desc_signature class="SchedulerManager" first="False" fullname="SchedulerManager.target" module="cinder.scheduler.manager"><desc_name xml:space="preserve">target</desc_name><desc_annotation xml:space="preserve"> = &lt;Target version=3.7&gt;</desc_annotation></desc_signature>
                        <desc_content>
                        </desc_content>
                    </desc>
                    <index entries=""></index>
                    <desc desctype="method" domain="py" noindex="True" objtype="method">
                        <desc_signature class="SchedulerManager" first="False" fullname="SchedulerManager.update_service_capabilities" module="cinder.scheduler.manager"><desc_name xml:space="preserve">update_service_capabilities</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">service_name=None</desc_parameter><desc_parameter xml:space="preserve">host=None</desc_parameter><desc_parameter xml:space="preserve">capabilities=None</desc_parameter><desc_parameter xml:space="preserve">cluster_name=None</desc_parameter><desc_parameter xml:space="preserve">timestamp=None</desc_parameter><desc_parameter xml:space="preserve">**kwargs</desc_parameter></desc_parameterlist></desc_signature>
                        <desc_content>
                            <paragraph>Process a capability update from a service node.</paragraph>
                        </desc_content>
                    </desc>
                    <index entries=""></index>
                    <desc desctype="attribute" domain="py" noindex="True" objtype="attribute">
                        <desc_signature class="SchedulerManager" first="False" fullname="SchedulerManager.upgrading_cloud" module="cinder.scheduler.manager"><desc_name xml:space="preserve">upgrading_cloud</desc_name></desc_signature>
                        <desc_content>
                        </desc_content>
                    </desc>
                    <index entries=""></index>
                    <desc desctype="method" domain="py" noindex="True" objtype="method">
                        <desc_signature class="SchedulerManager" first="False" fullname="SchedulerManager.work_cleanup" module="cinder.scheduler.manager"><desc_name xml:space="preserve">work_cleanup</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">cleanup_request</desc_parameter></desc_parameterlist></desc_signature>
                        <desc_content>
                            <paragraph>Process request from API to do cleanup on services.</paragraph>
                            <paragraph>Here we retrieve from the DB which services we want to clean up based
                                on the request from the user.</paragraph>
                            <paragraph>Then send individual cleanup requests to each of the services that are
                                up, and we finally return a tuple with services that we have sent a
                                cleanup request and those that were not up and we couldn’t send it.</paragraph>
                        </desc_content>
                    </desc>
                </desc_content>
            </desc>
        </section>
        <section ids="the-cinder-scheduler-driver-module" names="the\ cinder.scheduler.driver\ module">
            <title>The <reference internal="True" reftitle="cinder.scheduler.driver" refuri="api/cinder.scheduler.driver#module-cinder.scheduler.driver"><literal classes="xref py py-mod">cinder.scheduler.driver</literal></reference> Module</title>
            <paragraph>Scheduler base class that all Schedulers should inherit from</paragraph>
            <index entries=""></index>
            <desc desctype="class" domain="py" noindex="True" objtype="class">
                <desc_signature class="" first="False" fullname="Scheduler" module="cinder.scheduler.driver"><desc_annotation xml:space="preserve">class </desc_annotation><desc_name xml:space="preserve">Scheduler</desc_name></desc_signature>
                <desc_content>
                    <paragraph>Bases: <literal classes="xref py py-class">object</literal></paragraph>
                    <paragraph>The base class that all Scheduler classes should inherit from.</paragraph>
                    <index entries=""></index>
                    <desc desctype="method" domain="py" noindex="True" objtype="method">
                        <desc_signature class="Scheduler" first="False" fullname="Scheduler.backend_passes_filters" module="cinder.scheduler.driver"><desc_name xml:space="preserve">backend_passes_filters</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">backend</desc_parameter><desc_parameter xml:space="preserve">request_spec</desc_parameter><desc_parameter xml:space="preserve">filter_properties</desc_parameter></desc_parameterlist></desc_signature>
                        <desc_content>
                            <paragraph>Check if the specified backend passes the filters.</paragraph>
                        </desc_content>
                    </desc>
                    <index entries=""></index>
                    <desc desctype="method" domain="py" noindex="True" objtype="method">
                        <desc_signature class="Scheduler" first="False" fullname="Scheduler.find_retype_backend" module="cinder.scheduler.driver"><desc_name xml:space="preserve">find_retype_backend</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">request_spec</desc_parameter><desc_parameter xml:space="preserve">filter_properties=None</desc_parameter><desc_parameter xml:space="preserve">migration_policy='never'</desc_parameter></desc_parameterlist></desc_signature>
                        <desc_content>
                            <paragraph>Find a backend that can accept the volume with its new type.</paragraph>
                        </desc_content>
                    </desc>
                    <index entries=""></index>
                    <desc desctype="method" domain="py" noindex="True" objtype="method">
                        <desc_signature class="Scheduler" first="False" fullname="Scheduler.find_retype_host" module="cinder.scheduler.driver"><desc_name xml:space="preserve">find_retype_host</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">request_spec</desc_parameter><desc_parameter xml:space="preserve">filter_properties=None</desc_parameter><desc_parameter xml:space="preserve">migration_policy='never'</desc_parameter></desc_parameterlist></desc_signature>
                        <desc_content>
                            <paragraph>Find a backend that can accept the volume with its new type.</paragraph>
                        </desc_content>
                    </desc>
                    <index entries=""></index>
                    <desc desctype="method" domain="py" noindex="True" objtype="method">
                        <desc_signature class="Scheduler" first="False" fullname="Scheduler.get_pools" module="cinder.scheduler.driver"><desc_name xml:space="preserve">get_pools</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">filters</desc_parameter></desc_parameterlist></desc_signature>
                        <desc_content>
                            <paragraph>Must override schedule method for scheduler to work.</paragraph>
                        </desc_content>
                    </desc>
                    <index entries=""></index>
                    <desc desctype="method" domain="py" noindex="True" objtype="method">
                        <desc_signature class="Scheduler" first="False" fullname="Scheduler.host_passes_filters" module="cinder.scheduler.driver"><desc_name xml:space="preserve">host_passes_filters</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">backend</desc_parameter><desc_parameter xml:space="preserve">request_spec</desc_parameter><desc_parameter xml:space="preserve">filter_properties</desc_parameter></desc_parameterlist></desc_signature>
                        <desc_content>
                            <paragraph>Check if the specified backend passes the filters.</paragraph>
                        </desc_content>
                    </desc>
                    <index entries=""></index>
                    <desc desctype="method" domain="py" noindex="True" objtype="method">
                        <desc_signature class="Scheduler" first="False" fullname="Scheduler.is_ready" module="cinder.scheduler.driver"><desc_name xml:space="preserve">is_ready</desc_name><desc_parameterlist xml:space="preserve"></desc_parameterlist></desc_signature>
                        <desc_content>
                            <paragraph>Returns True if Scheduler is ready to accept requests.</paragraph>
                            <paragraph>This is to handle scheduler service startup when it has no volume hosts
                                stats and will fail all the requests.</paragraph>
                        </desc_content>
                    </desc>
                    <index entries=""></index>
                    <desc desctype="method" domain="py" noindex="True" objtype="method">
                        <desc_signature class="Scheduler" first="False" fullname="Scheduler.notify_service_capabilities" module="cinder.scheduler.driver"><desc_name xml:space="preserve">notify_service_capabilities</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">service_name</desc_parameter><desc_parameter xml:space="preserve">backend</desc_parameter><desc_parameter xml:space="preserve">capabilities</desc_parameter><desc_parameter xml:space="preserve">timestamp</desc_parameter></desc_parameterlist></desc_signature>
                        <desc_content>
                            <paragraph>Notify capability update from a service node.</paragraph>
                        </desc_content>
                    </desc>
                    <index entries=""></index>
                    <desc desctype="method" domain="py" noindex="True" objtype="method">
                        <desc_signature class="Scheduler" first="False" fullname="Scheduler.reset" module="cinder.scheduler.driver"><desc_name xml:space="preserve">reset</desc_name><desc_parameterlist xml:space="preserve"></desc_parameterlist></desc_signature>
                        <desc_content>
                            <paragraph>Reset volume RPC API object to load new version pins.</paragraph>
                        </desc_content>
                    </desc>
                    <index entries=""></index>
                    <desc desctype="method" domain="py" noindex="True" objtype="method">
                        <desc_signature class="Scheduler" first="False" fullname="Scheduler.schedule" module="cinder.scheduler.driver"><desc_name xml:space="preserve">schedule</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">topic</desc_parameter><desc_parameter xml:space="preserve">method</desc_parameter><desc_parameter xml:space="preserve">*_args</desc_parameter><desc_parameter xml:space="preserve">**_kwargs</desc_parameter></desc_parameterlist></desc_signature>
                        <desc_content>
                            <paragraph>Must override schedule method for scheduler to work.</paragraph>
                        </desc_content>
                    </desc>
                    <index entries=""></index>
                    <desc desctype="method" domain="py" noindex="True" objtype="method">
                        <desc_signature class="Scheduler" first="False" fullname="Scheduler.schedule_create_group" module="cinder.scheduler.driver"><desc_name xml:space="preserve">schedule_create_group</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">group</desc_parameter><desc_parameter xml:space="preserve">group_spec</desc_parameter><desc_parameter xml:space="preserve">request_spec_list</desc_parameter><desc_parameter xml:space="preserve">group_filter_properties</desc_parameter><desc_parameter xml:space="preserve">filter_properties_list</desc_parameter></desc_parameterlist></desc_signature>
                        <desc_content>
                            <paragraph>Must override schedule method for scheduler to work.</paragraph>
                        </desc_content>
                    </desc>
                    <index entries=""></index>
                    <desc desctype="method" domain="py" noindex="True" objtype="method">
                        <desc_signature class="Scheduler" first="False" fullname="Scheduler.schedule_create_volume" module="cinder.scheduler.driver"><desc_name xml:space="preserve">schedule_create_volume</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">request_spec</desc_parameter><desc_parameter xml:space="preserve">filter_properties</desc_parameter></desc_parameterlist></desc_signature>
                        <desc_content>
                            <paragraph>Must override schedule method for scheduler to work.</paragraph>
                        </desc_content>
                    </desc>
                    <index entries=""></index>
                    <desc desctype="method" domain="py" noindex="True" objtype="method">
                        <desc_signature class="Scheduler" first="False" fullname="Scheduler.update_service_capabilities" module="cinder.scheduler.driver"><desc_name xml:space="preserve">update_service_capabilities</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">service_name</desc_parameter><desc_parameter xml:space="preserve">host</desc_parameter><desc_parameter xml:space="preserve">capabilities</desc_parameter><desc_parameter xml:space="preserve">cluster_name</desc_parameter><desc_parameter xml:space="preserve">timestamp</desc_parameter></desc_parameterlist></desc_signature>
                        <desc_content>
                            <paragraph>Process a capability update from a service node.</paragraph>
                        </desc_content>
                    </desc>
                </desc_content>
            </desc>
            <index entries=""></index>
            <desc desctype="function" domain="py" noindex="True" objtype="function">
                <desc_signature class="" first="False" fullname="generic_group_update_db" module="cinder.scheduler.driver"><desc_name xml:space="preserve">generic_group_update_db</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">group</desc_parameter><desc_parameter xml:space="preserve">host</desc_parameter><desc_parameter xml:space="preserve">cluster_name</desc_parameter></desc_parameterlist></desc_signature>
                <desc_content>
                    <paragraph>Set the host and the scheduled_at field of a group.</paragraph>
                    <field_list>
                        <field>
                            <field_name>Returns</field_name>
                            <field_body>
                                <paragraph>A Group with the updated fields set properly.</paragraph>
                            </field_body>
                        </field>
                    </field_list>
                </desc_content>
            </desc>
            <index entries=""></index>
            <desc desctype="function" domain="py" noindex="True" objtype="function">
                <desc_signature class="" first="False" fullname="volume_update_db" module="cinder.scheduler.driver"><desc_name xml:space="preserve">volume_update_db</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">volume_id</desc_parameter><desc_parameter xml:space="preserve">host</desc_parameter><desc_parameter xml:space="preserve">cluster_name</desc_parameter></desc_parameterlist></desc_signature>
                <desc_content>
                    <paragraph>Set the host, cluster_name, and set the scheduled_at field of a volume.</paragraph>
                    <field_list>
                        <field>
                            <field_name>Returns</field_name>
                            <field_body>
                                <paragraph>A Volume with the updated fields set properly.</paragraph>
                            </field_body>
                        </field>
                    </field_list>
                </desc_content>
            </desc>
        </section>
        <section ids="the-cinder-scheduler-filter-scheduler-driver" names="the\ cinder.scheduler.filter_scheduler\ driver">
            <title>The <reference internal="True" reftitle="cinder.scheduler.filter_scheduler" refuri="api/cinder.scheduler.filter_scheduler#module-cinder.scheduler.filter_scheduler"><literal classes="xref py py-mod">cinder.scheduler.filter_scheduler</literal></reference> Driver</title>
            <paragraph>The FilterScheduler is for creating volumes.</paragraph>
            <paragraph>You can customize this scheduler by specifying your own volume Filters and
                Weighing Functions.</paragraph>
            <index entries=""></index>
            <desc desctype="class" domain="py" noindex="True" objtype="class">
                <desc_signature class="" first="False" fullname="FilterScheduler" module="cinder.scheduler.filter_scheduler"><desc_annotation xml:space="preserve">class </desc_annotation><desc_name xml:space="preserve">FilterScheduler</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">*args</desc_parameter><desc_parameter xml:space="preserve">**kwargs</desc_parameter></desc_parameterlist></desc_signature>
                <desc_content>
                    <paragraph>Bases: <reference internal="True" reftitle="cinder.scheduler.driver.Scheduler" refuri="api/cinder.scheduler.driver#cinder.scheduler.driver.Scheduler"><literal classes="xref py py-class">cinder.scheduler.driver.Scheduler</literal></reference></paragraph>
                    <paragraph>Scheduler that can be used for filtering and weighing.</paragraph>
                    <index entries=""></index>
                    <desc desctype="method" domain="py" noindex="True" objtype="method">
                        <desc_signature class="FilterScheduler" first="False" fullname="FilterScheduler.backend_passes_filters" module="cinder.scheduler.filter_scheduler"><desc_name xml:space="preserve">backend_passes_filters</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">backend</desc_parameter><desc_parameter xml:space="preserve">request_spec</desc_parameter><desc_parameter xml:space="preserve">filter_properties</desc_parameter></desc_parameterlist></desc_signature>
                        <desc_content>
                            <paragraph>Check if the specified backend passes the filters.</paragraph>
                        </desc_content>
                    </desc>
                    <index entries=""></index>
                    <desc desctype="method" domain="py" noindex="True" objtype="method">
                        <desc_signature class="FilterScheduler" first="False" fullname="FilterScheduler.find_retype_backend" module="cinder.scheduler.filter_scheduler"><desc_name xml:space="preserve">find_retype_backend</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">request_spec</desc_parameter><desc_parameter xml:space="preserve">filter_properties=None</desc_parameter><desc_parameter xml:space="preserve">migration_policy='never'</desc_parameter></desc_parameterlist></desc_signature>
                        <desc_content>
                            <paragraph>Find a backend that can accept the volume with its new type.</paragraph>
                        </desc_content>
                    </desc>
                    <index entries=""></index>
                    <desc desctype="method" domain="py" noindex="True" objtype="method">
                        <desc_signature class="FilterScheduler" first="False" fullname="FilterScheduler.get_pools" module="cinder.scheduler.filter_scheduler"><desc_name xml:space="preserve">get_pools</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">filters</desc_parameter></desc_parameterlist></desc_signature>
                        <desc_content>
                        </desc_content>
                    </desc>
                    <index entries=""></index>
                    <desc desctype="method" domain="py" noindex="True" objtype="method">
                        <desc_signature class="FilterScheduler" first="False" fullname="FilterScheduler.populate_filter_properties" module="cinder.scheduler.filter_scheduler"><desc_name xml:space="preserve">populate_filter_properties</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">request_spec</desc_parameter><desc_parameter xml:space="preserve">filter_properties</desc_parameter></desc_parameterlist></desc_signature>
                        <desc_content>
                            <paragraph>Stuff things into filter_properties.</paragraph>
                            <paragraph>Can be overridden in a subclass to add more data.</paragraph>
                        </desc_content>
                    </desc>
                    <index entries=""></index>
                    <desc desctype="method" domain="py" noindex="True" objtype="method">
                        <desc_signature class="FilterScheduler" first="False" fullname="FilterScheduler.schedule" module="cinder.scheduler.filter_scheduler"><desc_name xml:space="preserve">schedule</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">topic</desc_parameter><desc_parameter xml:space="preserve">method</desc_parameter><desc_parameter xml:space="preserve">*args</desc_parameter><desc_parameter xml:space="preserve">**kwargs</desc_parameter></desc_parameterlist></desc_signature>
                        <desc_content>
                            <paragraph>Schedule contract that returns best-suited host for this request.</paragraph>
                        </desc_content>
                    </desc>
                    <index entries=""></index>
                    <desc desctype="method" domain="py" noindex="True" objtype="method">
                        <desc_signature class="FilterScheduler" first="False" fullname="FilterScheduler.schedule_create_group" module="cinder.scheduler.filter_scheduler"><desc_name xml:space="preserve">schedule_create_group</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">group</desc_parameter><desc_parameter xml:space="preserve">group_spec</desc_parameter><desc_parameter xml:space="preserve">request_spec_list</desc_parameter><desc_parameter xml:space="preserve">group_filter_properties</desc_parameter><desc_parameter xml:space="preserve">filter_properties_list</desc_parameter></desc_parameterlist></desc_signature>
                        <desc_content>
                        </desc_content>
                    </desc>
                    <index entries=""></index>
                    <desc desctype="method" domain="py" noindex="True" objtype="method">
                        <desc_signature class="FilterScheduler" first="False" fullname="FilterScheduler.schedule_create_volume" module="cinder.scheduler.filter_scheduler"><desc_name xml:space="preserve">schedule_create_volume</desc_name><desc_parameterlist xml:space="preserve"><desc_parameter xml:space="preserve">context</desc_parameter><desc_parameter xml:space="preserve">request_spec</desc_parameter><desc_parameter xml:space="preserve">filter_properties</desc_parameter></desc_parameterlist></desc_signature>
                        <desc_content>
                        </desc_content>
                    </desc>
                </desc_content>
            </desc>
        </section>
        <section ids="tests" names="tests">
            <title>Tests</title>
            <section ids="the-cinder-tests-unit-scheduler-module" names="the\ cinder.tests.unit.scheduler\ module">
                <title>The <literal classes="xref py py-mod">cinder.tests.unit.scheduler</literal> Module</title>
            </section>
        </section>
    </section>
</document>
