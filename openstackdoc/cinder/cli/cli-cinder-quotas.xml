<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.13.1 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/cinder/doc/source/cli/cli-cinder-quotas.rst">
    <section ids="manage-block-storage-service-quotas" names="manage\ block\ storage\ service\ quotas">
        <title>Manage Block Storage service quotas</title>
        <paragraph>As an administrative user, you can update the OpenStack Block
            Storage service quotas for a project. You can also update the quota
            defaults for a new project.</paragraph>
        <paragraph><strong>Block Storage quotas</strong></paragraph>
        <table>
            <tgroup cols="2">
                <colspec colwidth="19"></colspec>
                <colspec colwidth="45"></colspec>
                <thead>
                    <row>
                        <entry>
                            <paragraph>Property name</paragraph>
                        </entry>
                        <entry>
                            <paragraph>Defines the number of</paragraph>
                        </entry>
                    </row>
                </thead>
                <tbody>
                    <row>
                        <entry>
                            <paragraph>gigabytes</paragraph>
                        </entry>
                        <entry>
                            <paragraph>Volume gigabytes allowed for each project.</paragraph>
                        </entry>
                    </row>
                    <row>
                        <entry>
                            <paragraph>snapshots</paragraph>
                        </entry>
                        <entry>
                            <paragraph>Volume snapshots allowed for each project.</paragraph>
                        </entry>
                    </row>
                    <row>
                        <entry>
                            <paragraph>volumes</paragraph>
                        </entry>
                        <entry>
                            <paragraph>Volumes allowed for each project.</paragraph>
                        </entry>
                    </row>
                </tbody>
            </tgroup>
        </table>
        <section ids="view-block-storage-quotas" names="view\ block\ storage\ quotas">
            <title>View Block Storage quotas</title>
            <paragraph>Administrative users can view Block Storage service quotas.</paragraph>
            <enumerated_list enumtype="arabic" prefix="" suffix=".">
                <list_item>
                    <paragraph>Obtain the project ID:</paragraph>
                    <literal_block highlight_args="{}" language="console" linenos="False" xml:space="preserve">$ project_id=$(openstack project show -f value -c id PROJECT_NAME)</literal_block>
                </list_item>
                <list_item>
                    <paragraph>List the default quotas for a project:</paragraph>
                    <literal_block highlight_args="{}" language="console" linenos="False" xml:space="preserve">$ openstack quota show --default $OS_TENANT_ID
+-----------------------+-------+
| Field                 | Value |
+-----------------------+-------+
| backup-gigabytes      | 1000  |
| backups               | 10    |
| cores                 | 20    |
| fixed-ips             | -1    |
| floating-ips          | 50    |
| gigabytes             | 1000  |
| gigabytes_lvmdriver-1 | -1    |
| health_monitors       | None  |
| injected-file-size    | 10240 |
| injected-files        | 5     |
| injected-path-size    | 255   |
| instances             | 10    |
| key-pairs             | 100   |
| l7_policies           | None  |
| listeners             | None  |
| load_balancers        | None  |
| location              | None  |
| name                  | None  |
| networks              | 10    |
| per-volume-gigabytes  | -1    |
| pools                 | None  |
| ports                 | 50    |
| project               | None  |
| project_id            | None  |
| properties            | 128   |
| ram                   | 51200 |
| rbac_policies         | 10    |
| routers               | 10    |
| secgroup-rules        | 100   |
| secgroups             | 10    |
| server-group-members  | 10    |
| server-groups         | 10    |
| snapshots             | 10    |
| snapshots_lvmdriver-1 | -1    |
| subnet_pools          | -1    |
| subnets               | 10    |
| volumes               | 10    |
| volumes_lvmdriver-1   | -1    |
+-----------------------+-------+</literal_block>
                </list_item>
            </enumerated_list>
            <note>
                <paragraph>Listing default quotas with the OpenStack command line client will
                    provide all quotas for storage and network services. Previously, the
                    <literal_strong classes="command">cinder quota-defaults</literal_strong> command would list only storage
                    quotas. You can use <title_reference>PROJECT_ID</title_reference> or <title_reference>$OS_TENANT_NAME</title_reference> arguments to
                    show Block Storage service quotas. If the <title_reference>PROJECT_ID</title_reference> argument returns
                    errors in locating resources, use <title_reference>$OS_TENANT_NAME</title_reference>.</paragraph>
            </note>
            <enumerated_list enumtype="arabic" prefix="" suffix=".">
                <list_item>
                    <paragraph>View Block Storage service quotas for a project:</paragraph>
                    <literal_block highlight_args="{}" language="console" linenos="False" xml:space="preserve">$ openstack quota show $OS_TENANT_ID
+-----------------------+-------+
| Field                 | Value |
+-----------------------+-------+
| backup-gigabytes      | 1000  |
| backups               | 10    |
| cores                 | 20    |
| fixed-ips             | -1    |
| floating-ips          | 50    |
| gigabytes             | 1000  |
| gigabytes_lvmdriver-1 | -1    |
| health_monitors       | None  |
| injected-file-size    | 10240 |
| injected-files        | 5     |
| injected-path-size    | 255   |
| instances             | 10    |
| key-pairs             | 100   |
| l7_policies           | None  |
| listeners             | None  |
| load_balancers        | None  |
| location              | None  |
| name                  | None  |
| networks              | 10    |
| per-volume-gigabytes  | -1    |
| pools                 | None  |
| ports                 | 50    |
| project               | None  |
| project_id            | None  |
| properties            | 128   |
| ram                   | 51200 |
| rbac_policies         | 10    |
| routers               | 10    |
| secgroup-rules        | 100   |
| secgroups             | 10    |
| server-group-members  | 10    |
| server-groups         | 10    |
| snapshots             | 10    |
| snapshots_lvmdriver-1 | -1    |
| subnet_pools          | -1    |
| subnets               | 10    |
| volumes               | 10    |
| volumes_lvmdriver-1   | -1    |
+-----------------------+-------+</literal_block>
                </list_item>
                <list_item>
                    <paragraph>Show the current usage of a per-project quota:</paragraph>
                    <literal_block highlight_args="{}" language="console" linenos="False" xml:space="preserve">$ cinder quota-usage $project_id
+-----------------------+--------+----------+-------+
| Type                  | In_use | Reserved | Limit |
+-----------------------+--------+----------+-------+
| backup_gigabytes      | 0      | 0        | 1000  |
| backups               | 0      | 0        | 10    |
| gigabytes             | 0      | 0        | 1000  |
| gigabytes_lvmdriver-1 | 0      | 0        | -1    |
| per_volume_gigabytes  | 0      | 0        | -1    |
| snapshots             | 0      | 0        | 10    |
| snapshots_lvmdriver-1 | 0      | 0        | -1    |
| volumes               | 0      | 0        | 10    |
| volumes_lvmdriver-1   | 0      | 0        | -1    |
+-----------------------+--------+----------+-------+</literal_block>
                </list_item>
            </enumerated_list>
        </section>
        <section ids="edit-and-update-block-storage-service-quotas" names="edit\ and\ update\ block\ storage\ service\ quotas">
            <title>Edit and update Block Storage service quotas</title>
            <paragraph>Administrative users can edit and update Block Storage
                service quotas.</paragraph>
            <enumerated_list enumtype="arabic" prefix="" suffix=".">
                <list_item>
                    <paragraph>To update a default value for a new project,
                        update the property in the <inline classes="guilabel" rawtext=":guilabel:`cinder.quota`">cinder.quota</inline>
                        section of the <literal>/etc/cinder/cinder.conf</literal> file.
                        For more information, see the <reference name="Block Storage service" refuri="https://docs.openstack.org/ocata/config-reference/block-storage.html">Block Storage service</reference><target ids="block-storage-service" names="block\ storage\ service" refuri="https://docs.openstack.org/ocata/config-reference/block-storage.html"></target>
                        in OpenStack Configuration Reference.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>To update Block Storage service quotas for an existing project</paragraph>
                    <literal_block highlight_args="{}" language="console" linenos="False" xml:space="preserve">$ openstack quota set --QUOTA_NAME QUOTA_VALUE PROJECT_ID</literal_block>
                    <paragraph>Replace <literal>QUOTA_NAME</literal> with the quota that is to be updated,
                        <literal>QUOTA_VALUE</literal> with the required new value. Use the <literal_strong classes="command">openstack quota show</literal_strong>
                        command with <literal>PROJECT_ID</literal>, which is the required project ID.</paragraph>
                    <paragraph>For example:</paragraph>
                    <literal_block highlight_args="{}" language="console" linenos="False" xml:space="preserve">$ openstack quota set --volumes 15  $project_id
$ openstack quota show $project_id
+-----------------------+----------------------------------+
| Field                 | Value                            |
+-----------------------+----------------------------------+
| backup-gigabytes      | 1000                             |
| backups               | 10                               |
| cores                 | 20                               |
| fixed-ips             | -1                               |
| floating-ips          | 29                               |
| gigabytes             | 1000                             |
| gigabytes_lvmdriver-1 | -1                               |
| health_monitors       | None                             |
| injected-file-size    | 10240                            |
| injected-files        | 5                                |
| injected-path-size    | 255                              |
| instances             | 10                               |
| key-pairs             | 100                              |
| l7_policies           | None                             |
| listeners             | None                             |
| load_balancers        | None                             |
| location              | None                             |
| name                  | None                             |
| networks              | 10                               |
| per-volume-gigabytes  | -1                               |
| pools                 | None                             |
| ports                 | 50                               |
| project               | e436339c7f9c476cb3120cf3b9667377 |
| project_id            | None                             |
| properties            | 128                              |
| ram                   | 51200                            |
| rbac_policies         | 10                               |
| routers               | 10                               |
| secgroup-rules        | 100                              |
| secgroups             | 10                               |
| server-group-members  | 10                               |
| server-groups         | 10                               |
| snapshots             | 10                               |
| snapshots_lvmdriver-1 | -1                               |
| subnet_pools          | -1                               |
| subnets               | 10                               |
| volumes               | 15                               |
| volumes_lvmdriver-1   | -1                               |
+-----------------------+----------------------------------+</literal_block>
                </list_item>
                <list_item>
                    <paragraph>To clear per-project quota limits:</paragraph>
                    <literal_block highlight_args="{}" language="console" linenos="False" xml:space="preserve">$ cinder quota-delete PROJECT_ID</literal_block>
                </list_item>
            </enumerated_list>
        </section>
    </section>
</document>
