<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.13.1 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/cinder/doc/source/configuration/block-storage/drivers/smbfs-volume-driver.rst">
    <section ids="sambafs-driver" names="sambafs\ driver">
        <title>SambaFS driver</title>
        <paragraph>There is a volume back-end for Samba filesystems. Set the following in
            your <literal>cinder.conf</literal> file, and use the following options to configure it.</paragraph>
        <note>
            <paragraph>The SambaFS driver requires <literal>qemu-img</literal> version 1.7 or higher on Linux
                nodes, and <literal>qemu-img</literal> version 1.6 or higher on Windows nodes.</paragraph>
        </note>
        <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">volume_driver = cinder.volume.drivers.smbfs.SmbfsDriver</literal_block>
        <comment xml:space="preserve">Warning: Do not edit this file. It is automatically generated from the
software project's code and your changes will be overwritten.

The tool to generate this file lives in openstack-doc-tools repository.

Please make any changes needed in the code, then run the
autogenerate-config-doc tool from the openstack-doc-tools repository, or
ask for help on the documentation mailing list, IRC channel or meeting.</comment>
        <target refid="cinder-smbfs"></target>
        <table classes="config-ref-table" ids="id1 cinder-smbfs" names="cinder-smbfs">
            <title>Description of Samba volume driver configuration options</title>
            <tgroup cols="2">
                <colspec colwidth="50"></colspec>
                <colspec colwidth="50"></colspec>
                <thead>
                    <row>
                        <entry>
                            <paragraph>Configuration option = Default value</paragraph>
                        </entry>
                        <entry>
                            <paragraph>Description</paragraph>
                        </entry>
                    </row>
                </thead>
                <tbody>
                    <row>
                        <entry>
                            <paragraph><strong>[DEFAULT]</strong></paragraph>
                        </entry>
                        <entry>
                        </entry>
                    </row>
                    <row>
                        <entry>
                            <paragraph><literal>smbfs_allocation_info_file_path</literal> = <literal>$state_path/allocation_data</literal></paragraph>
                        </entry>
                        <entry>
                            <paragraph>(String) The path of the automatically generated file containing information about volume disk space allocation.</paragraph>
                        </entry>
                    </row>
                    <row>
                        <entry>
                            <paragraph><literal>smbfs_default_volume_format</literal> = <literal>qcow2</literal></paragraph>
                        </entry>
                        <entry>
                            <paragraph>(String) Default format that will be used when creating volumes if no volume format is specified.</paragraph>
                        </entry>
                    </row>
                    <row>
                        <entry>
                            <paragraph><literal>smbfs_mount_options</literal> = <literal>noperm,file_mode=0775,dir_mode=0775</literal></paragraph>
                        </entry>
                        <entry>
                            <paragraph>(String) Mount options passed to the smbfs client. See mount.cifs man page for details.</paragraph>
                        </entry>
                    </row>
                    <row>
                        <entry>
                            <paragraph><literal>smbfs_mount_point_base</literal> = <literal>$state_path/mnt</literal></paragraph>
                        </entry>
                        <entry>
                            <paragraph>(String) Base dir containing mount points for smbfs shares.</paragraph>
                        </entry>
                    </row>
                    <row>
                        <entry>
                            <paragraph><literal>smbfs_oversub_ratio</literal> = <literal>1.0</literal></paragraph>
                        </entry>
                        <entry>
                            <paragraph>(Floating point) This will compare the allocated to available space on the volume destination. If the ratio exceeds this number, the destination will no longer be valid.</paragraph>
                        </entry>
                    </row>
                    <row>
                        <entry>
                            <paragraph><literal>smbfs_shares_config</literal> = <literal>/etc/cinder/smbfs_shares</literal></paragraph>
                        </entry>
                        <entry>
                            <paragraph>(String) File with the list of available smbfs shares.</paragraph>
                        </entry>
                    </row>
                    <row>
                        <entry>
                            <paragraph><literal>smbfs_sparsed_volumes</literal> = <literal>True</literal></paragraph>
                        </entry>
                        <entry>
                            <paragraph>(Boolean) Create volumes as sparsed files which take no space rather than regular files when using raw format, in which case volume creation takes lot of time.</paragraph>
                        </entry>
                    </row>
                    <row>
                        <entry>
                            <paragraph><literal>smbfs_used_ratio</literal> = <literal>0.95</literal></paragraph>
                        </entry>
                        <entry>
                            <paragraph>(Floating point) Percent of ACTUAL usage of the underlying volume before no new volumes can be allocated to the volume destination.</paragraph>
                        </entry>
                    </row>
                </tbody>
            </tgroup>
        </table>
    </section>
</document>
