<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.13.1 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/cinder/doc/source/configuration/block-storage/drivers/nexentaedge-driver.rst">
    <section ids="nexentaedge-nbd-iscsi-drivers" names="nexentaedge\ nbd\ &amp;\ iscsi\ drivers">
        <title>NexentaEdge NBD &amp; iSCSI drivers</title>
        <paragraph>NexentaEdge is designed from the ground-up to deliver high performance Block
            and Object storage services and limitless scalability to next generation
            OpenStack clouds, petabyte scale active archives and Big Data applications.
            NexentaEdge runs on shared nothing clusters of industry standard Linux
            servers, and builds on Nexenta IP and patent pending Cloud Copy On Write (CCOW)
            technology to break new ground in terms of reliability, functionality and cost
            efficiency.</paragraph>
        <paragraph>For user documentation, see the
            <reference name="Nexenta Documentation Center" refuri="https://nexenta.com/products/documentation">Nexenta Documentation Center</reference><target ids="nexenta-documentation-center" names="nexenta\ documentation\ center" refuri="https://nexenta.com/products/documentation"></target>.</paragraph>
        <section ids="iscsi-driver" names="iscsi\ driver">
            <title>iSCSI driver</title>
            <paragraph>The NexentaEdge cluster must be installed and configured according to the
                relevant Nexenta documentation. A cluster, tenant, bucket must be pre-created,
                as well as an iSCSI service on the NexentaEdge gateway node.</paragraph>
            <paragraph>The NexentaEdge iSCSI driver is selected using the normal procedures for one
                or multiple back-end volume drivers.</paragraph>
            <paragraph>You must configure these items for each NexentaEdge cluster that the iSCSI
                volume driver controls:</paragraph>
            <enumerated_list enumtype="arabic" prefix="" suffix=".">
                <list_item>
                    <paragraph>Make the following changes on the storage node <literal>/etc/cinder/cinder.conf</literal>
                        file.</paragraph>
                    <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve"># Enable Nexenta iSCSI driver
volume_driver = cinder.volume.drivers.nexenta.nexentaedge.iscsi.NexentaEdgeISCSIDriver

# Specify the ip address for Rest API (string value)
nexenta_rest_address = MANAGEMENT-NODE-IP

# Port for Rest API (integer value)
nexenta_rest_port=8080

# Protocol used for Rest calls (string value, default=htpp)
nexenta_rest_protocol = http

# Username for NexentaEdge Rest (string value)
nexenta_user=USERNAME

# Password for NexentaEdge Rest (string value)
nexenta_password=PASSWORD

# Path to bucket containing iSCSI LUNs (string value)
nexenta_lun_container = CLUSTER/TENANT/BUCKET

# Name of pre-created iSCSI service (string value)
nexenta_iscsi_service = SERVICE-NAME

# IP address of the gateway node attached to iSCSI service above or
# virtual IP address if an iSCSI Storage Service Group is configured in
# HA mode (string value)
nexenta_client_address = GATEWAY-NODE-IP</literal_block>
                </list_item>
                <list_item>
                    <paragraph>Save the changes to the <literal>/etc/cinder/cinder.conf</literal> file and
                        restart the <literal>cinder-volume</literal> service.</paragraph>
                </list_item>
            </enumerated_list>
            <section dupnames="supported\ operations" ids="supported-operations">
                <title>Supported operations</title>
                <bullet_list bullet="*">
                    <list_item>
                        <paragraph>Create, delete, attach, and detach volumes.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Create, list, and delete volume snapshots.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Create a volume from a snapshot.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Copy an image to a volume.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Copy a volume to an image.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Clone a volume.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Extend a volume.</paragraph>
                    </list_item>
                </bullet_list>
            </section>
        </section>
        <section ids="nbd-driver" names="nbd\ driver">
            <title>NBD driver</title>
            <paragraph>As an alternative to using iSCSI, Amazon S3, or OpenStack Swift protocols,
                NexentaEdge can provide access to cluster storage via a Network Block Device
                (NBD) interface.</paragraph>
            <paragraph>The NexentaEdge cluster must be installed and configured according to the
                relevant Nexenta documentation. A cluster, tenant, bucket must be pre-created.
                The driver requires NexentaEdge Service to run on Hypervisor (Nova) node.
                The node must sit on Replicast Network and only runs NexentaEdge service, does
                not require physical disks.</paragraph>
            <paragraph>You must configure these items for each NexentaEdge cluster that the NBD
                volume driver controls:</paragraph>
            <enumerated_list enumtype="arabic" prefix="" suffix=".">
                <list_item>
                    <paragraph>Make the following changes on storage node <literal>/etc/cinder/cinder.conf</literal>
                        file.</paragraph>
                    <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve"># Enable Nexenta NBD driver
volume_driver = cinder.volume.drivers.nexenta.nexentaedge.nbd.NexentaEdgeNBDDriver

# Specify the ip address for Rest API (string value)
nexenta_rest_address = MANAGEMENT-NODE-IP

# Port for Rest API (integer value)
nexenta_rest_port = 8080

# Protocol used for Rest calls (string value, default=htpp)
nexenta_rest_protocol = http

# Username for NexentaEdge Rest (string value)
nexenta_rest_user = USERNAME

# Password for NexentaEdge Rest (string value)
nexenta_rest_password = PASSWORD

# Path to bucket containing iSCSI LUNs (string value)
nexenta_lun_container = CLUSTER/TENANT/BUCKET

# Path to directory to store symbolic links to block devices
# (string value, default=/dev/disk/by-path)
nexenta_nbd_symlinks_dir = /PATH/TO/SYMBOLIC/LINKS</literal_block>
                </list_item>
                <list_item>
                    <paragraph>Save the changes to the <literal>/etc/cinder/cinder.conf</literal> file and
                        restart the <literal>cinder-volume</literal> service.</paragraph>
                </list_item>
            </enumerated_list>
            <section dupnames="supported\ operations" ids="id1">
                <title>Supported operations</title>
                <bullet_list bullet="*">
                    <list_item>
                        <paragraph>Create, delete, attach, and detach volumes.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Create, list, and delete volume snapshots.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Create a volume from a snapshot.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Copy an image to a volume.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Copy a volume to an image.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Clone a volume.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Extend a volume.</paragraph>
                    </list_item>
                </bullet_list>
            </section>
        </section>
        <section ids="driver-options" names="driver\ options">
            <title>Driver options</title>
            <paragraph>Nexenta Driver supports these options:</paragraph>
            <comment xml:space="preserve">Warning: Do not edit this file. It is automatically generated from the
software project's code and your changes will be overwritten.

The tool to generate this file lives in openstack-doc-tools repository.

Please make any changes needed in the code, then run the
autogenerate-config-doc tool from the openstack-doc-tools repository, or
ask for help on the documentation mailing list, IRC channel or meeting.</comment>
            <target refid="cinder-nexenta-edge"></target>
            <table classes="config-ref-table" ids="id2 cinder-nexenta-edge" names="cinder-nexenta_edge">
                <title>Description of NexentaEdge driver configuration options</title>
                <tgroup cols="2">
                    <colspec colwidth="50"></colspec>
                    <colspec colwidth="50"></colspec>
                    <thead>
                        <row>
                            <entry>
                                <paragraph>Configuration option = Default value</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Description</paragraph>
                            </entry>
                        </row>
                    </thead>
                    <tbody>
                        <row>
                            <entry>
                                <paragraph><strong>[DEFAULT]</strong></paragraph>
                            </entry>
                            <entry>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>nexenta_blocksize</literal> = <literal>4096</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(Integer) Block size for datasets</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>nexenta_chunksize</literal> = <literal>32768</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(Integer) NexentaEdge iSCSI LUN object chunk size</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>nexenta_client_address</literal> =</paragraph>
                            </entry>
                            <entry>
                                <paragraph>(String) NexentaEdge iSCSI Gateway client address for non-VIP service</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>nexenta_iscsi_service</literal> =</paragraph>
                            </entry>
                            <entry>
                                <paragraph>(String) NexentaEdge iSCSI service name</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>nexenta_iscsi_target_portal_port</literal> = <literal>3260</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(Integer) Nexenta target portal port</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>nexenta_lun_container</literal> =</paragraph>
                            </entry>
                            <entry>
                                <paragraph>(String) NexentaEdge logical path of bucket for LUNs</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>nexenta_rest_address</literal> =</paragraph>
                            </entry>
                            <entry>
                                <paragraph>(String) IP address of NexentaEdge management REST API endpoint</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>nexenta_rest_password</literal> = <literal>nexenta</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(String) Password to connect to NexentaEdge</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>nexenta_rest_port</literal> = <literal>0</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(Integer) HTTP(S) port to connect to Nexenta REST API server. If it is equal zero, 8443 for HTTPS and 8080 for HTTP is used</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>nexenta_rest_protocol</literal> = <literal>auto</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(String) Use http or https for REST connection (default auto)</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>nexenta_rest_user</literal> = <literal>admin</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(String) User name to connect to NexentaEdge</paragraph>
                            </entry>
                        </row>
                    </tbody>
                </tgroup>
            </table>
        </section>
    </section>
</document>
