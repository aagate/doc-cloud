<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.13.1 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/cinder/doc/source/configuration/block-storage/drivers/infortrend-volume-driver.rst">
    <section ids="infortrend-volume-driver" names="infortrend\ volume\ driver">
        <title>Infortrend volume driver</title>
        <paragraph>The <reference name="Infortrend" refuri="http://www.infortrend.com/global">Infortrend</reference> volume driver is a Block Storage driver
            providing iSCSI and Fibre Channel support for Infortrend storages.</paragraph>
        <section ids="supported-operations" names="supported\ operations">
            <title>Supported operations</title>
            <paragraph>The Infortrend volume driver supports the following volume operations:</paragraph>
            <bullet_list bullet="*">
                <list_item>
                    <paragraph>Create, delete, attach, and detach volumes.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Create and delete a snapshot.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Create a volume from a snapshot.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Copy an image to a volume.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Copy a volume to an image.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Clone a volume.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Extend a volume</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Retype a volume.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Manage and unmanage a volume.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Migrate a volume with back-end assistance.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Live migrate an instance with volumes hosted on an Infortrend backend.</paragraph>
                </list_item>
            </bullet_list>
        </section>
        <section ids="system-requirements" names="system\ requirements">
            <title>System requirements</title>
            <paragraph>To use the Infortrend volume driver, the following settings are required:</paragraph>
            <section ids="set-up-infortrend-storage" names="set\ up\ infortrend\ storage">
                <title>Set up Infortrend storage</title>
                <bullet_list bullet="*">
                    <list_item>
                        <paragraph>Create logical volumes in advance.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Host side setting <literal>Peripheral device type</literal> should be
                            <literal>No Device Present (Type=0x7f)</literal>.</paragraph>
                    </list_item>
                </bullet_list>
            </section>
            <section ids="set-up-cinder-volume-node" names="set\ up\ cinder-volume\ node">
                <title>Set up cinder-volume node</title>
                <bullet_list bullet="*">
                    <list_item>
                        <paragraph>Install Oracle Java 7 or later.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Download the Infortrend storage CLI from the
                            <reference name="release page" refuri="https://github.com/infortrend-openstack/infortrend-cinder-driver/releases">release page</reference>,
                            and assign it to the default path <literal>/opt/bin/Infortrend/</literal>.</paragraph>
                    </list_item>
                </bullet_list>
            </section>
        </section>
        <section ids="driver-configuration" names="driver\ configuration">
            <title>Driver configuration</title>
            <paragraph>On <literal>cinder-volume</literal> nodes, set the following in your
                <literal>/etc/cinder/cinder.conf</literal>, and use the following options to configure it:</paragraph>
            <section ids="driver-options" names="driver\ options">
                <title>Driver options</title>
                <comment xml:space="preserve">Warning: Do not edit this file. It is automatically generated from the
software project's code and your changes will be overwritten.

The tool to generate this file lives in openstack-doc-tools repository.

Please make any changes needed in the code, then run the
autogenerate-config-doc tool from the openstack-doc-tools repository, or
ask for help on the documentation mailing list, IRC channel or meeting.</comment>
                <target refid="cinder-infortrend"></target>
                <table classes="config-ref-table" ids="id1 cinder-infortrend" names="cinder-infortrend">
                    <title>Description of Infortrend volume driver configuration options</title>
                    <tgroup cols="2">
                        <colspec colwidth="50"></colspec>
                        <colspec colwidth="50"></colspec>
                        <thead>
                            <row>
                                <entry>
                                    <paragraph>Configuration option = Default value</paragraph>
                                </entry>
                                <entry>
                                    <paragraph>Description</paragraph>
                                </entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry>
                                    <paragraph><strong>[DEFAULT]</strong></paragraph>
                                </entry>
                                <entry>
                                </entry>
                            </row>
                            <row>
                                <entry>
                                    <paragraph><literal>infortrend_cli_max_retries</literal> = <literal>5</literal></paragraph>
                                </entry>
                                <entry>
                                    <paragraph>(Integer) Maximum retry time for cli. Default is 5.</paragraph>
                                </entry>
                            </row>
                            <row>
                                <entry>
                                    <paragraph><literal>infortrend_cli_path</literal> = <literal>/opt/bin/Infortrend/raidcmd_ESDS10.jar</literal></paragraph>
                                </entry>
                                <entry>
                                    <paragraph>(String) The Infortrend CLI absolute path. By default, it is at /opt/bin/Infortrend/raidcmd_ESDS10.jar</paragraph>
                                </entry>
                            </row>
                            <row>
                                <entry>
                                    <paragraph><literal>infortrend_cli_timeout</literal> = <literal>30</literal></paragraph>
                                </entry>
                                <entry>
                                    <paragraph>(Integer) Default timeout for CLI copy operations in minutes. Support: migrate volume, create cloned volume and create volume from snapshot. By Default, it is 30 minutes.</paragraph>
                                </entry>
                            </row>
                            <row>
                                <entry>
                                    <paragraph><literal>infortrend_pools_name</literal> =</paragraph>
                                </entry>
                                <entry>
                                    <paragraph>(String) Infortrend raid pool name list. It is separated with comma.</paragraph>
                                </entry>
                            </row>
                            <row>
                                <entry>
                                    <paragraph><literal>infortrend_provisioning</literal> = <literal>full</literal></paragraph>
                                </entry>
                                <entry>
                                    <paragraph>(String) Let the volume use specific provisioning. By default, it is the full provisioning. The supported options are full or thin.</paragraph>
                                </entry>
                            </row>
                            <row>
                                <entry>
                                    <paragraph><literal>infortrend_slots_a_channels_id</literal> = <literal>0,1,2,3,4,5,6,7</literal></paragraph>
                                </entry>
                                <entry>
                                    <paragraph>(String) Infortrend raid channel ID list on Slot A for OpenStack usage. It is separated with comma. By default, it is the channel 0~7.</paragraph>
                                </entry>
                            </row>
                            <row>
                                <entry>
                                    <paragraph><literal>infortrend_slots_b_channels_id</literal> = <literal>0,1,2,3,4,5,6,7</literal></paragraph>
                                </entry>
                                <entry>
                                    <paragraph>(String) Infortrend raid channel ID list on Slot B for OpenStack usage. It is separated with comma. By default, it is the channel 0~7.</paragraph>
                                </entry>
                            </row>
                            <row>
                                <entry>
                                    <paragraph><literal>infortrend_tiering</literal> = <literal>0</literal></paragraph>
                                </entry>
                                <entry>
                                    <paragraph>(String) Let the volume use specific tiering level. By default, it is the level 0. The supported levels are 0,2,3,4.</paragraph>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </section>
            <section ids="iscsi-configuration-example" names="iscsi\ configuration\ example">
                <title>iSCSI configuration example</title>
                <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">[DEFAULT]
default_volume_type = IFT-ISCSI
enabled_backends = IFT-ISCSI

[IFT-ISCSI]
volume_driver = cinder.volume.drivers.infortrend.infortrend_iscsi_cli.InfortrendCLIISCSIDriver
volume_backend_name = IFT-ISCSI
infortrend_pools_name = POOL-1,POOL-2
san_ip = MANAGEMENT_PORT_IP
infortrend_slots_a_channels_id = 0,1,2,3
infortrend_slots_b_channels_id = 0,1,2,3</literal_block>
            </section>
            <section ids="fibre-channel-configuration-example" names="fibre\ channel\ configuration\ example">
                <title>Fibre Channel configuration example</title>
                <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">[DEFAULT]
default_volume_type = IFT-FC
enabled_backends = IFT-FC

[IFT-FC]
volume_driver = cinder.volume.drivers.infortrend.infortrend_fc_cli.InfortrendCLIFCDriver
volume_backend_name = IFT-FC
infortrend_pools_name = POOL-1,POOL-2,POOL-3
san_ip = MANAGEMENT_PORT_IP
infortrend_slots_a_channels_id = 4,5</literal_block>
            </section>
            <section ids="multipath-configuration" names="multipath\ configuration">
                <title>Multipath configuration</title>
                <bullet_list bullet="*">
                    <list_item>
                        <paragraph>Enable multipath for image transfer in <literal>/etc/cinder/cinder.conf</literal>.</paragraph>
                        <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">use_multipath_for_image_xfer = True</literal_block>
                        <paragraph>Restart the <literal>cinder-volume</literal> service.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Enable multipath for volume attach and detach in <literal>/etc/nova/nova.conf</literal>.</paragraph>
                        <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">[libvirt]
...
volume_use_multipath = True
...</literal_block>
                        <paragraph>Restart the <literal>nova-compute</literal> service.</paragraph>
                    </list_item>
                </bullet_list>
            </section>
            <section ids="extra-spec-usage" names="extra\ spec\ usage">
                <title>Extra spec usage</title>
                <bullet_list bullet="*">
                    <list_item>
                        <paragraph><literal>infortrend:provisioning</literal> - Defaults to <literal>full</literal> provisioning,
                            the valid values are thin and full.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph><literal>infortrend:tiering</literal> - Defaults to use <literal>all</literal> tiering,
                            the valid values are subsets of 0, 1, 2, 3.</paragraph>
                        <paragraph>If multi-pools are configured in <literal>cinder.conf</literal>,
                            it can be specified for each pool, separated by semicolon.</paragraph>
                        <paragraph>For example:</paragraph>
                        <paragraph><literal>infortrend:provisioning</literal>: <literal>POOL-1:thin; POOL-2:full</literal></paragraph>
                        <paragraph><literal>infortrend:tiering</literal>: <literal>POOL-1:all; POOL-2:0; POOL-3:0,1,3</literal></paragraph>
                    </list_item>
                </bullet_list>
                <paragraph>For more details, see <reference name="Infortrend documents" refuri="http://www.infortrend.com/ImageLoader/LoadDoc/715">Infortrend documents</reference><target ids="infortrend-documents" names="infortrend\ documents" refuri="http://www.infortrend.com/ImageLoader/LoadDoc/715"></target>.</paragraph>
            </section>
        </section>
    </section>
</document>
