<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.13.1 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/cinder/doc/source/configuration/block-storage/drivers/tintri-volume-driver.rst">
    <section ids="tintri" names="tintri">
        <title>Tintri</title>
        <paragraph>Tintri VMstore is a smart storage that sees, learns, and adapts for cloud and
            virtualization. The Tintri Block Storage driver interacts with configured
            VMstore running Tintri OS 4.0 and above. It supports various operations using
            Tintri REST APIs and NFS protocol.</paragraph>
        <paragraph>To configure the use of a Tintri VMstore with Block Storage, perform the
            following actions:</paragraph>
        <enumerated_list enumtype="arabic" prefix="" suffix=".">
            <list_item>
                <paragraph>Edit the <literal>etc/cinder/cinder.conf</literal> file and set the
                    <literal>cinder.volume.drivers.tintri</literal> options:</paragraph>
                <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">volume_driver=cinder.volume.drivers.tintri.TintriDriver
# Mount options passed to the nfs client. See section of the
# nfs man page for details. (string value)
nfs_mount_options = vers=3,lookupcache=pos

#
# Options defined in cinder.volume.drivers.tintri
#

# The hostname (or IP address) for the storage system (string
# value)
tintri_server_hostname = {Tintri VMstore Management IP}

# User name for the storage system (string value)
tintri_server_username = {username}

# Password for the storage system (string value)
tintri_server_password = {password}

# API version for the storage system (string value)
# tintri_api_version = v310

# Following options needed for NFS configuration
# File with the list of available nfs shares (string value)
# nfs_shares_config = /etc/cinder/nfs_shares

# Tintri driver will clean up unused image snapshots. With the following
# option, users can configure how long unused image snapshots are
# retained. Default retention policy is 30 days
# tintri_image_cache_expiry_days = 30

# Path to NFS shares file storing images.
# Users can store Glance images in the NFS share of the same VMstore
# mentioned in the following file. These images need to have additional
# metadata ``provider_location`` configured in Glance, which should point
# to the NFS share path of the image.
# This option will enable Tintri driver to directly clone from Glance
# image stored on same VMstore (rather than downloading image
# from Glance)
# tintri_image_shares_config = &lt;Path to image NFS share&gt;
#
# For example:
# Glance image metadata
# provider_location =&gt;
# nfs://&lt;data_ip&gt;/tintri/glance/84829294-c48b-4e16-a878-8b2581efd505</literal_block>
            </list_item>
            <list_item>
                <paragraph>Edit the <literal>/etc/nova/nova.conf</literal> file and set the <literal>nfs_mount_options</literal>:</paragraph>
                <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">[libvirt]
nfs_mount_options = vers=3</literal_block>
            </list_item>
            <list_item>
                <paragraph>Edit the <literal>/etc/cinder/nfs_shares</literal> file and add the Tintri VMstore mount
                    points associated with the configured VMstore management IP in the
                    <literal>cinder.conf</literal> file:</paragraph>
                <literal_block highlight_args="{}" language="bash" linenos="False" xml:space="preserve">{vmstore_data_ip}:/tintri/{submount1}
{vmstore_data_ip}:/tintri/{submount2}</literal_block>
            </list_item>
        </enumerated_list>
        <comment xml:space="preserve">Warning: Do not edit this file. It is automatically generated from the
software project's code and your changes will be overwritten.

The tool to generate this file lives in openstack-doc-tools repository.

Please make any changes needed in the code, then run the
autogenerate-config-doc tool from the openstack-doc-tools repository, or
ask for help on the documentation mailing list, IRC channel or meeting.</comment>
        <target refid="cinder-tintri"></target>
        <table classes="config-ref-table" ids="id1 cinder-tintri" names="cinder-tintri">
            <title>Description of Tintri volume driver configuration options</title>
            <tgroup cols="2">
                <colspec colwidth="50"></colspec>
                <colspec colwidth="50"></colspec>
                <thead>
                    <row>
                        <entry>
                            <paragraph>Configuration option = Default value</paragraph>
                        </entry>
                        <entry>
                            <paragraph>Description</paragraph>
                        </entry>
                    </row>
                </thead>
                <tbody>
                    <row>
                        <entry>
                            <paragraph><strong>[DEFAULT]</strong></paragraph>
                        </entry>
                        <entry>
                        </entry>
                    </row>
                    <row>
                        <entry>
                            <paragraph><literal>tintri_api_version</literal> = <literal>v310</literal></paragraph>
                        </entry>
                        <entry>
                            <paragraph>(String) API version for the storage system</paragraph>
                        </entry>
                    </row>
                    <row>
                        <entry>
                            <paragraph><literal>tintri_image_cache_expiry_days</literal> = <literal>30</literal></paragraph>
                        </entry>
                        <entry>
                            <paragraph>(Integer) Delete unused image snapshots older than mentioned days</paragraph>
                        </entry>
                    </row>
                    <row>
                        <entry>
                            <paragraph><literal>tintri_image_shares_config</literal> = <literal>None</literal></paragraph>
                        </entry>
                        <entry>
                            <paragraph>(String) Path to image nfs shares file</paragraph>
                        </entry>
                    </row>
                    <row>
                        <entry>
                            <paragraph><literal>tintri_server_hostname</literal> = <literal>None</literal></paragraph>
                        </entry>
                        <entry>
                            <paragraph>(String) The hostname (or IP address) for the storage system</paragraph>
                        </entry>
                    </row>
                    <row>
                        <entry>
                            <paragraph><literal>tintri_server_password</literal> = <literal>None</literal></paragraph>
                        </entry>
                        <entry>
                            <paragraph>(String) Password for the storage system</paragraph>
                        </entry>
                    </row>
                    <row>
                        <entry>
                            <paragraph><literal>tintri_server_username</literal> = <literal>None</literal></paragraph>
                        </entry>
                        <entry>
                            <paragraph>(String) User name for the storage system</paragraph>
                        </entry>
                    </row>
                </tbody>
            </tgroup>
        </table>
    </section>
</document>
