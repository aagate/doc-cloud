<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.13.1 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/cinder/doc/source/configuration/block-storage/drivers/synology-dsm-driver.rst">
    <section ids="synology-dsm-volume-driver" names="synology\ dsm\ volume\ driver">
        <title>Synology DSM volume driver</title>
        <paragraph>The <literal>SynoISCSIDriver</literal> volume driver allows Synology NAS to be used for Block
            Storage (cinder) in OpenStack deployments. Information on OpenStack Block
            Storage volumes is available in the DSM Storage Manager.</paragraph>
        <section ids="system-requirements" names="system\ requirements">
            <title>System requirements</title>
            <paragraph>The Synology driver has the following requirements:</paragraph>
            <bullet_list bullet="*">
                <list_item>
                    <paragraph>DSM version 6.0.2 or later.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Your Synology NAS model must support advanced file LUN, iSCSI Target, and
                        snapshot features. Refer to the <reference name="Support List for applied models" refuri="https://www.synology.com/en-global/dsm/6.0/iSCSI_virtualization#OpenStack">Support List for applied models</reference><target ids="support-list-for-applied-models" names="support\ list\ for\ applied\ models" refuri="https://www.synology.com/en-global/dsm/6.0/iSCSI_virtualization#OpenStack"></target>.</paragraph>
                </list_item>
            </bullet_list>
            <note>
                <paragraph>The DSM driver is available in the OpenStack Newton release.</paragraph>
            </note>
        </section>
        <section ids="supported-operations" names="supported\ operations">
            <title>Supported operations</title>
            <bullet_list bullet="*">
                <list_item>
                    <paragraph>Create, delete, clone, attach, and detach volumes.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Create and delete volume snapshots.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Create a volume from a snapshot.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Copy an image to a volume.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Copy a volume to an image.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Extend a volume.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Get volume statistics.</paragraph>
                </list_item>
            </bullet_list>
        </section>
        <section ids="driver-configuration" names="driver\ configuration">
            <title>Driver configuration</title>
            <paragraph>Edit the <literal>/etc/cinder/cinder.conf</literal> file on your volume driver host.</paragraph>
            <paragraph>Synology driver uses a volume in Synology NAS as the back end of Block Storage.
                Every time you create a new Block Storage volume, the system will create an
                advanced file LUN in your Synology volume to be used for this new Block Storage
                volume.</paragraph>
            <paragraph>The following example shows how to use different Synology NAS servers as the
                back end. If you want to use all volumes on your Synology NAS, add another
                section with the volume number to differentiate between volumes within the same
                Synology NAS.</paragraph>
            <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">[default]
enabled_backends = ds1515pV1, ds1515pV2, rs3017xsV3, others

[ds1515pV1]
# configuration for volume 1 in DS1515+

[ds1515pV2]
# configuration for volume 2 in DS1515+

[rs3017xsV1]
# configuration for volume 1 in RS3017xs</literal_block>
            <paragraph>Each section indicates the volume number and the way in which the connection is
                established. Below is an example of a basic configuration:</paragraph>
            <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">[Your_Section_Name]

# Required settings
volume_driver = cinder.volume.drivers.synology.synology_iscsi.SynoISCSIDriver
iscs_protocol = iscsi
iscsi_ip_address = DS_IP
synology_admin_port = DS_PORT
synology_username = DS_USER
synology_password = DS_PW
synology_pool_name = DS_VOLUME

# Optional settings
volume_backend_name = VOLUME_BACKEND_NAME
iscsi_secondary_ip_addresses = IP_ADDRESSES
driver_use_ssl = True
use_chap_auth = True
chap_username = CHAP_USER_NAME
chap_password = CHAP_PASSWORD</literal_block>
            <definition_list>
                <definition_list_item>
                    <term><literal>DS_PORT</literal></term>
                    <definition>
                        <paragraph>This is the port for DSM management. The default value for DSM is 5000
                            (HTTP) and 5001 (HTTPS). To use HTTPS connections, you must set
                            <literal>driver_use_ssl = True</literal>.</paragraph>
                    </definition>
                </definition_list_item>
                <definition_list_item>
                    <term><literal>DS_IP</literal></term>
                    <definition>
                        <paragraph>This is the IP address of your Synology NAS.</paragraph>
                    </definition>
                </definition_list_item>
                <definition_list_item>
                    <term><literal>DS_USER</literal></term>
                    <definition>
                        <paragraph>This is the account of any DSM administrator.</paragraph>
                    </definition>
                </definition_list_item>
                <definition_list_item>
                    <term><literal>DS_PW</literal></term>
                    <definition>
                        <paragraph>This is the password for <literal>DS_USER</literal>.</paragraph>
                    </definition>
                </definition_list_item>
                <definition_list_item>
                    <term><literal>DS_VOLUME</literal></term>
                    <definition>
                        <paragraph>This is the volume you want to use as the storage pool for the Block
                            Storage service. The format is <literal>volume[0-9]+</literal>, and the number is the same
                            as the volume number in DSM.</paragraph>
                    </definition>
                </definition_list_item>
            </definition_list>
            <note>
                <paragraph>If you set <literal>driver_use_ssl</literal> as <literal>True</literal>, <literal>synology_admin_port</literal> must be
                    an HTTPS port.</paragraph>
            </note>
        </section>
        <section ids="configuration-options" names="configuration\ options">
            <title>Configuration options</title>
            <paragraph>The Synology DSM driver supports the following configuration options:</paragraph>
            <comment xml:space="preserve">Warning: Do not edit this file. It is automatically generated from the
software project's code and your changes will be overwritten.

The tool to generate this file lives in openstack-doc-tools repository.

Please make any changes needed in the code, then run the
autogenerate-config-doc tool from the openstack-doc-tools repository, or
ask for help on the documentation mailing list, IRC channel or meeting.</comment>
            <target refid="cinder-synology"></target>
            <table classes="config-ref-table" ids="id1 cinder-synology" names="cinder-synology">
                <title>Description of Synology volume driver configuration options</title>
                <tgroup cols="2">
                    <colspec colwidth="50"></colspec>
                    <colspec colwidth="50"></colspec>
                    <thead>
                        <row>
                            <entry>
                                <paragraph>Configuration option = Default value</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Description</paragraph>
                            </entry>
                        </row>
                    </thead>
                    <tbody>
                        <row>
                            <entry>
                                <paragraph><strong>[DEFAULT]</strong></paragraph>
                            </entry>
                            <entry>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>synology_admin_port</literal> = <literal>5000</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(Port number) Management port for Synology storage.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>synology_device_id</literal> = <literal>None</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(String) Device id for skip one time password check for logging in Synology storage if OTP is enabled.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>synology_one_time_pass</literal> = <literal>None</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(String) One time password of administrator for logging in Synology storage if OTP is enabled.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>synology_password</literal> =</paragraph>
                            </entry>
                            <entry>
                                <paragraph>(String) Password of administrator for logging in Synology storage.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>synology_pool_name</literal> =</paragraph>
                            </entry>
                            <entry>
                                <paragraph>(String) Volume on Synology storage to be used for creating lun.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>synology_ssl_verify</literal> = <literal>True</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(Boolean) Do certificate validation or not if $driver_use_ssl is True</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>synology_username</literal> = <literal>admin</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(String) Administrator of Synology storage.</paragraph>
                            </entry>
                        </row>
                    </tbody>
                </tgroup>
            </table>
        </section>
    </section>
</document>
