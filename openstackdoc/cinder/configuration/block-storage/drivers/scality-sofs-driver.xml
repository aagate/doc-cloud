<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.13.1 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/cinder/doc/source/configuration/block-storage/drivers/scality-sofs-driver.rst">
    <section ids="scality-sofs-driver" names="scality\ sofs\ driver">
        <title>Scality SOFS driver</title>
        <paragraph>The Scality SOFS volume driver interacts with configured sfused mounts.</paragraph>
        <paragraph>The Scality SOFS driver manages volumes as sparse files stored on a
            Scality Ring through sfused. Ring connection settings and sfused options
            are defined in the <literal>cinder.conf</literal> file and the configuration file
            pointed to by the <literal>scality_sofs_config</literal> option, typically
            <literal>/etc/sfused.conf</literal>.</paragraph>
        <section ids="supported-operations" names="supported\ operations">
            <title>Supported operations</title>
            <paragraph>The Scality SOFS volume driver provides the following Block Storage
                volume operations:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>Create, delete, attach (map), and detach (unmap) volumes.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Create, list, and delete volume snapshots.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Create a volume from a snapshot.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Copy an image to a volume.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Copy a volume to an image.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Clone a volume.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Extend a volume.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Backup a volume.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Restore backup to new or existing volume.</paragraph>
                </list_item>
            </bullet_list>
        </section>
        <section ids="configuration" names="configuration">
            <title>Configuration</title>
            <paragraph>Use the following instructions to update the <literal>cinder.conf</literal>
                configuration file:</paragraph>
            <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">[DEFAULT]
enabled_backends = scality-1

[scality-1]
volume_driver = cinder.volume.drivers.scality.ScalityDriver
volume_backend_name = scality-1

scality_sofs_config = /etc/sfused.conf
scality_sofs_mount_point = /cinder
scality_sofs_volume_dir = cinder/volumes</literal_block>
        </section>
        <section ids="compute-configuration" names="compute\ configuration">
            <title>Compute configuration</title>
            <paragraph>Use the following instructions to update the <literal>nova.conf</literal> configuration
                file:</paragraph>
            <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">[libvirt]
scality_sofs_mount_point = /cinder
scality_sofs_config = /etc/sfused.conf</literal_block>
            <comment xml:space="preserve">Warning: Do not edit this file. It is automatically generated from the
software project's code and your changes will be overwritten.

The tool to generate this file lives in openstack-doc-tools repository.

Please make any changes needed in the code, then run the
autogenerate-config-doc tool from the openstack-doc-tools repository, or
ask for help on the documentation mailing list, IRC channel or meeting.</comment>
            <target refid="cinder-scality"></target>
            <table classes="config-ref-table" ids="id1 cinder-scality" names="cinder-scality">
                <title>Description of Scality SOFS volume driver configuration options</title>
                <tgroup cols="2">
                    <colspec colwidth="50"></colspec>
                    <colspec colwidth="50"></colspec>
                    <thead>
                        <row>
                            <entry>
                                <paragraph>Configuration option = Default value</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Description</paragraph>
                            </entry>
                        </row>
                    </thead>
                    <tbody>
                        <row>
                            <entry>
                                <paragraph><strong>[DEFAULT]</strong></paragraph>
                            </entry>
                            <entry>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>scality_sofs_config</literal> = <literal>None</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(String) Path or URL to Scality SOFS configuration file</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>scality_sofs_mount_point</literal> = <literal>$state_path/scality</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(String) Base dir where Scality SOFS shall be mounted</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>scality_sofs_volume_dir</literal> = <literal>cinder/volumes</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(String) Path from Scality SOFS root to volume dir</paragraph>
                            </entry>
                        </row>
                    </tbody>
                </tgroup>
            </table>
        </section>
    </section>
</document>
