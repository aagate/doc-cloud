<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.13.1 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/cinder/doc/source/configuration/block-storage/drivers/nimble-volume-driver.rst">
    <section ids="nimble-storage-volume-driver" names="nimble\ storage\ volume\ driver">
        <title>Nimble Storage volume driver</title>
        <paragraph>Nimble Storage fully integrates with the OpenStack platform through
            the Nimble Cinder driver, allowing a host to configure and manage Nimble
            Storage array features through Block Storage interfaces.</paragraph>
        <paragraph>Support for iSCSI storage protocol is available with NimbleISCSIDriver
            Volume Driver class and Fibre Channel with NimbleFCDriver.</paragraph>
        <paragraph>Support for the Liberty release and above is available from Nimble OS
            2.3.8 or later.</paragraph>
        <section ids="supported-operations" names="supported\ operations">
            <title>Supported operations</title>
            <bullet_list bullet="*">
                <list_item>
                    <paragraph>Create, delete, clone, attach, and detach volumes</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Create and delete volume snapshots</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Create a volume from a snapshot</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Copy an image to a volume</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Copy a volume to an image</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Extend a volume</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Get volume statistics</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Manage and unmanage a volume</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Enable encryption and default performance policy for a volume-type
                        extra-specs</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Force backup of an in-use volume.</paragraph>
                </list_item>
            </bullet_list>
        </section>
        <section ids="nimble-storage-driver-configuration" names="nimble\ storage\ driver\ configuration">
            <title>Nimble Storage driver configuration</title>
            <paragraph>Update the file <literal>/etc/cinder/cinder.conf</literal> with the given configuration.</paragraph>
            <paragraph>In case of a basic (single back-end) configuration, add the parameters
                within the <literal>[default]</literal> section as follows.</paragraph>
            <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">[default]
san_ip = NIMBLE_MGMT_IP
san_login = NIMBLE_USER
san_password = NIMBLE_PASSWORD
use_multipath_for_image_xfer = True
volume_driver = NIMBLE_VOLUME_DRIVER</literal_block>
            <paragraph>In case of multiple back-end configuration, for example, configuration
                which supports multiple Nimble Storage arrays or a single Nimble Storage
                array with arrays from other vendors, use the following parameters.</paragraph>
            <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">[default]
enabled_backends = Nimble-Cinder

[Nimble-Cinder]
san_ip = NIMBLE_MGMT_IP
san_login = NIMBLE_USER
san_password = NIMBLE_PASSWORD
use_multipath_for_image_xfer = True
volume_driver = NIMBLE_VOLUME_DRIVER
volume_backend_name = NIMBLE_BACKEND_NAME</literal_block>
            <paragraph>In case of multiple back-end configuration, Nimble Storage volume type
                is created and associated with a back-end name as follows.</paragraph>
            <note>
                <paragraph>Single back-end configuration users do not need to create the volume type.</paragraph>
            </note>
            <literal_block highlight_args="{}" language="console" linenos="False" xml:space="preserve">$ openstack volume type create NIMBLE_VOLUME_TYPE
$ openstack volume type set --property volume_backend_name=NIMBLE_BACKEND_NAME NIMBLE_VOLUME_TYPE</literal_block>
            <paragraph>This section explains the variables used above:</paragraph>
            <definition_list>
                <definition_list_item>
                    <term>NIMBLE_MGMT_IP</term>
                    <definition>
                        <paragraph>Management IP address of Nimble Storage array/group.</paragraph>
                    </definition>
                </definition_list_item>
                <definition_list_item>
                    <term>NIMBLE_USER</term>
                    <definition>
                        <paragraph>Nimble Storage account login with minimum <literal>power user</literal> (admin) privilege
                            if RBAC is used.</paragraph>
                    </definition>
                </definition_list_item>
                <definition_list_item>
                    <term>NIMBLE_PASSWORD</term>
                    <definition>
                        <paragraph>Password of the admin account for nimble array.</paragraph>
                    </definition>
                </definition_list_item>
                <definition_list_item>
                    <term>NIMBLE_VOLUME_DRIVER</term>
                    <definition>
                        <paragraph>Use either cinder.volume.drivers.nimble.NimbleISCSIDriver for iSCSI or
                            cinder.volume.drivers.nimble.NimbleFCDriver for Fibre Channel.</paragraph>
                    </definition>
                </definition_list_item>
                <definition_list_item>
                    <term>NIMBLE_BACKEND_NAME</term>
                    <definition>
                        <paragraph>A volume back-end name which is specified in the <literal>cinder.conf</literal> file.
                            This is also used while assigning a back-end name to the Nimble volume type.</paragraph>
                    </definition>
                </definition_list_item>
                <definition_list_item>
                    <term>NIMBLE_VOLUME_TYPE</term>
                    <definition>
                        <paragraph>The Nimble volume-type which is created from the CLI and associated with
                            <literal>NIMBLE_BACKEND_NAME</literal>.</paragraph>
                        <note>
                            <paragraph>Restart the <literal>cinder-api</literal>, <literal>cinder-scheduler</literal>, and <literal>cinder-volume</literal>
                                services after updating the <literal>cinder.conf</literal> file.</paragraph>
                        </note>
                    </definition>
                </definition_list_item>
            </definition_list>
        </section>
        <section ids="nimble-driver-extra-spec-options" names="nimble\ driver\ extra\ spec\ options">
            <title>Nimble driver extra spec options</title>
            <paragraph>The Nimble volume driver also supports the following extra spec options:</paragraph>
            <definition_list>
                <definition_list_item>
                    <term>‘nimble:encryption’=’yes’</term>
                    <definition>
                        <paragraph>Used to enable encryption for a volume-type.</paragraph>
                    </definition>
                </definition_list_item>
                <definition_list_item>
                    <term>‘nimble:perfpol-name’=PERF_POL_NAME</term>
                    <definition>
                        <paragraph>PERF_POL_NAME is the name of a performance policy which exists on the
                            Nimble array and should be enabled for every volume in a volume type.</paragraph>
                    </definition>
                </definition_list_item>
                <definition_list_item>
                    <term>‘nimble:multi-initiator’=’true’</term>
                    <definition>
                        <paragraph>Used to enable multi-initiator access for a volume-type.</paragraph>
                    </definition>
                </definition_list_item>
            </definition_list>
            <paragraph>These extra-specs can be enabled by using the following command:</paragraph>
            <literal_block highlight_args="{}" language="console" linenos="False" xml:space="preserve">$ openstack volume type set --property KEY=VALUE VOLUME_TYPE</literal_block>
            <paragraph><literal>VOLUME_TYPE</literal> is the Nimble volume type and <literal>KEY</literal> and <literal>VALUE</literal> are
                the options mentioned above.</paragraph>
        </section>
        <section ids="configuration-options" names="configuration\ options">
            <title>Configuration options</title>
            <paragraph>The Nimble storage driver supports these configuration options:</paragraph>
            <comment xml:space="preserve">Warning: Do not edit this file. It is automatically generated from the
software project's code and your changes will be overwritten.

The tool to generate this file lives in openstack-doc-tools repository.

Please make any changes needed in the code, then run the
autogenerate-config-doc tool from the openstack-doc-tools repository, or
ask for help on the documentation mailing list, IRC channel or meeting.</comment>
            <target refid="cinder-nimble"></target>
            <table classes="config-ref-table" ids="id1 cinder-nimble" names="cinder-nimble">
                <title>Description of Nimble driver configuration options</title>
                <tgroup cols="2">
                    <colspec colwidth="50"></colspec>
                    <colspec colwidth="50"></colspec>
                    <thead>
                        <row>
                            <entry>
                                <paragraph>Configuration option = Default value</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Description</paragraph>
                            </entry>
                        </row>
                    </thead>
                    <tbody>
                        <row>
                            <entry>
                                <paragraph><strong>[DEFAULT]</strong></paragraph>
                            </entry>
                            <entry>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>nimble_pool_name</literal> = <literal>default</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(String) Nimble Controller pool name</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>nimble_subnet_label</literal> = <literal>*</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(String) Nimble Subnet Label</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>nimble_verify_cert_path</literal> = <literal>None</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(String) Path to Nimble Array SSL certificate</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>nimble_verify_certificate</literal> = <literal>False</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(String) Whether to verify Nimble SSL Certificate</paragraph>
                            </entry>
                        </row>
                    </tbody>
                </tgroup>
            </table>
        </section>
    </section>
</document>
