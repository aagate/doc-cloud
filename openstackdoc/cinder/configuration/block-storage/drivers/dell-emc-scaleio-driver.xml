<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.13.1 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/cinder/doc/source/configuration/block-storage/drivers/dell-emc-scaleio-driver.rst">
    <section ids="dell-emc-scaleio-block-storage-driver" names="dell\ emc\ scaleio\ block\ storage\ driver">
        <title>Dell EMC ScaleIO Block Storage driver</title>
        <paragraph>ScaleIO is a software-only solution that uses existing servers’ local
            disks and LAN to create a virtual SAN that has all of the benefits of
            external storage, but at a fraction of the cost and complexity. Using the
            driver, Block Storage hosts can connect to a ScaleIO Storage
            cluster.</paragraph>
        <paragraph>This section explains how to configure and connect the block storage
            nodes to a ScaleIO storage cluster.</paragraph>
        <section ids="support-matrix" names="support\ matrix">
            <title>Support matrix</title>
            <table classes="colwidths-given">
                <tgroup cols="2">
                    <colspec colwidth="10"></colspec>
                    <colspec colwidth="25"></colspec>
                    <thead>
                        <row>
                            <entry>
                                <paragraph>ScaleIO version</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Supported Linux operating systems</paragraph>
                            </entry>
                        </row>
                    </thead>
                    <tbody>
                        <row>
                            <entry>
                                <paragraph>2.0</paragraph>
                            </entry>
                            <entry>
                                <paragraph>CentOS 6.x, CentOS 7.x, SLES 11 SP3, SLES 12, Ubuntu 14.04, Ubuntu 16.04</paragraph>
                            </entry>
                        </row>
                    </tbody>
                </tgroup>
            </table>
        </section>
        <section ids="deployment-prerequisites" names="deployment\ prerequisites">
            <title>Deployment prerequisites</title>
            <bullet_list bullet="*">
                <list_item>
                    <paragraph>ScaleIO Gateway must be installed and accessible in the network.
                        For installation steps, refer to the Preparing the installation Manager
                        and the Gateway section in ScaleIO Deployment Guide. See
                        <reference internal="True" refid="scale-io-docs"><inline classes="std std-ref">Official documentation</inline></reference>.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>ScaleIO Data Client (SDC) must be installed on all OpenStack nodes.</paragraph>
                </list_item>
            </bullet_list>
            <note>
                <paragraph>Ubuntu users must follow the specific instructions in the ScaleIO
                    deployment guide for Ubuntu environments. See the Deploying on
                    Ubuntu servers section in ScaleIO Deployment Guide. See
                    <reference internal="True" refid="scale-io-docs"><inline classes="std std-ref">Official documentation</inline></reference>.</paragraph>
            </note>
            <target refid="scale-io-docs"></target>
            <section ids="official-documentation scale-io-docs" names="official\ documentation scale_io_docs">
                <title>Official documentation</title>
                <paragraph>To find the ScaleIO documentation:</paragraph>
                <enumerated_list enumtype="arabic" prefix="" suffix=".">
                    <list_item>
                        <paragraph>Go to the <reference name="ScaleIO product documentation page" refuri="https://support.emc.com/products/33925_ScaleIO/Documentation/?source=promotion">ScaleIO product documentation page</reference><target ids="scaleio-product-documentation-page" names="scaleio\ product\ documentation\ page" refuri="https://support.emc.com/products/33925_ScaleIO/Documentation/?source=promotion"></target>.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>From the left-side panel, select the relevant version.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Search for “ScaleIO 2.0 Deployment Guide”.</paragraph>
                    </list_item>
                </enumerated_list>
            </section>
        </section>
        <section ids="supported-operations" names="supported\ operations">
            <title>Supported operations</title>
            <bullet_list bullet="*">
                <list_item>
                    <paragraph>Create, delete, clone, attach, detach, manage, and unmanage volumes</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Create, delete, manage, and unmanage volume snapshots</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Create a volume from a snapshot</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Copy an image to a volume</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Copy a volume to an image</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Extend a volume</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Get volume statistics</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Create, list, update, and delete consistency groups</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Create, list, update, and delete consistency group snapshots</paragraph>
                </list_item>
            </bullet_list>
        </section>
        <section ids="scaleio-qos-support" names="scaleio\ qos\ support">
            <title>ScaleIO QoS support</title>
            <paragraph>QoS support for the ScaleIO driver includes the ability to set the
                following capabilities in the Block Storage API
                <literal>cinder.api.contrib.qos_specs_manage</literal> QoS specs extension module:</paragraph>
            <bullet_list bullet="*">
                <list_item>
                    <paragraph><literal>maxIOPS</literal></paragraph>
                </list_item>
                <list_item>
                    <paragraph><literal>maxIOPSperGB</literal></paragraph>
                </list_item>
                <list_item>
                    <paragraph><literal>maxBWS</literal></paragraph>
                </list_item>
                <list_item>
                    <paragraph><literal>maxBWSperGB</literal></paragraph>
                </list_item>
            </bullet_list>
            <paragraph>The QoS keys above must be created and associated with a volume type.
                For information about how to set the key-value pairs and associate
                them with a volume type, run the following commands:</paragraph>
            <literal_block highlight_args="{}" language="console" linenos="False" xml:space="preserve">$ openstack help volume qos</literal_block>
            <definition_list>
                <definition_list_item>
                    <term><literal>maxIOPS</literal></term>
                    <definition>
                        <paragraph>The QoS I/O rate limit. If not set, the I/O rate will be unlimited.
                            The setting must be larger than 10.</paragraph>
                    </definition>
                </definition_list_item>
                <definition_list_item>
                    <term><literal>maxIOPSperGB</literal></term>
                    <definition>
                        <paragraph>The QoS I/O rate limit.
                            The limit will be calculated by the specified value multiplied by
                            the volume size.
                            The setting must be larger than 10.</paragraph>
                    </definition>
                </definition_list_item>
                <definition_list_item>
                    <term><literal>maxBWS</literal></term>
                    <definition>
                        <paragraph>The QoS I/O bandwidth rate limit in KBs. If not set, the I/O
                            bandwidth rate will be unlimited. The setting must be a multiple of 1024.</paragraph>
                    </definition>
                </definition_list_item>
                <definition_list_item>
                    <term><literal>maxBWSperGB</literal></term>
                    <definition>
                        <paragraph>The QoS I/O bandwidth rate limit in KBs.
                            The limit will be calculated by the specified value multiplied by
                            the volume size.
                            The setting must be a multiple of 1024.</paragraph>
                    </definition>
                </definition_list_item>
            </definition_list>
            <paragraph>The driver always chooses the minimum between the QoS keys value
                and the relevant calculated value of <literal>maxIOPSperGB</literal> or <literal>maxBWSperGB</literal>.</paragraph>
            <paragraph>Since the limits are per SDC, they will be applied after the volume
                is attached to an instance, and thus to a compute node/SDC.</paragraph>
        </section>
        <section ids="scaleio-thin-provisioning-support" names="scaleio\ thin\ provisioning\ support">
            <title>ScaleIO thin provisioning support</title>
            <paragraph>The Block Storage driver supports creation of thin-provisioned and
                thick-provisioned volumes.
                The provisioning type settings can be added as an extra specification
                of the volume type, as follows:</paragraph>
            <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">provisioning:type = thin\thick</literal_block>
            <paragraph>The old specification: <literal>sio:provisioning_type</literal> is deprecated.</paragraph>
            <section ids="oversubscription" names="oversubscription">
                <title>Oversubscription</title>
                <paragraph>Configure the oversubscription ratio by adding the following parameter
                    under the separate section for ScaleIO:</paragraph>
                <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">sio_max_over_subscription_ratio = OVER_SUBSCRIPTION_RATIO</literal_block>
                <note>
                    <paragraph>The default value for <literal>sio_max_over_subscription_ratio</literal>
                        is 10.0.</paragraph>
                </note>
                <paragraph>Oversubscription is calculated correctly by the Block Storage service
                    only if the extra specification <literal>provisioning:type</literal>
                    appears in the volume type regardless to the default provisioning type.
                    Maximum oversubscription value supported for ScaleIO is 10.0.</paragraph>
            </section>
            <section ids="default-provisioning-type" names="default\ provisioning\ type">
                <title>Default provisioning type</title>
                <paragraph>If provisioning type settings are not specified in the volume type,
                    the default value is set according to the <literal>san_thin_provision</literal>
                    option in the configuration file. The default provisioning type
                    will be <literal>thin</literal> if the option is not specified in the configuration
                    file. To set the default provisioning type <literal>thick</literal>, set
                    the <literal>san_thin_provision</literal> option to <literal>false</literal>
                    in the configuration file, as follows:</paragraph>
                <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">san_thin_provision = false</literal_block>
                <paragraph>The configuration file is usually located in
                    <literal>/etc/cinder/cinder.conf</literal>.
                    For a configuration example, see:
                    <reference internal="True" refid="cg-configuration-example-emc"><inline classes="std std-ref">cinder.conf</inline></reference>.</paragraph>
            </section>
        </section>
        <section ids="scaleio-block-storage-driver-configuration" names="scaleio\ block\ storage\ driver\ configuration">
            <title>ScaleIO Block Storage driver configuration</title>
            <paragraph>Edit the <literal>cinder.conf</literal> file by adding the configuration below under
                a new section (for example, <literal>[scaleio]</literal>) and change the <literal>enable_backends</literal>
                setting (in the <literal>[DEFAULT]</literal> section) to include this new back end.
                The configuration file is usually located at
                <literal>/etc/cinder/cinder.conf</literal>.</paragraph>
            <paragraph>For a configuration example, refer to the example
                <reference internal="True" refid="cg-configuration-example-emc"><inline classes="std std-ref">cinder.conf</inline></reference> .</paragraph>
            <section ids="scaleio-driver-name" names="scaleio\ driver\ name">
                <title>ScaleIO driver name</title>
                <paragraph>Configure the driver name by adding the following parameter:</paragraph>
                <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">volume_driver = cinder.volume.drivers.dell_emc.scaleio.driver.ScaleIODriver</literal_block>
            </section>
            <section ids="scaleio-gateway-server-ip" names="scaleio\ gateway\ server\ ip">
                <title>ScaleIO Gateway server IP</title>
                <paragraph>The ScaleIO Gateway provides a REST interface to ScaleIO.</paragraph>
                <paragraph>Configure the Gateway server IP address by adding the following parameter:</paragraph>
                <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">san_ip = ScaleIO GATEWAY IP</literal_block>
            </section>
            <section ids="scaleio-storage-pools" names="scaleio\ storage\ pools">
                <title>ScaleIO Storage Pools</title>
                <paragraph>Multiple Storage Pools and Protection Domains can be listed for use by
                    the virtual machines. The list should include every Protection Domain and
                    Storage Pool pair that you would like Cinder to utilize.</paragraph>
                <paragraph>To retrieve the available Storage Pools, use the command
                    <literal_strong classes="command">scli --query_all</literal_strong> and search for available Storage Pools.</paragraph>
                <paragraph>Configure the available Storage Pools by adding the following parameter:</paragraph>
                <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">sio_storage_pools = Comma-separated list of protection domain:storage pool name</literal_block>
            </section>
            <section ids="scaleio-user-credentials" names="scaleio\ user\ credentials">
                <title>ScaleIO user credentials</title>
                <paragraph>Block Storage requires a ScaleIO user with administrative
                    privileges. ScaleIO recommends creating a dedicated OpenStack user
                    account that has an administrative user role.</paragraph>
                <paragraph>Refer to the ScaleIO User Guide for details on user account management.</paragraph>
                <paragraph>Configure the user credentials by adding the following parameters:</paragraph>
                <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">san_login = ScaleIO username

san_password = ScaleIO password</literal_block>
            </section>
        </section>
        <section ids="multiple-back-ends" names="multiple\ back\ ends">
            <title>Multiple back ends</title>
            <paragraph>Configuring multiple storage back ends allows you to create several back-end
                storage solutions that serve the same Compute resources.</paragraph>
            <paragraph>When a volume is created, the scheduler selects the appropriate back end
                to handle the request, according to the specified volume type.</paragraph>
            <target refid="cg-configuration-example-emc"></target>
        </section>
        <section ids="configuration-example cg-configuration-example-emc" names="configuration\ example cg_configuration_example_emc">
            <title>Configuration example</title>
            <paragraph><strong>cinder.conf example file</strong></paragraph>
            <paragraph>You can update the <literal>cinder.conf</literal> file by editing the necessary
                parameters as follows:</paragraph>
            <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">[Default]
enabled_backends = scaleio

[scaleio]
volume_driver = cinder.volume.drivers.dell_emc.scaleio.driver.ScaleIODriver
volume_backend_name = scaleio
san_ip = GATEWAY_IP
sio_storage_pools = Domain1:Pool1,Domain2:Pool2
san_login = SIO_USER
san_password = SIO_PASSWD
san_thin_provision = false</literal_block>
        </section>
        <section ids="configuration-options" names="configuration\ options">
            <title>Configuration options</title>
            <paragraph>The ScaleIO driver supports these configuration options:</paragraph>
            <comment xml:space="preserve">Warning: Do not edit this file. It is automatically generated from the
software project's code and your changes will be overwritten.

The tool to generate this file lives in openstack-doc-tools repository.

Please make any changes needed in the code, then run the
autogenerate-config-doc tool from the openstack-doc-tools repository, or
ask for help on the documentation mailing list, IRC channel or meeting.</comment>
            <target refid="cinder-emc-sio"></target>
            <table classes="config-ref-table" ids="id1 cinder-emc-sio" names="cinder-emc_sio">
                <title>Description of EMC SIO volume driver configuration options</title>
                <tgroup cols="2">
                    <colspec colwidth="50"></colspec>
                    <colspec colwidth="50"></colspec>
                    <thead>
                        <row>
                            <entry>
                                <paragraph>Configuration option = Default value</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Description</paragraph>
                            </entry>
                        </row>
                    </thead>
                    <tbody>
                        <row>
                            <entry>
                                <paragraph><strong>[DEFAULT]</strong></paragraph>
                            </entry>
                            <entry>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>sio_max_over_subscription_ratio</literal> = <literal>10.0</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(Floating point) max_over_subscription_ratio setting for the ScaleIO driver. This replaces the general max_over_subscription_ratio which has no effect in this driver.Maximum value allowed for ScaleIO is 10.0.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>sio_protection_domain_id</literal> = <literal>None</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(String) Protection Domain ID.</paragraph>
                                <bullet_list bullet="-">
                                    <list_item>
                                        <paragraph><strong>Deprecated</strong></paragraph>
                                        <paragraph>Replaced by sio_storage_pools option</paragraph>
                                    </list_item>
                                </bullet_list>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>sio_protection_domain_name</literal> = <literal>None</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(String) Protection Domain name.</paragraph>
                                <bullet_list bullet="-">
                                    <list_item>
                                        <paragraph><strong>Deprecated</strong></paragraph>
                                        <paragraph>Replaced by sio_storage_pools option</paragraph>
                                    </list_item>
                                </bullet_list>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>sio_rest_server_port</literal> = <literal>443</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(String) REST server port.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>sio_round_volume_capacity</literal> = <literal>True</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(Boolean) Round up volume capacity.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>sio_server_certificate_path</literal> = <literal>None</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(String) Server certificate path.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>sio_storage_pool_id</literal> = <literal>None</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(String) Storage Pool ID.</paragraph>
                                <bullet_list bullet="-">
                                    <list_item>
                                        <paragraph><strong>Deprecated</strong></paragraph>
                                        <paragraph>Replaced by sio_storage_pools option</paragraph>
                                    </list_item>
                                </bullet_list>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>sio_storage_pool_name</literal> = <literal>None</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(String) Storage Pool name.</paragraph>
                                <bullet_list bullet="-">
                                    <list_item>
                                        <paragraph><strong>Deprecated</strong></paragraph>
                                        <paragraph>Replaced by sio_storage_pools option</paragraph>
                                    </list_item>
                                </bullet_list>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>sio_storage_pools</literal> = <literal>None</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(String) Storage Pools.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>sio_unmap_volume_before_deletion</literal> = <literal>False</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(Boolean) Unmap volume before deletion.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>sio_verify_server_certificate</literal> = <literal>False</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(Boolean) Verify server certificate.</paragraph>
                            </entry>
                        </row>
                    </tbody>
                </tgroup>
            </table>
        </section>
    </section>
</document>
