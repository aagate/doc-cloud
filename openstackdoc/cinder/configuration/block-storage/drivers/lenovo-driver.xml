<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.13.1 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/cinder/doc/source/configuration/block-storage/drivers/lenovo-driver.rst">
    <section ids="lenovo-fibre-channel-and-iscsi-drivers" names="lenovo\ fibre\ channel\ and\ iscsi\ drivers">
        <title>Lenovo Fibre Channel and iSCSI drivers</title>
        <paragraph>The <literal>LenovoFCDriver</literal> and <literal>LenovoISCSIDriver</literal> Cinder drivers allow
            Lenovo S3200 or S2200 arrays to be used for block storage in OpenStack
            deployments.</paragraph>
        <section ids="system-requirements" names="system\ requirements">
            <title>System requirements</title>
            <paragraph>To use the Lenovo drivers, the following are required:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>Lenovo S3200 or S2200 array with:</paragraph>
                    <bullet_list bullet="-">
                        <list_item>
                            <paragraph>iSCSI or FC host interfaces</paragraph>
                        </list_item>
                        <list_item>
                            <paragraph>G22x firmware or later</paragraph>
                        </list_item>
                    </bullet_list>
                </list_item>
                <list_item>
                    <paragraph>Network connectivity between the OpenStack host and the array
                        management interfaces</paragraph>
                </list_item>
                <list_item>
                    <paragraph>HTTPS or HTTP must be enabled on the array</paragraph>
                </list_item>
            </bullet_list>
        </section>
        <section ids="supported-operations" names="supported\ operations">
            <title>Supported operations</title>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>Create, delete, attach, and detach volumes.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Create, list, and delete volume snapshots.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Create a volume from a snapshot.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Copy an image to a volume.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Copy a volume to an image.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Clone a volume.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Extend a volume.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Migrate a volume with back-end assistance.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Retype a volume.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Manage and unmanage a volume.</paragraph>
                </list_item>
            </bullet_list>
        </section>
        <section ids="configuring-the-array" names="configuring\ the\ array">
            <title>Configuring the array</title>
            <enumerated_list enumtype="arabic" prefix="" suffix=".">
                <list_item>
                    <paragraph>Verify that the array can be managed using an HTTPS connection. HTTP can
                        also be used if <literal>lenovo_api_protocol=http</literal> is placed into the
                        appropriate sections of the <literal>cinder.conf</literal> file.</paragraph>
                    <paragraph>Confirm that virtual pools A and B are present if you plan to use
                        virtual pools for OpenStack storage.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Edit the <literal>cinder.conf</literal> file to define a storage back-end entry for
                        each storage pool on the array that will be managed by OpenStack. Each
                        entry consists of a unique section name, surrounded by square brackets,
                        followed by options specified in <literal>key=value</literal> format.</paragraph>
                    <bullet_list bullet="-">
                        <list_item>
                            <paragraph>The <literal>lenovo_backend_name</literal> value specifies the name of the storage
                                pool on the array.</paragraph>
                        </list_item>
                        <list_item>
                            <paragraph>The <literal>volume_backend_name</literal> option value can be a unique value, if
                                you wish to be able to assign volumes to a specific storage pool on
                                the array, or a name thatâ€™s shared among multiple storage pools to
                                let the volume scheduler choose where new volumes are allocated.</paragraph>
                        </list_item>
                        <list_item>
                            <paragraph>The rest of the options will be repeated for each storage pool in a
                                given array: the appropriate Cinder driver name; IP address or
                                host name of the array management interface; the username and password
                                of an array user account with <literal>manage</literal> privileges; and the iSCSI IP
                                addresses for the array if using the iSCSI transport protocol.</paragraph>
                        </list_item>
                    </bullet_list>
                    <paragraph>In the examples below, two back ends are defined, one for pool A and one
                        for pool B, and a common <literal>volume_backend_name</literal> is used so that a
                        single volume type definition can be used to allocate volumes from both
                        pools.</paragraph>
                    <paragraph><strong>Example: iSCSI example back-end entries</strong></paragraph>
                    <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">[pool-a]
lenovo_backend_name = A
volume_backend_name = lenovo-array
volume_driver = cinder.volume.drivers.lenovo.lenovo_iscsi.LenovoISCSIDriver
san_ip = 10.1.2.3
san_login = manage
san_password = !manage
lenovo_iscsi_ips = 10.2.3.4,10.2.3.5

[pool-b]
lenovo_backend_name = B
volume_backend_name = lenovo-array
volume_driver = cinder.volume.drivers.lenovo.lenovo_iscsi.LenovoISCSIDriver
san_ip = 10.1.2.3
san_login = manage
san_password = !manage
lenovo_iscsi_ips = 10.2.3.4,10.2.3.5</literal_block>
                    <paragraph><strong>Example: Fibre Channel example back-end entries</strong></paragraph>
                    <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">[pool-a]
lenovo_backend_name = A
volume_backend_name = lenovo-array
volume_driver = cinder.volume.drivers.lenovo.lenovo_fc.LenovoFCDriver
san_ip = 10.1.2.3
san_login = manage
san_password = !manage

[pool-b]
lenovo_backend_name = B
volume_backend_name = lenovo-array
volume_driver = cinder.volume.drivers.lenovo.lenovo_fc.LenovoFCDriver
san_ip = 10.1.2.3
san_login = manage
san_password = !manage</literal_block>
                </list_item>
                <list_item>
                    <paragraph>If HTTPS is not enabled in the array, include
                        <literal>lenovo_api_protocol = http</literal> in each of the back-end definitions.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>If HTTPS is enabled, you can enable certificate verification with the
                        option <literal>lenovo_verify_certificate=True</literal>. You may also use the
                        <literal>lenovo_verify_certificate_path</literal> parameter to specify the path to a
                        CA_BUNDLE file containing CAs other than those in the default list.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Modify the <literal>[DEFAULT]</literal> section of the <literal>cinder.conf</literal> file to add an
                        <literal>enabled_backends</literal> parameter specifying the back-end entries you added,
                        and a <literal>default_volume_type</literal> parameter specifying the name of a volume
                        type that you will create in the next step.</paragraph>
                    <paragraph><strong>Example: [DEFAULT] section changes</strong></paragraph>
                    <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">[DEFAULT]
# ...
enabled_backends = pool-a,pool-b
default_volume_type = lenovo</literal_block>
                </list_item>
                <list_item>
                    <paragraph>Create a new volume type for each distinct <literal>volume_backend_name</literal> value
                        that you added to the <literal>cinder.conf</literal> file. The example below
                        assumes that the same <literal>volume_backend_name=lenovo-array</literal>
                        option was specified in all of the
                        entries, and specifies that the volume type <literal>lenovo</literal> can be used to
                        allocate volumes from any of them.</paragraph>
                    <paragraph><strong>Example: Creating a volume type</strong></paragraph>
                    <literal_block highlight_args="{}" language="console" linenos="False" xml:space="preserve">$ openstack volume type create lenovo
$ openstack volume type set --property volume_backend_name=lenovo-array lenovo</literal_block>
                </list_item>
                <list_item>
                    <paragraph>After modifying the <literal>cinder.conf</literal> file,
                        restart the <literal>cinder-volume</literal> service.</paragraph>
                </list_item>
            </enumerated_list>
        </section>
        <section ids="driver-specific-options" names="driver-specific\ options">
            <title>Driver-specific options</title>
            <paragraph>The following table contains the configuration options that are specific
                to the Lenovo drivers.</paragraph>
            <comment xml:space="preserve">Warning: Do not edit this file. It is automatically generated from the
software project's code and your changes will be overwritten.

The tool to generate this file lives in openstack-doc-tools repository.

Please make any changes needed in the code, then run the
autogenerate-config-doc tool from the openstack-doc-tools repository, or
ask for help on the documentation mailing list, IRC channel or meeting.</comment>
            <target refid="cinder-lenovo"></target>
            <table classes="config-ref-table" ids="id1 cinder-lenovo" names="cinder-lenovo">
                <title>Description of Lenovo volume driver configuration options</title>
                <tgroup cols="2">
                    <colspec colwidth="50"></colspec>
                    <colspec colwidth="50"></colspec>
                    <thead>
                        <row>
                            <entry>
                                <paragraph>Configuration option = Default value</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Description</paragraph>
                            </entry>
                        </row>
                    </thead>
                    <tbody>
                        <row>
                            <entry>
                                <paragraph><strong>[DEFAULT]</strong></paragraph>
                            </entry>
                            <entry>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>lenovo_api_protocol</literal> = <literal>https</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(String) Lenovo api interface protocol.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>lenovo_backend_name</literal> = <literal>A</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(String) Pool or Vdisk name to use for volume creation.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>lenovo_backend_type</literal> = <literal>virtual</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(String) linear (for VDisk) or virtual (for Pool).</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>lenovo_iscsi_ips</literal> =</paragraph>
                            </entry>
                            <entry>
                                <paragraph>(List) List of comma-separated target iSCSI IP addresses.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>lenovo_verify_certificate</literal> = <literal>False</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(Boolean) Whether to verify Lenovo array SSL certificate.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>lenovo_verify_certificate_path</literal> = <literal>None</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(String) Lenovo array SSL certificate path.</paragraph>
                            </entry>
                        </row>
                    </tbody>
                </tgroup>
            </table>
        </section>
    </section>
</document>
