<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.13.1 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/cinder/doc/source/configuration/block-storage/drivers/zte-storage-driver.rst">
    <section ids="zte-volume-drivers" names="zte\ volume\ drivers">
        <title>ZTE volume drivers</title>
        <paragraph>The ZTE volume drivers allow ZTE KS3200 or KU5200 arrays
            to be used for Block Storage in OpenStack deployments.</paragraph>
        <section ids="system-requirements" names="system\ requirements">
            <title>System requirements</title>
            <paragraph>To use the ZTE drivers, the following prerequisites:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>ZTE KS3200 or KU5200 array with:</paragraph>
                    <bullet_list bullet="-">
                        <list_item>
                            <paragraph>iSCSI or FC interfaces</paragraph>
                        </list_item>
                        <list_item>
                            <paragraph>30B2 firmware or later</paragraph>
                        </list_item>
                    </bullet_list>
                </list_item>
                <list_item>
                    <paragraph>Network connectivity between the OpenStack host and the array
                        management interfaces</paragraph>
                </list_item>
                <list_item>
                    <paragraph>HTTPS or HTTP must be enabled on the array</paragraph>
                </list_item>
            </bullet_list>
        </section>
        <section ids="supported-operations" names="supported\ operations">
            <title>Supported operations</title>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>Create, delete, attach, and detach volumes.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Create, list, and delete volume snapshots.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Create a volume from a snapshot.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Copy an image to a volume.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Copy a volume to an image.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Clone a volume.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Extend a volume.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Migrate a volume with back-end assistance.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Retype a volume.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Manage and unmanage a volume.</paragraph>
                </list_item>
            </bullet_list>
        </section>
        <section ids="configuring-the-array" names="configuring\ the\ array">
            <title>Configuring the array</title>
            <enumerated_list enumtype="arabic" prefix="" suffix=".">
                <list_item>
                    <paragraph>Verify that the array can be managed using an HTTPS connection. HTTP can
                        also be used if <literal>zte_api_protocol=http</literal> is placed into the
                        appropriate sections of the <literal>cinder.conf</literal> file.</paragraph>
                    <paragraph>Confirm that virtual pools A and B are present if you plan to use
                        virtual pools for OpenStack storage.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Edit the <literal>cinder.conf</literal> file to define a storage back-end entry for
                        each storage pool on the array that will be managed by OpenStack. Each
                        entry consists of a unique section name, surrounded by square brackets,
                        followed by options specified in <literal>key=value</literal> format.</paragraph>
                    <bullet_list bullet="-">
                        <list_item>
                            <paragraph>The <literal>zte_backend_name</literal> value specifies the name of the storage
                                pool on the array.</paragraph>
                        </list_item>
                        <list_item>
                            <paragraph>The <literal>volume_backend_name</literal> option value can be a unique value, if
                                you wish to be able to assign volumes to a specific storage pool on
                                the array, or a name that is shared among multiple storage pools to
                                let the volume scheduler choose where new volumes are allocated.</paragraph>
                        </list_item>
                        <list_item>
                            <paragraph>The rest of the options will be repeated for each storage pool in a
                                given array: the appropriate cinder driver name, IP address or
                                host name of the array management interface; the username and password
                                of an array user account with <literal>manage</literal> privileges; and the iSCSI IP
                                addresses for the array if using the iSCSI transport protocol.</paragraph>
                        </list_item>
                    </bullet_list>
                    <paragraph>In the examples below, two back ends are defined, one for pool A and one
                        for pool B, and a common <literal>volume_backend_name</literal>. Use this for a
                        single volume type definition can be used to allocate volumes from both
                        pools.</paragraph>
                    <paragraph><strong>Example: iSCSI back-end entries</strong></paragraph>
                    <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">[pool-a]
zte_backend_name = A
volume_backend_name = zte-array
volume_driver = cinder.volume.drivers.zte.zte_iscsi.ZTEISCSIDriver
san_ip = 10.1.2.3
san_login = manage
san_password = !manage
zte_iscsi_ips = 10.2.3.4,10.2.3.5

[pool-b]
zte_backend_name = B
volume_backend_name = zte-array
volume_driver = cinder.volume.drivers.zte.zte_iscsi.ZTEISCSIDriver
san_ip = 10.1.2.3
san_login = manage
san_password = !manage
zte_iscsi_ips = 10.2.3.4,10.2.3.5</literal_block>
                    <paragraph><strong>Example: Fibre Channel back end entries</strong></paragraph>
                    <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">[pool-a]
zte_backend_name = A
volume_backend_name = zte-array
volume_driver = cinder.volume.drivers.zte.zte_fc.ZTEFCDriver
san_ip = 10.1.2.3
san_login = manage
san_password = !manage

[pool-b]
zte_backend_name = B
volume_backend_name = zte-array
volume_driver = cinder.volume.drivers.zte.zte_fc.ZTEFCDriver
san_ip = 10.1.2.3
san_login = manage
san_password = !manage</literal_block>
                </list_item>
                <list_item>
                    <paragraph>If HTTPS is not enabled in the array, include
                        <literal>zte_api_protocol = http</literal> in each of the back-end definitions.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>If HTTPS is enabled, you can enable certificate verification with the
                        option <literal>zte_verify_certificate=True</literal>. You may also use the
                        <literal>zte_verify_certificate_path</literal> parameter to specify the path to a
                        <literal>CA_BUNDLE</literal> file containing CAs other than those in the default list.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Modify the <literal>[DEFAULT]</literal> section of the <literal>cinder.conf</literal> file to add an
                        <literal>enabled_backends</literal> parameter specifying the back-end entries you added,
                        and a <literal>default_volume_type</literal> parameter specifying the name of a volume
                        type that you will create in the next step.</paragraph>
                    <paragraph><strong>Example: [DEFAULT] section changes</strong></paragraph>
                    <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">[DEFAULT]
# ...
enabled_backends = pool-a,pool-b
default_volume_type = zte</literal_block>
                </list_item>
                <list_item>
                    <paragraph>Create a new volume type for each distinct <literal>volume_backend_name</literal> value
                        that you added to the <literal>cinder.conf</literal> file. The example below
                        assumes that the same <literal>volume_backend_name=zte-array</literal>
                        option was specified in all of the
                        entries, and specifies that the volume type <literal>zte</literal> can be used to
                        allocate volumes from any of them.</paragraph>
                    <paragraph><strong>Example: Creating a volume type</strong></paragraph>
                    <literal_block highlight_args="{}" language="console" linenos="False" xml:space="preserve">$ openstack volume type create zte
$ openstack volume type set --property volume_backend_name=zte-array zte</literal_block>
                </list_item>
                <list_item>
                    <paragraph>After modifying the <literal>cinder.conf</literal> file,
                        restart the <literal>cinder-volume</literal> service.</paragraph>
                </list_item>
            </enumerated_list>
        </section>
        <section ids="driver-specific-options" names="driver-specific\ options">
            <title>Driver-specific options</title>
            <paragraph>The following table contains the configuration options that are specific
                to the ZTE drivers.</paragraph>
            <comment xml:space="preserve">Warning: Do not edit this file. It is automatically generated from the
software project's code and your changes will be overwritten.

The tool to generate this file lives in openstack-doc-tools repository.

Please make any changes needed in the code, then run the
autogenerate-config-doc tool from the openstack-doc-tools repository, or
ask for help on the documentation mailing list, IRC channel or meeting.</comment>
            <target refid="cinder-zte"></target>
            <table classes="config-ref-table" ids="id1 cinder-zte" names="cinder-zte">
                <title>Description of Zte volume driver configuration options</title>
                <tgroup cols="2">
                    <colspec colwidth="50"></colspec>
                    <colspec colwidth="50"></colspec>
                    <thead>
                        <row>
                            <entry>
                                <paragraph>Configuration option = Default value</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Description</paragraph>
                            </entry>
                        </row>
                    </thead>
                    <tbody>
                        <row>
                            <entry>
                                <paragraph><strong>[DEFAULT]</strong></paragraph>
                            </entry>
                            <entry>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>zteAheadReadSize</literal> = <literal>8</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(Integer) Cache readahead size.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>zteCachePolicy</literal> = <literal>1</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(Integer) Cache policy. 0, Write Back; 1, Write Through.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>zteChunkSize</literal> = <literal>4</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(Integer) Virtual block size of pool. Unit : KB. Valid value : 4, 8, 16, 32, 64, 128, 256, 512.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>zteControllerIP0</literal> = <literal>None</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(IP) Main controller IP.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>zteControllerIP1</literal> = <literal>None</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(IP) Slave controller IP.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>zteLocalIP</literal> = <literal>None</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(IP) Local IP.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>ztePoolVoAllocatedPolicy</literal> = <literal>0</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(Integer) Pool volume allocated policy. 0, Auto; 1, High Performance Tier First; 2, Performance Tier First; 3, Capacity Tier First.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>ztePoolVolAlarmStopAllocatedFlag</literal> = <literal>0</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(Integer) Pool volume alarm stop allocated flag.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>ztePoolVolAlarmThreshold</literal> = <literal>0</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(Integer) Pool volume alarm threshold. [0, 100]</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>ztePoolVolInitAllocatedCapacity</literal> = <literal>0</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(Integer) Pool volume init allocated Capacity.Unit : KB.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>ztePoolVolIsThin</literal> = <literal>False</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(Integer) Whether it is a thin volume.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>ztePoolVolMovePolicy</literal> = <literal>0</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(Integer) Pool volume move policy.0, Auto; 1, Highest Available; 2, Lowest Available; 3, No Relocation.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>zteSSDCacheSwitch</literal> = <literal>1</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(Integer) SSD cache switch. 0, OFF; 1, ON.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>zteStoragePool</literal> =</paragraph>
                            </entry>
                            <entry>
                                <paragraph>(List) Pool name list.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>zteUserName</literal> = <literal>None</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(String) User name.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>zteUserPassword</literal> = <literal>None</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(String) User password.</paragraph>
                            </entry>
                        </row>
                    </tbody>
                </tgroup>
            </table>
        </section>
    </section>
</document>
