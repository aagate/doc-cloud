<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.13.1 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/cinder/doc/source/configuration/block-storage/drivers/infinidat-volume-driver.rst">
    <section ids="infinidat-infinibox-block-storage-driver" names="infinidat\ infinibox\ block\ storage\ driver">
        <title>INFINIDAT InfiniBox Block Storage driver</title>
        <paragraph>The INFINIDAT Block Storage volume driver provides iSCSI and Fibre Channel
            support for INFINIDAT InfiniBox storage systems.</paragraph>
        <paragraph>This section explains how to configure the INFINIDAT driver.</paragraph>
        <section ids="supported-operations" names="supported\ operations">
            <title>Supported operations</title>
            <bullet_list bullet="*">
                <list_item>
                    <paragraph>Create, delete, attach, and detach volumes.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Create, list, and delete volume snapshots.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Create a volume from a snapshot.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Copy a volume to an image.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Copy an image to a volume.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Clone a volume.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Extend a volume.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Get volume statistics.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Create, modify, delete, and list consistency groups.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Create, modify, delete, and list snapshots of consistency groups.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Create consistency group from consistency group or consistency group
                        snapshot.</paragraph>
                </list_item>
            </bullet_list>
        </section>
        <section ids="external-package-installation" names="external\ package\ installation">
            <title>External package installation</title>
            <paragraph>The driver requires the <literal>infinisdk</literal> package for communicating with
                InfiniBox systems. Install the package from PyPI using the following command:</paragraph>
            <literal_block highlight_args="{}" language="console" linenos="False" xml:space="preserve">$ pip install infinisdk</literal_block>
        </section>
        <section ids="setting-up-the-storage-array" names="setting\ up\ the\ storage\ array">
            <title>Setting up the storage array</title>
            <paragraph>Create a storage pool object on the InfiniBox array in advance.
                The storage pool will contain volumes managed by OpenStack.
                Refer to the InfiniBox manuals for details on pool management.</paragraph>
        </section>
        <section ids="driver-configuration" names="driver\ configuration">
            <title>Driver configuration</title>
            <paragraph>Edit the <literal>cinder.conf</literal> file, which is usually located under the following
                path <literal>/etc/cinder/cinder.conf</literal>.</paragraph>
            <bullet_list bullet="*">
                <list_item>
                    <paragraph>Add a section for the INFINIDAT driver back end.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Under the <literal>[DEFAULT]</literal> section, set the <literal>enabled_backends</literal> parameter with
                        the name of the new back-end section.</paragraph>
                </list_item>
            </bullet_list>
            <paragraph>Configure the driver back-end section with the parameters below.</paragraph>
            <bullet_list bullet="*">
                <list_item>
                    <paragraph>Configure the driver name by setting the following parameter:</paragraph>
                    <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">volume_driver = cinder.volume.drivers.infinidat.InfiniboxVolumeDriver</literal_block>
                </list_item>
                <list_item>
                    <paragraph>Configure the management IP of the InfiniBox array by adding the following
                        parameter:</paragraph>
                    <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">san_ip = InfiniBox management IP</literal_block>
                </list_item>
                <list_item>
                    <paragraph>Configure user credentials.</paragraph>
                    <paragraph>The driver requires an InfiniBox user with administrative privileges.
                        We recommend creating a dedicated OpenStack user account
                        that holds an administrative user role.
                        Refer to the InfiniBox manuals for details on user account management.
                        Configure the user credentials by adding the following parameters:</paragraph>
                    <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">san_login = infinibox_username
san_password = infinibox_password</literal_block>
                </list_item>
                <list_item>
                    <paragraph>Configure the name of the InfiniBox pool by adding the following parameter:</paragraph>
                    <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">infinidat_pool_name = Pool defined in InfiniBox</literal_block>
                </list_item>
                <list_item>
                    <paragraph>The back-end name is an identifier for the back end.
                        We recommend using the same name as the name of the section.
                        Configure the back-end name by adding the following parameter:</paragraph>
                    <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">volume_backend_name = back-end name</literal_block>
                </list_item>
                <list_item>
                    <paragraph>Thin provisioning.</paragraph>
                    <paragraph>The INFINIDAT driver supports creating thin or thick provisioned volumes.
                        Configure thin or thick provisioning by adding the following parameter:</paragraph>
                    <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">san_thin_provision = true/false</literal_block>
                    <paragraph>This parameter defaults to <literal>true</literal>.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Configure the connectivity protocol.</paragraph>
                    <paragraph>The InfiniBox driver supports connection to the InfiniBox system in both
                        the fibre channel and iSCSI protocols.
                        Configure the desired protocol by adding the following parameter:</paragraph>
                    <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">infinidat_storage_protocol = iscsi/fc</literal_block>
                    <paragraph>This parameter defaults to <literal>fc</literal>.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Configure iSCSI netspaces.</paragraph>
                    <paragraph>When using the iSCSI protocol to connect to InfiniBox systems, you must
                        configure one or more iSCSI network spaces in the InfiniBox storage array.
                        Refer to the InfiniBox manuals for details on network space management.
                        Configure the names of the iSCSI network spaces to connect to by adding
                        the following parameter:</paragraph>
                    <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">infinidat_iscsi_netspaces = iscsi_netspace</literal_block>
                    <paragraph>Multiple network spaces can be specified by a comma separated string.</paragraph>
                    <paragraph>This parameter is ignored when using the FC protocol.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Configure CHAP</paragraph>
                    <paragraph>InfiniBox supports CHAP authentication when using the iSCSI protocol. To
                        enable CHAP authentication, add the following parameter:</paragraph>
                    <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">use_chap_auth = true</literal_block>
                    <paragraph>To manually define the username and password, add the following parameters:</paragraph>
                    <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">chap_username = username
chap_password = password</literal_block>
                    <paragraph>If the CHAP username or password are not defined, they will be
                        auto-generated by the driver.</paragraph>
                    <paragraph>The CHAP parameters are ignored when using the FC protocol.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Volume compression</paragraph>
                    <paragraph>Volume compression is disabled by default.
                        To enable volume compression, add the following parameter:</paragraph>
                    <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">infinidat_use_compression = true</literal_block>
                    <paragraph>Volume compression is available on InfiniBox 3.0 onward.</paragraph>
                </list_item>
            </bullet_list>
        </section>
        <section ids="configuration-example" names="configuration\ example">
            <title>Configuration example</title>
            <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">[DEFAULT]
enabled_backends = infinidat-pool-a

[infinidat-pool-a]
volume_driver = cinder.volume.drivers.infinidat.InfiniboxVolumeDriver
volume_backend_name = infinidat-pool-a
san_ip = 10.1.2.3
san_login = openstackuser
san_password = openstackpass
san_thin_provision = true
infinidat_pool_name = pool-a
infinidat_storage_protocol = iscsi
infinidat_iscsi_netspaces = default_iscsi_space</literal_block>
        </section>
        <section ids="driver-specific-options" names="driver-specific\ options">
            <title>Driver-specific options</title>
            <paragraph>The following table contains the configuration options that are specific
                to the INFINIDAT driver.</paragraph>
            <comment xml:space="preserve">Warning: Do not edit this file. It is automatically generated from the
software project's code and your changes will be overwritten.

The tool to generate this file lives in openstack-doc-tools repository.

Please make any changes needed in the code, then run the
autogenerate-config-doc tool from the openstack-doc-tools repository, or
ask for help on the documentation mailing list, IRC channel or meeting.</comment>
            <target refid="cinder-infinidat"></target>
            <table classes="config-ref-table" ids="id1 cinder-infinidat" names="cinder-infinidat">
                <title>Description of INFINIDAT InfiniBox volume driver configuration options</title>
                <tgroup cols="2">
                    <colspec colwidth="50"></colspec>
                    <colspec colwidth="50"></colspec>
                    <thead>
                        <row>
                            <entry>
                                <paragraph>Configuration option = Default value</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Description</paragraph>
                            </entry>
                        </row>
                    </thead>
                    <tbody>
                        <row>
                            <entry>
                                <paragraph><strong>[DEFAULT]</strong></paragraph>
                            </entry>
                            <entry>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>infinidat_pool_name</literal> = <literal>None</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>(String) Name of the pool from which volumes are allocated</paragraph>
                            </entry>
                        </row>
                    </tbody>
                </tgroup>
            </table>
        </section>
    </section>
</document>
