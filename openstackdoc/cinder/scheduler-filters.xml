<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.13.1 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/cinder/doc/source/scheduler-filters.rst">
    <section ids="cinder-scheduler-filters" names="cinder\ scheduler\ filters">
        <title>Cinder Scheduler Filters</title>
        <section ids="availabilityzonefilter" names="availabilityzonefilter">
            <title>AvailabilityZoneFilter</title>
            <paragraph>Filters Backends by availability zone.</paragraph>
        </section>
        <section ids="capabilitiesfilter" names="capabilitiesfilter">
            <title>CapabilitiesFilter</title>
            <paragraph>BackendFilter to work with resource (instance &amp; volume) type records.</paragraph>
        </section>
        <section ids="capacityfilter" names="capacityfilter">
            <title>CapacityFilter</title>
            <paragraph>Capacity filters based on volume backend’s capacity utilization.</paragraph>
        </section>
        <section ids="differentbackendfilter" names="differentbackendfilter">
            <title>DifferentBackendFilter</title>
            <paragraph>Schedule volume on a different back-end from a set of volumes.</paragraph>
        </section>
        <section ids="driverfilter" names="driverfilter">
            <title>DriverFilter</title>
            <paragraph>DriverFilter filters backend based on a ‘filter function’ and metrics.</paragraph>
            <paragraph>DriverFilter filters based on volume backend’s provided ‘filter function’
                and metrics.</paragraph>
        </section>
        <section ids="instancelocalityfilter" names="instancelocalityfilter">
            <title>InstanceLocalityFilter</title>
            <paragraph>Schedule volume on the same host as a given instance.</paragraph>
            <paragraph>This filter enables selection of a storage back-end located on the host
                where the instance’s hypervisor is running. This provides data locality:
                the instance and the volume are located on the same physical machine.</paragraph>
            <paragraph>In order to work:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>The Extended Server Attributes extension needs to be active in Nova (this
                        is by default), so that the ‘OS-EXT-SRV-ATTR:host’ property is returned
                        when requesting instance info.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Either an account with privileged rights for Nova must be configured in
                        Cinder configuration (configure a keystone authentication plugin in the
                        [nova] section), or the user making the call needs to have sufficient
                        rights (see ‘extended_server_attributes’ in Nova policy).</paragraph>
                </list_item>
            </bullet_list>
        </section>
        <section ids="jsonfilter" names="jsonfilter">
            <title>JsonFilter</title>
            <paragraph>Backend filter for simple JSON-based grammar for selecting backends.</paragraph>
        </section>
        <section ids="retryfilter" names="retryfilter">
            <title>RetryFilter</title>
            <paragraph>Filter out previously attempted hosts</paragraph>
            <paragraph>A host passes this filter if it has not already been attempted for
                scheduling. The scheduler needs to add previously attempted hosts
                to the ‘retry’ key of filter_properties in order for this to work
                correctly. For example:</paragraph>
            <literal_block xml:space="preserve">{
 'retry': {
           'backends': ['backend1', 'backend2'],
           'num_attempts': 3,
          }
}</literal_block>
        </section>
        <section ids="samebackendfilter" names="samebackendfilter">
            <title>SameBackendFilter</title>
            <paragraph>Schedule volume on the same back-end as another volume.</paragraph>
        </section>
    </section>
</document>
